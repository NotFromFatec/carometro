var KA=Object.defineProperty;var YA=(i,e,n)=>e in i?KA(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var Dt=(i,e,n)=>YA(i,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Af(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Kd={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function XA(){if(d_)return kl;d_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var m_;function ZA(){return m_||(m_=1,Kd.exports=XA()),Kd.exports}var v=ZA(),Yd={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function WA(){if(p_)return Oe;p_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,z={};function k(M,ae,de){this.props=M,this.context=ae,this.refs=z,this.updater=de||D}k.prototype.isReactComponent={},k.prototype.setState=function(M,ae){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ae,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=k.prototype;function Y(M,ae,de){this.props=M,this.context=ae,this.refs=z,this.updater=de||D}var G=Y.prototype=new q;G.constructor=Y,N(G,k.prototype),G.isPureReactComponent=!0;var W=Array.isArray,ie={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function I(M,ae,de,ue,le,be){return de=be.ref,{$$typeof:i,type:M,key:ae,ref:de!==void 0?de:null,props:be}}function x(M,ae){return I(M.type,ae,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function O(M){var ae={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return ae[de]})}var L=/\/+/g;function B(M,ae){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):ae.toString(36)}function j(){}function nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(j,j):(M.status="pending",M.then(function(ae){M.status==="pending"&&(M.status="fulfilled",M.value=ae)},function(ae){M.status==="pending"&&(M.status="rejected",M.reason=ae)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function rt(M,ae,de,ue,le){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var Ce=!1;if(M===null)Ce=!0;else switch(be){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(M.$$typeof){case i:case e:Ce=!0;break;case _:return Ce=M._init,rt(Ce(M._payload),ae,de,ue,le)}}if(Ce)return le=le(M),Ce=ue===""?"."+B(M,0):ue,W(le)?(de="",Ce!=null&&(de=Ce.replace(L,"$&/")+"/"),rt(le,ae,de,"",function(Je){return Je})):le!=null&&(C(le)&&(le=x(le,de+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(L,"$&/")+"/")+Ce)),ae.push(le)),1;Ce=0;var st=ue===""?".":ue+":";if(W(M))for(var Me=0;Me<M.length;Me++)ue=M[Me],be=st+B(ue,Me),Ce+=rt(ue,ae,de,be,le);else if(Me=A(M),typeof Me=="function")for(M=Me.call(M),Me=0;!(ue=M.next()).done;)ue=ue.value,be=st+B(ue,Me++),Ce+=rt(ue,ae,de,be,le);else if(be==="object"){if(typeof M.then=="function")return rt(nt(M),ae,de,ue,le);throw ae=String(M),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function oe(M,ae,de){if(M==null)return M;var ue=[],le=0;return rt(M,ue,"","",function(be){return ae.call(de,be,le++)}),ue}function ve(M){if(M._status===-1){var ae=M._result;ae=ae(),ae.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=ae)}if(M._status===1)return M._result.default;throw M._result}var he=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ve(){}return Oe.Children={map:oe,forEach:function(M,ae,de){oe(M,function(){ae.apply(this,arguments)},de)},count:function(M){var ae=0;return oe(M,function(){ae++}),ae},toArray:function(M){return oe(M,function(ae){return ae})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Oe.Component=k,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=Y,Oe.StrictMode=a,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(M){return function(){return M.apply(null,arguments)}},Oe.cloneElement=function(M,ae,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=N({},M.props),le=M.key,be=void 0;if(ae!=null)for(Ce in ae.ref!==void 0&&(be=void 0),ae.key!==void 0&&(le=""+ae.key),ae)!J.call(ae,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ae.ref===void 0||(ue[Ce]=ae[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=de;else if(1<Ce){for(var st=Array(Ce),Me=0;Me<Ce;Me++)st[Me]=arguments[Me+2];ue.children=st}return I(M.type,le,void 0,void 0,be,ue)},Oe.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Oe.createElement=function(M,ae,de){var ue,le={},be=null;if(ae!=null)for(ue in ae.key!==void 0&&(be=""+ae.key),ae)J.call(ae,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(le[ue]=ae[ue]);var Ce=arguments.length-2;if(Ce===1)le.children=de;else if(1<Ce){for(var st=Array(Ce),Me=0;Me<Ce;Me++)st[Me]=arguments[Me+2];le.children=st}if(M&&M.defaultProps)for(ue in Ce=M.defaultProps,Ce)le[ue]===void 0&&(le[ue]=Ce[ue]);return I(M,be,void 0,void 0,null,le)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(M){return{$$typeof:d,render:M}},Oe.isValidElement=C,Oe.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:ve}},Oe.memo=function(M,ae){return{$$typeof:g,type:M,compare:ae===void 0?null:ae}},Oe.startTransition=function(M){var ae=ie.T,de={};ie.T=de;try{var ue=M(),le=ie.S;le!==null&&le(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ve,he)}catch(be){he(be)}finally{ie.T=ae}},Oe.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Oe.use=function(M){return ie.H.use(M)},Oe.useActionState=function(M,ae,de){return ie.H.useActionState(M,ae,de)},Oe.useCallback=function(M,ae){return ie.H.useCallback(M,ae)},Oe.useContext=function(M){return ie.H.useContext(M)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(M,ae){return ie.H.useDeferredValue(M,ae)},Oe.useEffect=function(M,ae){return ie.H.useEffect(M,ae)},Oe.useId=function(){return ie.H.useId()},Oe.useImperativeHandle=function(M,ae,de){return ie.H.useImperativeHandle(M,ae,de)},Oe.useInsertionEffect=function(M,ae){return ie.H.useInsertionEffect(M,ae)},Oe.useLayoutEffect=function(M,ae){return ie.H.useLayoutEffect(M,ae)},Oe.useMemo=function(M,ae){return ie.H.useMemo(M,ae)},Oe.useOptimistic=function(M,ae){return ie.H.useOptimistic(M,ae)},Oe.useReducer=function(M,ae,de){return ie.H.useReducer(M,ae,de)},Oe.useRef=function(M){return ie.H.useRef(M)},Oe.useState=function(M){return ie.H.useState(M)},Oe.useSyncExternalStore=function(M,ae,de){return ie.H.useSyncExternalStore(M,ae,de)},Oe.useTransition=function(){return ie.H.useTransition()},Oe.version="19.0.0",Oe}var g_;function tp(){return g_||(g_=1,Yd.exports=WA()),Yd.exports}var S=tp();const kr=Af(S);var Xd={exports:{}},Ul={},Zd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function JA(){return y_||(y_=1,function(i){function e(oe,ve){var he=oe.length;oe.push(ve);e:for(;0<he;){var Ve=he-1>>>1,M=oe[Ve];if(0<o(M,ve))oe[Ve]=ve,oe[he]=M,he=Ve;else break e}}function n(oe){return oe.length===0?null:oe[0]}function a(oe){if(oe.length===0)return null;var ve=oe[0],he=oe.pop();if(he!==ve){oe[0]=he;e:for(var Ve=0,M=oe.length,ae=M>>>1;Ve<ae;){var de=2*(Ve+1)-1,ue=oe[de],le=de+1,be=oe[le];if(0>o(ue,he))le<M&&0>o(be,ue)?(oe[Ve]=be,oe[le]=he,Ve=le):(oe[Ve]=ue,oe[de]=he,Ve=de);else if(le<M&&0>o(be,he))oe[Ve]=be,oe[le]=he,Ve=le;else break e}}return ve}function o(oe,ve){var he=oe.sortIndex-ve.sortIndex;return he!==0?he:oe.id-ve.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,b=null,A=3,D=!1,N=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function G(oe){for(var ve=n(g);ve!==null;){if(ve.callback===null)a(g);else if(ve.startTime<=oe)a(g),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(g)}}function W(oe){if(z=!1,G(oe),!N)if(n(p)!==null)N=!0,nt();else{var ve=n(g);ve!==null&&rt(W,ve.startTime-oe)}}var ie=!1,J=-1,I=5,x=-1;function C(){return!(i.unstable_now()-x<I)}function O(){if(ie){var oe=i.unstable_now();x=oe;var ve=!0;try{e:{N=!1,z&&(z=!1,q(J),J=-1),D=!0;var he=A;try{t:{for(G(oe),b=n(p);b!==null&&!(b.expirationTime>oe&&C());){var Ve=b.callback;if(typeof Ve=="function"){b.callback=null,A=b.priorityLevel;var M=Ve(b.expirationTime<=oe);if(oe=i.unstable_now(),typeof M=="function"){b.callback=M,G(oe),ve=!0;break t}b===n(p)&&a(p),G(oe)}else a(p);b=n(p)}if(b!==null)ve=!0;else{var ae=n(g);ae!==null&&rt(W,ae.startTime-oe),ve=!1}}break e}finally{b=null,A=he,D=!1}ve=void 0}}finally{ve?L():ie=!1}}}var L;if(typeof Y=="function")L=function(){Y(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=O,L=function(){j.postMessage(null)}}else L=function(){k(O,0)};function nt(){ie||(ie=!0,L())}function rt(oe,ve){J=k(function(){oe(i.unstable_now())},ve)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(oe){oe.callback=null},i.unstable_continueExecution=function(){N||D||(N=!0,nt())},i.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<oe?Math.floor(1e3/oe):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(oe){switch(A){case 1:case 2:case 3:var ve=3;break;default:ve=A}var he=A;A=ve;try{return oe()}finally{A=he}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var he=A;A=oe;try{return ve()}finally{A=he}},i.unstable_scheduleCallback=function(oe,ve,he){var Ve=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ve+he:Ve):he=Ve,oe){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=he+M,oe={id:_++,callback:ve,priorityLevel:oe,startTime:he,expirationTime:M,sortIndex:-1},he>Ve?(oe.sortIndex=he,e(g,oe),n(p)===null&&oe===n(g)&&(z?(q(J),J=-1):z=!0,rt(W,he-Ve))):(oe.sortIndex=M,e(p,oe),N||D||(N=!0,nt())),oe},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(oe){var ve=A;return function(){var he=A;A=ve;try{return oe.apply(this,arguments)}finally{A=he}}}}(Wd)),Wd}var v_;function ew(){return v_||(v_=1,Zd.exports=JA()),Zd.exports}var Jd={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function tw(){if(__)return on;__=1;var i=tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},on.flushSync=function(p){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=_,a.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:D}):_==="script"&&a.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin);a.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},on.requestFormReset=function(p){a.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.0.0",on}var E_;function o0(){if(E_)return Jd.exports;E_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jd.exports=tw(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function nw(){if(T_)return Ul;T_=1;var i=ew(),e=tp(),n=o0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function x(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case d:return"Portal";case _:return"Profiler";case g:return"StrictMode";case z:return"Suspense";case k:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case N:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return r=t.displayName||null,r!==null?r:x(t.type)||"Memo";case Y:r=t._payload,t=t._init;try{return x(t(r))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,L,B;function j(t){if(L===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||"",B=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+t+B}var nt=!1;function rt(t,r){if(!t||nt)return"";nt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Q=X}Reflect.construct(t,[],se)}else{try{se.call()}catch(X){Q=X}t.call(se.prototype)}}else{try{throw Error()}catch(X){Q=X}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],w=m[1];if(T&&w){var V=T.split(`
`),P=w.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===P.length)for(l=V.length-1,f=P.length-1;1<=l&&0<=f&&V[l]!==P[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==P[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==P[f]){var Z=`
`+V[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{nt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?j(s):""}function oe(t){switch(t.tag){case 26:case 27:case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 15:return t=rt(t.type,!1),t;case 11:return t=rt(t.type.render,!1),t;case 1:return t=rt(t.type,!0),t;default:return""}}function ve(t){try{var r="";do r+=oe(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function he(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Ve(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function M(t){if(he(t)!==t)throw Error(a(188))}function ae(t){var r=t.alternate;if(!r){if(r=he(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return M(f),t;if(m===l)return M(f),r;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=m;else{for(var T=!1,w=f.child;w;){if(w===s){T=!0,s=f,l=m;break}if(w===l){T=!0,l=f,s=m;break}w=w.sibling}if(!T){for(w=m.child;w;){if(w===s){T=!0,s=m,l=f;break}if(w===l){T=!0,l=m,s=f;break}w=w.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function de(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=de(t),r!==null)return r;t=t.sibling}return null}var ue=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ce=[],st=-1;function Me(t){return{current:t}}function Je(t){0>st||(t.current=Ce[st],Ce[st]=null,st--)}function te(t,r){st++,Ce[st]=t.current,t.current=r}var Ae=Me(null),Ye=Me(null),Qe=Me(null),lt=Me(null);function Ke(t,r){switch(te(Qe,r),te(Ye,t),te(Ae,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Hv(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=Hv(t),r=qv(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Je(Ae),te(Ae,r)}function vn(){Je(Ae),Je(Ye),Je(Qe)}function rr(t){t.memoizedState!==null&&te(lt,t);var r=Ae.current,s=qv(r,t.type);r!==s&&(te(Ye,t),te(Ae,s))}function Ci(t){Ye.current===t&&(Je(Ae),Je(Ye)),lt.current===t&&(Je(lt),Ol._currentValue=be)}var xi=Object.prototype.hasOwnProperty,Hr=i.unstable_scheduleCallback,Ni=i.unstable_cancelCallback,Vo=i.unstable_shouldYield,xa=i.unstable_requestPaint,Kt=i.unstable_now,ms=i.unstable_getCurrentPriorityLevel,we=i.unstable_ImmediatePriority,ft=i.unstable_UserBlockingPriority,Bn=i.unstable_NormalPriority,Eu=i.unstable_LowPriority,jo=i.unstable_IdlePriority,Zf=i.log,Na=i.unstable_setDisableYieldValue,Di=null,an=null;function Mo(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Di,t,void 0,(t.current.flags&128)===128)}catch{}}function yr(t){if(typeof Zf=="function"&&Na(t),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Di,t)}catch{}}var hn=Math.clz32?Math.clz32:Su,Lo=Math.log,Tu=Math.LN2;function Su(t){return t>>>=0,t===0?32:31-(Lo(t)/Tu|0)|0}var vr=128,Ii=4194304;function ir(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zn(t,r){var s=t.pendingLanes;if(s===0)return 0;var l=0,f=t.suspendedLanes,m=t.pingedLanes,T=t.warmLanes;t=t.finishedLanes!==0;var w=s&134217727;return w!==0?(s=w&~f,s!==0?l=ir(s):(m&=w,m!==0?l=ir(m):t||(T=w&~T,T!==0&&(l=ir(T))))):(w=s&~f,w!==0?l=ir(w):m!==0?l=ir(m):t||(T=s&~T,T!==0&&(l=ir(T)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,T=r&-r,f>=T||f===32&&(T&4194176)!==0)?r:l}function Oi(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ps(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var t=vr;return vr<<=1,(vr&4194176)===0&&(vr=128),t}function Vi(){var t=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),t}function gs(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function At(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bu(t,r,s,l,f,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var w=t.entanglements,V=t.expirationTimes,P=t.hiddenUpdates;for(s=T&~s;0<s;){var Z=31-hn(s),se=1<<Z;w[Z]=0,V[Z]=-1;var Q=P[Z];if(Q!==null)for(P[Z]=null,Z=0;Z<Q.length;Z++){var X=Q[Z];X!==null&&(X.lane&=-536870913)}s&=~se}l!==0&&ji(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~r))}function ji(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-hn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function Mi(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-hn(s),f=1<<l;f&r|t[l]&r&&(t[l]|=r),s&=~f}}function Au(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:o_(t.type))}function Li(t,r){var s=le.p;try{return le.p=t,r()}finally{le.p=s}}var _r=Math.random().toString(36).slice(2),Bt="__reactFiber$"+_r,jt="__reactProps$"+_r,qr="__reactContainer$"+_r,Da="__reactEvents$"+_r,ys="__reactListeners$"+_r,Er="__reactHandles$"+_r,Uo="__reactResources$"+_r,ki="__reactMarker$"+_r;function Ia(t){delete t[Bt],delete t[jt],delete t[Da],delete t[ys],delete t[Er]}function ar(t){var r=t[Bt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[qr]||s[Bt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Gv(t);t!==null;){if(s=t[Bt])return s;t=Gv(t)}return r}t=s,s=t.parentNode}return null}function Fr(t){if(t=t[Bt]||t[qr]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ui(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function Pi(t){var r=t[Uo];return r||(r=t[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[ki]=!0}var Po=new Set,vs={};function Cn(t,r){_n(t,r),_n(t+"Capture",r)}function _n(t,r){for(vs[t]=r,t=0;t<r.length;t++)Po.add(r[t])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},zo={};function Ru(t){return xi.call(zo,t)?!0:xi.call(Bo,t)?!1:Wf.test(t)?zo[t]=!0:(Bo[t]=!0,!1)}function Bi(t,r,s){if(Ru(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function zi(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Hn(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jf(t){var r=Cu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Oa(t){t._valueTracker||(t._valueTracker=Jf(t))}function Ho(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Cu(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function _s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $r=/[\n"\\]/g;function Et(t){return t.replace($r,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Hi(t,r,s,l,f,m,T,w){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),r!=null?T==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+dn(r)):t.value!==""+dn(r)&&(t.value=""+dn(r)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),r!=null?Es(t,T,dn(r)):s!=null?Es(t,T,dn(s)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+dn(w):t.removeAttribute("name")}function Va(t,r,s,l,f,m,T,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;s=s!=null?""+dn(s):"",r=r!=null?""+dn(r):s,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Es(t,r,s){r==="number"&&_s(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Xe(t,r,s,l){if(t=t.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=r.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),r=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ja(t,r,s){if(r!=null&&(r=""+dn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+dn(s):""}function qi(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(ue(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=dn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function qn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var eh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||eh.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function xu(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&qo(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&qo(t,m,r[m])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(t){return nh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fn=null;function Ts(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gr=null,Qr=null;function Kr(t){var r=Fr(t);if(r&&(t=r.stateNode)){var s=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Hi(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(a(90));Hi(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Ho(l)}break e;case"textarea":ja(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Xe(t,!!s.multiple,r,!1)}}}var $o=!1;function Nu(t,r,s){if($o)return t(r,s);$o=!0;try{var l=t(r);return l}finally{if($o=!1,(Gr!==null||Qr!==null)&&(Ec(),Gr&&(r=Gr,t=Qr,Qr=Gr=null,Kr(r),t)))for(r=0;r<t.length;r++)Kr(t[r])}}function Ma(t,r){var s=t.stateNode;if(s===null)return null;var l=s[jt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var $n=!1;if(xn)try{var La={};Object.defineProperty(La,"passive",{get:function(){$n=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{$n=!1}var Sr=null,Fi=null,Yr=null;function Go(){if(Yr)return Yr;var t,r=Fi,s=r.length,l,f="value"in Sr?Sr.value:Sr.textContent,m=f.length;for(t=0;t<s&&r[t]===f[t];t++);var T=s-t;for(l=1;l<=T&&r[s-l]===f[m-l];l++);return Yr=f.slice(t,1<l?1-l:void 0)}function br(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ar(){return!0}function Qo(){return!1}function zt(t){function r(s,l,f,m,T){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ar:Qo,this.isPropagationStopped=Qo,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),r}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=zt(et),ka=O({},et,{view:0,detail:0}),Du=zt(ka),bs,As,wr,Ua=O({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(bs=t.screenX-wr.screenX,As=t.screenY-wr.screenY):As=bs=0,wr=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:As}}),Gn=zt(Ua),Iu=O({},Ua,{dataTransfer:0}),rh=zt(Iu),Pa=O({},ka,{relatedTarget:0}),ws=zt(Pa),Ko=O({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),Rs=zt(Ko),Ou=O({},et,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cs=zt(Ou),ih=O({},et,{data:0}),Yo=zt(ih),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ju[t])?!!r[t]:!1}function za(){return Xo}var Mu=O({},ka,{key:function(t){if(t.key){var r=Ba[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(t){return t.type==="keypress"?br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xs=zt(Mu),Lu=O({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=zt(Lu),Xr=O({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),ku=zt(Xr),Uu=O({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=zt(Uu),Bu=O({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ns=zt(Bu),mn=O({},et,{newState:0,oldState:0}),zu=zt(mn),Hu=[9,13,27,32],Rr=xn&&"CompositionEvent"in window,c=null;xn&&"documentMode"in document&&(c=document.documentMode);var y=xn&&"TextEvent"in window&&!c,E=xn&&(!Rr||c&&8<c&&11>=c),R=" ",F=!1;function K(t,r){switch(t){case"keyup":return Hu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function Mt(t,r){switch(t){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(F=!0,R);case"textInput":return t=r.data,t===R&&F?null:t;default:return null}}function qe(t,r){if(He)return t==="compositionend"||!Rr&&K(t,r)?(t=Go(),Yr=Fi=Sr=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ht[t.type]:r==="textarea"}function Zr(t,r,s,l){Gr?Qr?Qr.push(l):Qr=[l]:Gr=l,r=wc(r,"onChange"),0<r.length&&(s=new Ss("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var Yt=null,Cr=null;function Wo(t){kv(t,0)}function qu(t){var r=Ui(t);if(Ho(r))return t}function hg(t,r){if(t==="change")return r}var dg=!1;if(xn){var ah;if(xn){var sh="oninput"in document;if(!sh){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),sh=typeof mg.oninput=="function"}ah=sh}else ah=!1;dg=ah&&(!document.documentMode||9<document.documentMode)}function pg(){Yt&&(Yt.detachEvent("onpropertychange",gg),Cr=Yt=null)}function gg(t){if(t.propertyName==="value"&&qu(Cr)){var r=[];Zr(r,Cr,t,Ts(t)),Nu(Wo,r)}}function Ab(t,r,s){t==="focusin"?(pg(),Yt=r,Cr=s,Yt.attachEvent("onpropertychange",gg)):t==="focusout"&&pg()}function wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(Cr)}function Rb(t,r){if(t==="click")return qu(r)}function Cb(t,r){if(t==="input"||t==="change")return qu(r)}function xb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Nn=typeof Object.is=="function"?Object.is:xb;function Jo(t,r){if(Nn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!xi.call(r,f)||!Nn(t[f],r[f]))return!1}return!0}function yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vg(t,r){var s=yg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yg(s)}}function _g(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?_g(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=_s(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=_s(t.document)}return r}function oh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Nb(t,r){var s=Eg(r);r=t.focusedElem;var l=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&_g(r.ownerDocument.documentElement,r)){if(l!==null&&oh(r)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var f=r.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!s.extend&&m>l&&(f=l,l=m,m=f),f=vg(r,m);var T=vg(r,l);f&&T&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),s.removeAllRanges(),m>l?(s.addRange(t),s.extend(T.node,T.offset)):(t.setEnd(T.node,T.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Db=xn&&"documentMode"in document&&11>=document.documentMode,Ds=null,lh=null,el=null,uh=!1;function Tg(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;uh||Ds==null||Ds!==_s(l)||(l=Ds,"selectionStart"in l&&oh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Jo(el,l)||(el=l,l=wc(lh,"onSelect"),0<l.length&&(r=new Ss("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Ds)))}function Ha(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Is={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},ch={},Sg={};xn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function qa(t){if(ch[t])return ch[t];if(!Is[t])return t;var r=Is[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Sg)return ch[t]=r[s];return t}var bg=qa("animationend"),Ag=qa("animationiteration"),wg=qa("animationstart"),Ib=qa("transitionrun"),Ob=qa("transitionstart"),Vb=qa("transitioncancel"),Rg=qa("transitionend"),Cg=new Map,xg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function sr(t,r){Cg.set(t,r),Cn(r,[t])}var Qn=[],Os=0,fh=0;function Fu(){for(var t=Os,r=fh=Os=0;r<t;){var s=Qn[r];Qn[r++]=null;var l=Qn[r];Qn[r++]=null;var f=Qn[r];Qn[r++]=null;var m=Qn[r];if(Qn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&Ng(s,f,m)}}function $u(t,r,s,l){Qn[Os++]=t,Qn[Os++]=r,Qn[Os++]=s,Qn[Os++]=l,fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hh(t,r,s,l){return $u(t,r,s,l),Gu(t)}function $i(t,r){return $u(t,null,null,r),Gu(t)}function Ng(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;f&&r!==null&&t.tag===3&&(m=t.stateNode,f=31-hn(s),m=m.hiddenUpdates,t=m[f],t===null?m[f]=[r]:t.push(r),r.lane=s|536870912)}function Gu(t){if(50<wl)throw wl=0,vd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Vs={},Dg=new WeakMap;function Kn(t,r){if(typeof t=="object"&&t!==null){var s=Dg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ve(r)},Dg.set(t,r),r)}return{value:t,source:r,stack:ve(r)}}var js=[],Ms=0,Qu=null,Ku=0,Yn=[],Xn=0,Fa=null,Wr=1,Jr="";function $a(t,r){js[Ms++]=Ku,js[Ms++]=Qu,Qu=t,Ku=r}function Ig(t,r,s){Yn[Xn++]=Wr,Yn[Xn++]=Jr,Yn[Xn++]=Fa,Fa=t;var l=Wr;t=Jr;var f=32-hn(l)-1;l&=~(1<<f),s+=1;var m=32-hn(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Wr=1<<32-hn(r)+f|s<<f|l,Jr=m+t}else Wr=1<<m|s<<f|l,Jr=t}function dh(t){t.return!==null&&($a(t,1),Ig(t,1,0))}function mh(t){for(;t===Qu;)Qu=js[--Ms],js[Ms]=null,Ku=js[--Ms],js[Ms]=null;for(;t===Fa;)Fa=Yn[--Xn],Yn[Xn]=null,Jr=Yn[--Xn],Yn[Xn]=null,Wr=Yn[--Xn],Yn[Xn]=null}var pn=null,Xt=null,Ze=!1,or=null,xr=!1,ph=Error(a(519));function Ga(t){var r=Error(a(418,""));throw rl(Kn(r,t)),ph}function Og(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[Bt]=t,r[jt]=l,s){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Cl.length;s++)Pe(Cl[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Va(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Oa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),qi(r,l.value,l.defaultValue,l.children),Oa(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||zv(r.textContent,s)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Rc),r=!0):r=!1,r||Ga(t)}function Vg(t){for(pn=t.return;pn;)switch(pn.tag){case 3:case 27:xr=!0;return;case 5:case 13:xr=!1;return;default:pn=pn.return}}function tl(t){if(t!==pn)return!1;if(!Ze)return Vg(t),Ze=!0,!1;var r=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Md(t.type,t.memoizedProps)),s=!s),s&&(r=!0),r&&Xt&&Ga(t),Vg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Xt=ur(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Xt=null}}else Xt=pn?ur(t.stateNode.nextSibling):null;return!0}function nl(){Xt=pn=null,Ze=!1}function rl(t){or===null?or=[t]:or.push(t)}var il=Error(a(460)),jg=Error(a(474)),gh={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yu(){}function Lg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Yu,Yu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===il?Error(a(483)):t;default:if(typeof r.status=="string")r.then(Yu,Yu);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===il?Error(a(483)):t}throw al=r,il}}var al=null;function kg(){if(al===null)throw Error(a(459));var t=al;return al=null,t}var Ls=null,sl=0;function Xu(t){var r=sl;return sl+=1,Ls===null&&(Ls=[]),Lg(Ls,t,r)}function ol(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Zu(t,r){throw r.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ug(t){var r=t._init;return r(t._payload)}function Pg(t){function r(H,U){if(t){var $=H.deletions;$===null?(H.deletions=[U],H.flags|=16):$.push(U)}}function s(H,U){if(!t)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function l(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function f(H,U){return H=ra(H,U),H.index=0,H.sibling=null,H}function m(H,U,$){return H.index=$,t?($=H.alternate,$!==null?($=$.index,$<U?(H.flags|=33554434,U):$):(H.flags|=33554434,U)):(H.flags|=1048576,U)}function T(H){return t&&H.alternate===null&&(H.flags|=33554434),H}function w(H,U,$,ee){return U===null||U.tag!==6?(U=cd($,H.mode,ee),U.return=H,U):(U=f(U,$),U.return=H,U)}function V(H,U,$,ee){var ge=$.type;return ge===p?Z(H,U,$.props.children,ee,$.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Y&&Ug(ge)===U.type)?(U=f(U,$.props),ol(U,$),U.return=H,U):(U=pc($.type,$.key,$.props,null,H.mode,ee),ol(U,$),U.return=H,U)}function P(H,U,$,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=fd($,H.mode,ee),U.return=H,U):(U=f(U,$.children||[]),U.return=H,U)}function Z(H,U,$,ee,ge){return U===null||U.tag!==7?(U=ns($,H.mode,ee,ge),U.return=H,U):(U=f(U,$),U.return=H,U)}function se(H,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=cd(""+U,H.mode,$),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case h:return $=pc(U.type,U.key,U.props,null,H.mode,$),ol($,U),$.return=H,$;case d:return U=fd(U,H.mode,$),U.return=H,U;case Y:var ee=U._init;return U=ee(U._payload),se(H,U,$)}if(ue(U)||J(U))return U=ns(U,H.mode,$,null),U.return=H,U;if(typeof U.then=="function")return se(H,Xu(U),$);if(U.$$typeof===D)return se(H,hc(H,U),$);Zu(H,U)}return null}function Q(H,U,$,ee){var ge=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:w(H,U,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case h:return $.key===ge?V(H,U,$,ee):null;case d:return $.key===ge?P(H,U,$,ee):null;case Y:return ge=$._init,$=ge($._payload),Q(H,U,$,ee)}if(ue($)||J($))return ge!==null?null:Z(H,U,$,ee,null);if(typeof $.then=="function")return Q(H,U,Xu($),ee);if($.$$typeof===D)return Q(H,U,hc(H,$),ee);Zu(H,$)}return null}function X(H,U,$,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get($)||null,w(U,H,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case h:return H=H.get(ee.key===null?$:ee.key)||null,V(U,H,ee,ge);case d:return H=H.get(ee.key===null?$:ee.key)||null,P(U,H,ee,ge);case Y:var Le=ee._init;return ee=Le(ee._payload),X(H,U,$,ee,ge)}if(ue(ee)||J(ee))return H=H.get($)||null,Z(U,H,ee,ge,null);if(typeof ee.then=="function")return X(H,U,$,Xu(ee),ge);if(ee.$$typeof===D)return X(H,U,$,hc(U,ee),ge);Zu(U,ee)}return null}function _e(H,U,$,ee){for(var ge=null,Le=null,Ee=U,Re=U=0,$t=null;Ee!==null&&Re<$.length;Re++){Ee.index>Re?($t=Ee,Ee=null):$t=Ee.sibling;var We=Q(H,Ee,$[Re],ee);if(We===null){Ee===null&&(Ee=$t);break}t&&Ee&&We.alternate===null&&r(H,Ee),U=m(We,U,Re),Le===null?ge=We:Le.sibling=We,Le=We,Ee=$t}if(Re===$.length)return s(H,Ee),Ze&&$a(H,Re),ge;if(Ee===null){for(;Re<$.length;Re++)Ee=se(H,$[Re],ee),Ee!==null&&(U=m(Ee,U,Re),Le===null?ge=Ee:Le.sibling=Ee,Le=Ee);return Ze&&$a(H,Re),ge}for(Ee=l(Ee);Re<$.length;Re++)$t=X(Ee,H,Re,$[Re],ee),$t!==null&&(t&&$t.alternate!==null&&Ee.delete($t.key===null?Re:$t.key),U=m($t,U,Re),Le===null?ge=$t:Le.sibling=$t,Le=$t);return t&&Ee.forEach(function(ca){return r(H,ca)}),Ze&&$a(H,Re),ge}function De(H,U,$,ee){if($==null)throw Error(a(151));for(var ge=null,Le=null,Ee=U,Re=U=0,$t=null,We=$.next();Ee!==null&&!We.done;Re++,We=$.next()){Ee.index>Re?($t=Ee,Ee=null):$t=Ee.sibling;var ca=Q(H,Ee,We.value,ee);if(ca===null){Ee===null&&(Ee=$t);break}t&&Ee&&ca.alternate===null&&r(H,Ee),U=m(ca,U,Re),Le===null?ge=ca:Le.sibling=ca,Le=ca,Ee=$t}if(We.done)return s(H,Ee),Ze&&$a(H,Re),ge;if(Ee===null){for(;!We.done;Re++,We=$.next())We=se(H,We.value,ee),We!==null&&(U=m(We,U,Re),Le===null?ge=We:Le.sibling=We,Le=We);return Ze&&$a(H,Re),ge}for(Ee=l(Ee);!We.done;Re++,We=$.next())We=X(Ee,H,Re,We.value,ee),We!==null&&(t&&We.alternate!==null&&Ee.delete(We.key===null?Re:We.key),U=m(We,U,Re),Le===null?ge=We:Le.sibling=We,Le=We);return t&&Ee.forEach(function(QA){return r(H,QA)}),Ze&&$a(H,Re),ge}function bt(H,U,$,ee){if(typeof $=="object"&&$!==null&&$.type===p&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case h:e:{for(var ge=$.key;U!==null;){if(U.key===ge){if(ge=$.type,ge===p){if(U.tag===7){s(H,U.sibling),ee=f(U,$.props.children),ee.return=H,H=ee;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Y&&Ug(ge)===U.type){s(H,U.sibling),ee=f(U,$.props),ol(ee,$),ee.return=H,H=ee;break e}s(H,U);break}else r(H,U);U=U.sibling}$.type===p?(ee=ns($.props.children,H.mode,ee,$.key),ee.return=H,H=ee):(ee=pc($.type,$.key,$.props,null,H.mode,ee),ol(ee,$),ee.return=H,H=ee)}return T(H);case d:e:{for(ge=$.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){s(H,U.sibling),ee=f(U,$.children||[]),ee.return=H,H=ee;break e}else{s(H,U);break}else r(H,U);U=U.sibling}ee=fd($,H.mode,ee),ee.return=H,H=ee}return T(H);case Y:return ge=$._init,$=ge($._payload),bt(H,U,$,ee)}if(ue($))return _e(H,U,$,ee);if(J($)){if(ge=J($),typeof ge!="function")throw Error(a(150));return $=ge.call($),De(H,U,$,ee)}if(typeof $.then=="function")return bt(H,U,Xu($),ee);if($.$$typeof===D)return bt(H,U,hc(H,$),ee);Zu(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(s(H,U.sibling),ee=f(U,$),ee.return=H,H=ee):(s(H,U),ee=cd($,H.mode,ee),ee.return=H,H=ee),T(H)):s(H,U)}return function(H,U,$,ee){try{sl=0;var ge=bt(H,U,$,ee);return Ls=null,ge}catch(Ee){if(Ee===il)throw Ee;var Le=er(29,Ee,null,H.mode);return Le.lanes=ee,Le.return=H,Le}finally{}}}var Qa=Pg(!0),Bg=Pg(!1),ks=Me(null),Wu=Me(0);function zg(t,r){t=ci,te(Wu,t),te(ks,r),ci=t|r.baseLanes}function yh(){te(Wu,ci),te(ks,ks.current)}function vh(){ci=Wu.current,Je(ks),Je(Wu)}var Zn=Me(null),Nr=null;function Gi(t){var r=t.alternate;te(kt,kt.current&1),te(Zn,t),Nr===null&&(r===null||ks.current!==null||r.memoizedState!==null)&&(Nr=t)}function Hg(t){if(t.tag===22){if(te(kt,kt.current),te(Zn,t),Nr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Nr=t)}}else Qi()}function Qi(){te(kt,kt.current),te(Zn,Zn.current)}function ei(t){Je(Zn),Nr===t&&(Nr=null),Je(kt)}var kt=Me(0);function Ju(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var jb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},Mb=i.unstable_scheduleCallback,Lb=i.unstable_NormalPriority,Ut={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new jb,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&Mb(Lb,function(){t.controller.abort()})}var ul=null,Eh=0,Us=0,Ps=null;function kb(t,r){if(ul===null){var s=ul=[];Eh=0,Us=Rd(),Ps={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Eh++,r.then(qg,qg),r}function qg(){if(--Eh===0&&ul!==null){Ps!==null&&(Ps.status="fulfilled");var t=ul;ul=null,Us=0,Ps=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Ub(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Fg=C.S;C.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&kb(t,r),Fg!==null&&Fg(t,r)};var Ka=Me(null);function Th(){var t=Ka.current;return t!==null?t:ut.pooledCache}function ec(t,r){r===null?te(Ka,Ka.current):te(Ka,r.pool)}function $g(){var t=Th();return t===null?null:{parent:Ut._currentValue,pool:t}}var Ki=0,je=null,it=null,Ct=null,tc=!1,Bs=!1,Ya=!1,nc=0,cl=0,zs=null,Pb=0;function wt(){throw Error(a(321))}function Sh(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Nn(t[s],r[s]))return!1;return!0}function bh(t,r,s,l,f,m){return Ki=m,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,C.H=t===null||t.memoizedState===null?Xa:Yi,Ya=!1,m=s(l,f),Ya=!1,Bs&&(m=Qg(r,s,l,f)),Gg(t),m}function Gg(t){C.H=Dr;var r=it!==null&&it.next!==null;if(Ki=0,Ct=it=je=null,tc=!1,cl=0,zs=null,r)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&fc(t)&&(qt=!0))}function Qg(t,r,s,l){je=t;var f=0;do{if(Bs&&(zs=null),cl=0,Bs=!1,25<=f)throw Error(a(301));if(f+=1,Ct=it=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}C.H=Za,m=r(s,l)}while(Bs);return m}function Bb(){var t=C.H,r=t.useState()[0];return r=typeof r.then=="function"?fl(r):r,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(je.flags|=1024),r}function Ah(){var t=nc!==0;return nc=0,t}function wh(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Rh(t){if(tc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}tc=!1}Ki=0,Ct=it=je=null,Bs=!1,cl=nc=0,zs=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?je.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function xt(){if(it===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var r=Ct===null?je.memoizedState:Ct.next;if(r!==null)Ct=r,it=t;else{if(t===null)throw je.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ct===null?je.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}var rc;rc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fl(t){var r=cl;return cl+=1,zs===null&&(zs=[]),t=Lg(zs,t,r),r=je,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,C.H=r===null||r.memoizedState===null?Xa:Yi),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===D)return sn(t)}throw Error(a(438,String(t)))}function Ch(t){var r=null,s=je.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=rc(),je.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=W;return r.index++,s}function ti(t,r){return typeof r=="function"?r(t):r}function ac(t){var r=xt();return xh(r,it,t)}function xh(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var w=T=null,V=null,P=r,Z=!1;do{var se=P.lane&-536870913;if(se!==P.lane?(Fe&se)===se:(Ki&se)===se){var Q=P.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),se===Us&&(Z=!0);else if((Ki&Q)===Q){P=P.next,Q===Us&&(Z=!0);continue}else se={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},V===null?(w=V=se,T=m):V=V.next=se,je.lanes|=Q,ia|=Q;se=P.action,Ya&&s(m,se),m=P.hasEagerState?P.eagerState:s(m,se)}else Q={lane:se,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},V===null?(w=V=Q,T=m):V=V.next=Q,je.lanes|=se,ia|=se;P=P.next}while(P!==null&&P!==r);if(V===null?T=m:V.next=w,!Nn(m,t.memoizedState)&&(qt=!0,Z&&(s=Ps,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=V,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nh(t){var r=xt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,m=r.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);Nn(m,r.memoizedState)||(qt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,l]}function Kg(t,r,s){var l=je,f=xt(),m=Ze;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=r();var T=!Nn((it||f).memoizedState,s);if(T&&(f.memoizedState=s,qt=!0),f=f.queue,Oh(Zg.bind(null,l,f,t),[t]),f.getSnapshot!==r||T||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Hs(9,Xg.bind(null,l,f,s,r),{destroy:void 0},null),ut===null)throw Error(a(349));m||(Ki&60)!==0||Yg(l,r,s)}return s}function Yg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=je.updateQueue,r===null?(r=rc(),je.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Xg(t,r,s,l){r.value=s,r.getSnapshot=l,Wg(r)&&Jg(t)}function Zg(t,r,s){return s(function(){Wg(r)&&Jg(t)})}function Wg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Nn(t,s)}catch{return!0}}function Jg(t){var r=$i(t,2);r!==null&&gn(r,t,2)}function Dh(t){var r=En();if(typeof t=="function"){var s=t;if(t=s(),Ya){yr(!0);try{s()}finally{yr(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},r}function ey(t,r,s,l){return t.baseState=s,xh(t,it,typeof l=="function"?l:ti)}function zb(t,r,s,l,f){if(lc(t))throw Error(a(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};C.T!==null?s(!0):m.isTransition=!1,l(m),s=r.pending,s===null?(m.next=r.pending=m,ty(r,m)):(m.next=s.next,r.pending=s.next=m)}}function ty(t,r){var s=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=C.T,T={};C.T=T;try{var w=s(f,l),V=C.S;V!==null&&V(T,w),ny(t,r,w)}catch(P){Ih(t,r,P)}finally{C.T=m}}else try{m=s(f,l),ny(t,r,m)}catch(P){Ih(t,r,P)}}function ny(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ry(t,r,l)},function(l){return Ih(t,r,l)}):ry(t,r,s)}function ry(t,r,s){r.status="fulfilled",r.value=s,iy(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,ty(t,s)))}function Ih(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,iy(r),r=r.next;while(r!==l)}t.action=null}function iy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ay(t,r){return r}function sy(t,r){if(Ze){var s=ut.formState;if(s!==null){e:{var l=je;if(Ze){if(Xt){t:{for(var f=Xt,m=xr;f.nodeType!==8;){if(!m){f=null;break t}if(f=ur(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Xt=ur(f.nextSibling),l=f.data==="F!";break e}}Ga(l)}l=!1}l&&(r=s[0])}}return s=En(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:r},s.queue=l,s=Ay.bind(null,je,l),l.dispatch=s,l=Dh(!1),m=kh.bind(null,je,!1,l.queue),l=En(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,s=zb.bind(null,je,f,m,s),f.dispatch=s,l.memoizedState=t,[r,s,!1]}function oy(t){var r=xt();return ly(r,it,t)}function ly(t,r,s){r=xh(t,r,ay)[0],t=ac(ti)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?fl(r):r;var l=xt(),f=l.queue,m=f.dispatch;return s!==l.memoizedState&&(je.flags|=2048,Hs(9,Hb.bind(null,f,s),{destroy:void 0},null)),[r,m,t]}function Hb(t,r){t.action=r}function uy(t){var r=xt(),s=it;if(s!==null)return ly(r,s,t);xt(),r=r.memoizedState,s=xt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Hs(t,r,s,l){return t={tag:t,create:r,inst:s,deps:l,next:null},r=je.updateQueue,r===null&&(r=rc(),je.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function cy(){return xt().memoizedState}function sc(t,r,s,l){var f=En();je.flags|=t,f.memoizedState=Hs(1|r,s,{destroy:void 0},l===void 0?null:l)}function oc(t,r,s,l){var f=xt();l=l===void 0?null:l;var m=f.memoizedState.inst;it!==null&&l!==null&&Sh(l,it.memoizedState.deps)?f.memoizedState=Hs(r,s,m,l):(je.flags|=t,f.memoizedState=Hs(1|r,s,m,l))}function fy(t,r){sc(8390656,8,t,r)}function Oh(t,r){oc(2048,8,t,r)}function hy(t,r){return oc(4,2,t,r)}function dy(t,r){return oc(4,4,t,r)}function my(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function py(t,r,s){s=s!=null?s.concat([t]):null,oc(4,4,my.bind(null,r,t),s)}function Vh(){}function gy(t,r){var s=xt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Sh(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function yy(t,r){var s=xt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Sh(r,l[1]))return l[0];if(l=t(),Ya){yr(!0);try{t()}finally{yr(!1)}}return s.memoizedState=[l,r],l}function jh(t,r,s){return s===void 0||(Ki&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=_v(),je.lanes|=t,ia|=t,s)}function vy(t,r,s,l){return Nn(s,r)?s:ks.current!==null?(t=jh(t,s,l),Nn(t,r)||(qt=!0),t):(Ki&42)===0?(qt=!0,t.memoizedState=s):(t=_v(),je.lanes|=t,ia|=t,r)}function _y(t,r,s,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var T=C.T,w={};C.T=w,kh(t,!1,r,s);try{var V=f(),P=C.S;if(P!==null&&P(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=Ub(V,l);hl(t,r,Z,Vn(t))}else hl(t,r,l,Vn(t))}catch(se){hl(t,r,{then:function(){},status:"rejected",reason:se},Vn())}finally{le.p=m,C.T=T}}function qb(){}function Mh(t,r,s,l){if(t.tag!==5)throw Error(a(476));var f=Ey(t).queue;_y(t,f,r,be,s===null?qb:function(){return Ty(t),s(l)})}function Ey(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:be},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ty(t){var r=Ey(t).next.queue;hl(t,r,{},Vn())}function Lh(){return sn(Ol)}function Sy(){return xt().memoizedState}function by(){return xt().memoizedState}function Fb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Vn();t=Wi(s);var l=Ji(r,t,s);l!==null&&(gn(l,r,s),pl(l,r,s)),r={cache:_h()},t.payload=r;return}r=r.return}}function $b(t,r,s){var l=Vn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},lc(t)?wy(r,s):(s=hh(t,r,s,l),s!==null&&(gn(s,t,l),Ry(s,r,l)))}function Ay(t,r,s){var l=Vn();hl(t,r,s,l)}function hl(t,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(lc(t))wy(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,w=m(T,s);if(f.hasEagerState=!0,f.eagerState=w,Nn(w,T))return $u(t,r,f,0),ut===null&&Fu(),!1}catch{}finally{}if(s=hh(t,r,f,l),s!==null)return gn(s,t,l),Ry(s,r,l),!0}return!1}function kh(t,r,s,l){if(l={lane:2,revertLane:Rd(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(r)throw Error(a(479))}else r=hh(t,s,l,2),r!==null&&gn(r,t,2)}function lc(t){var r=t.alternate;return t===je||r!==null&&r===je}function wy(t,r){Bs=tc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Ry(t,r,s){if((s&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Mi(t,s)}}var Dr={readContext:sn,use:ic,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt};Dr.useCacheRefresh=wt,Dr.useMemoCache=wt,Dr.useHostTransitionStatus=wt,Dr.useFormState=wt,Dr.useActionState=wt,Dr.useOptimistic=wt;var Xa={readContext:sn,use:ic,useCallback:function(t,r){return En().memoizedState=[t,r===void 0?null:r],t},useContext:sn,useEffect:fy,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,sc(4194308,4,my.bind(null,r,t),s)},useLayoutEffect:function(t,r){return sc(4194308,4,t,r)},useInsertionEffect:function(t,r){sc(4,2,t,r)},useMemo:function(t,r){var s=En();r=r===void 0?null:r;var l=t();if(Ya){yr(!0);try{t()}finally{yr(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=En();if(s!==void 0){var f=s(r);if(Ya){yr(!0);try{s(r)}finally{yr(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=$b.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var r=En();return t={current:t},r.memoizedState=t},useState:function(t){t=Dh(t);var r=t.queue,s=Ay.bind(null,je,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Vh,useDeferredValue:function(t,r){var s=En();return jh(s,t,r)},useTransition:function(){var t=Dh(!1);return t=_y.bind(null,je,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=je,f=En();if(Ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ut===null)throw Error(a(349));(Fe&60)!==0||Yg(l,r,s)}f.memoizedState=s;var m={value:s,getSnapshot:r};return f.queue=m,fy(Zg.bind(null,l,m,t),[t]),l.flags|=2048,Hs(9,Xg.bind(null,l,m,s,r),{destroy:void 0},null),s},useId:function(){var t=En(),r=ut.identifierPrefix;if(Ze){var s=Jr,l=Wr;s=(l&~(1<<32-hn(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=nc++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=Pb++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return En().memoizedState=Fb.bind(null,je)}};Xa.useMemoCache=Ch,Xa.useHostTransitionStatus=Lh,Xa.useFormState=sy,Xa.useActionState=sy,Xa.useOptimistic=function(t){var r=En();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=kh.bind(null,je,!0,s),s.dispatch=r,[t,r]};var Yi={readContext:sn,use:ic,useCallback:gy,useContext:sn,useEffect:Oh,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:yy,useReducer:ac,useRef:cy,useState:function(){return ac(ti)},useDebugValue:Vh,useDeferredValue:function(t,r){var s=xt();return vy(s,it.memoizedState,t,r)},useTransition:function(){var t=ac(ti)[0],r=xt().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:Kg,useId:Sy};Yi.useCacheRefresh=by,Yi.useMemoCache=Ch,Yi.useHostTransitionStatus=Lh,Yi.useFormState=oy,Yi.useActionState=oy,Yi.useOptimistic=function(t,r){var s=xt();return ey(s,it,t,r)};var Za={readContext:sn,use:ic,useCallback:gy,useContext:sn,useEffect:Oh,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:yy,useReducer:Nh,useRef:cy,useState:function(){return Nh(ti)},useDebugValue:Vh,useDeferredValue:function(t,r){var s=xt();return it===null?jh(s,t,r):vy(s,it.memoizedState,t,r)},useTransition:function(){var t=Nh(ti)[0],r=xt().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:Kg,useId:Sy};Za.useCacheRefresh=by,Za.useMemoCache=Ch,Za.useHostTransitionStatus=Lh,Za.useFormState=uy,Za.useActionState=uy,Za.useOptimistic=function(t,r){var s=xt();return it!==null?ey(s,it,t,r):(s.baseState=t,[t,s.queue.dispatch])};function Uh(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:O({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ph={isMounted:function(t){return(t=t._reactInternals)?he(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Vn(),f=Wi(l);f.payload=r,s!=null&&(f.callback=s),r=Ji(t,f,l),r!==null&&(gn(r,t,l),pl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Vn(),f=Wi(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=Ji(t,f,l),r!==null&&(gn(r,t,l),pl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Vn(),l=Wi(s);l.tag=2,r!=null&&(l.callback=r),r=Ji(t,l,s),r!==null&&(gn(r,t,s),pl(r,t,s))}};function Cy(t,r,s,l,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!Jo(s,l)||!Jo(f,m):!0}function xy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Ph.enqueueReplaceState(r,r.state,null)}function Wa(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=O({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ny(t){uc(t)}function Dy(t){console.error(t)}function Iy(t){uc(t)}function cc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bh(t,r,s){return s=Wi(s),s.tag=3,s.payload={element:null},s.callback=function(){cc(t,r)},s}function Vy(t){return t=Wi(t),t.tag=3,t}function jy(t,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){Oy(r,s,l)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Oy(r,s,l),typeof f!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Gb(t,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&ml(r,s,f,!0),s=Zn.current,s!==null){switch(s.tag){case 13:return Nr===null?Td():s.alternate===null&&St===0&&(St=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===gh?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),bd(t,l,f)),!1;case 22:return s.flags|=65536,l===gh?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),bd(t,l,f)),!1}throw Error(a(435,s.tag))}return bd(t,l,f),Td(),!1}if(Ze)return r=Zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ph&&(t=Error(a(422),{cause:l}),rl(Kn(t,s)))):(l!==ph&&(r=Error(a(423),{cause:l}),rl(Kn(r,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Kn(l,s),f=Bh(t.stateNode,l,f),td(t,f),St!==4&&(St=2)),!1;var m=Error(a(520),{cause:l});if(m=Kn(m,s),bl===null?bl=[m]:bl.push(m),St!==4&&(St=2),r===null)return!0;l=Kn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Bh(s.stateNode,l,t),td(s,t),!1;case 1:if(r=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(aa===null||!aa.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Vy(f),jy(f,t,s,l),td(s,f),!1}s=s.return}while(s!==null);return!1}var My=Error(a(461)),qt=!1;function Zt(t,r,s,l){r.child=t===null?Bg(r,null,s,l):Qa(r,t.child,s,l)}function Ly(t,r,s,l,f){s=s.render;var m=r.ref;if("ref"in l){var T={};for(var w in l)w!=="ref"&&(T[w]=l[w])}else T=l;return es(r),l=bh(t,r,s,T,m,f),w=Ah(),t!==null&&!qt?(wh(t,r,f),ni(t,r,f)):(Ze&&w&&dh(r),r.flags|=1,Zt(t,r,l,f),r.child)}function ky(t,r,s,l,f){if(t===null){var m=s.type;return typeof m=="function"&&!ud(m)&&m.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=m,Uy(t,r,m,l,f)):(t=pc(s.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Yh(t,f)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:Jo,s(T,l)&&t.ref===r.ref)return ni(t,r,f)}return r.flags|=1,t=ra(m,l),t.ref=r.ref,t.return=r,r.child=t}function Uy(t,r,s,l,f){if(t!==null){var m=t.memoizedProps;if(Jo(m,l)&&t.ref===r.ref)if(qt=!1,r.pendingProps=l=m,Yh(t,f))(t.flags&131072)!==0&&(qt=!0);else return r.lanes=t.lanes,ni(t,r,f)}return zh(t,r,s,l,f)}function Py(t,r,s){var l=r.pendingProps,f=l.children,m=(r.stateNode._pendingVisibility&2)!==0,T=t!==null?t.memoizedState:null;if(dl(t,r),l.mode==="hidden"||m){if((r.flags&128)!==0){if(l=T!==null?T.baseLanes|s:s,t!==null){for(f=r.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return By(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(r,T!==null?T.cachePool:null),T!==null?zg(r,T):yh(),Hg(r);else return r.lanes=r.childLanes=536870912,By(t,r,T!==null?T.baseLanes|s:s,s)}else T!==null?(ec(r,T.cachePool),zg(r,T),Qi(),r.memoizedState=null):(t!==null&&ec(r,null),yh(),Qi());return Zt(t,r,f,s),r.child}function By(t,r,s,l){var f=Th();return f=f===null?null:{parent:Ut._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},t!==null&&ec(r,null),yh(),Hg(r),t!==null&&ml(t,r,l,!0),null}function dl(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=2097664)}}function zh(t,r,s,l,f){return es(r),s=bh(t,r,s,l,void 0,f),l=Ah(),t!==null&&!qt?(wh(t,r,f),ni(t,r,f)):(Ze&&l&&dh(r),r.flags|=1,Zt(t,r,s,f),r.child)}function zy(t,r,s,l,f,m){return es(r),r.updateQueue=null,s=Qg(r,l,s,f),Gg(t),l=Ah(),t!==null&&!qt?(wh(t,r,m),ni(t,r,m)):(Ze&&l&&dh(r),r.flags|=1,Zt(t,r,s,m),r.child)}function Hy(t,r,s,l,f){if(es(r),r.stateNode===null){var m=Vs,T=s.contextType;typeof T=="object"&&T!==null&&(m=sn(T)),m=new s(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ph,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Jh(r),T=s.contextType,m.context=typeof T=="object"&&T!==null?sn(T):Vs,m.state=r.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Uh(r,s,T,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Ph.enqueueReplaceState(m,m.state,null),yl(r,l,m,f),gl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var w=r.memoizedProps,V=Wa(s,w);m.props=V;var P=m.context,Z=s.contextType;T=Vs,typeof Z=="object"&&Z!==null&&(T=sn(Z));var se=s.getDerivedStateFromProps;Z=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||P!==T)&&xy(r,m,l,T),Zi=!1;var Q=r.memoizedState;m.state=Q,yl(r,l,m,f),gl(),P=r.memoizedState,w||Q!==P||Zi?(typeof se=="function"&&(Uh(r,s,se,l),P=r.memoizedState),(V=Zi||Cy(r,s,V,l,Q,P,T))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=P),m.props=l,m.state=P,m.context=T,l=V):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,ed(t,r),T=r.memoizedProps,Z=Wa(s,T),m.props=Z,se=r.pendingProps,Q=m.context,P=s.contextType,V=Vs,typeof P=="object"&&P!==null&&(V=sn(P)),w=s.getDerivedStateFromProps,(P=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==se||Q!==V)&&xy(r,m,l,V),Zi=!1,Q=r.memoizedState,m.state=Q,yl(r,l,m,f),gl();var X=r.memoizedState;T!==se||Q!==X||Zi||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof w=="function"&&(Uh(r,s,w,l),X=r.memoizedState),(Z=Zi||Cy(r,s,Z,l,Q,X,V)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,V)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),m.props=l,m.state=X,m.context=V,l=Z):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,dl(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=Qa(r,t.child,null,f),r.child=Qa(r,null,s,f)):Zt(t,r,s,f),r.memoizedState=m.state,t=r.child):t=ni(t,r,f),t}function qy(t,r,s,l){return nl(),r.flags|=256,Zt(t,r,s,l),r.child}var Hh={dehydrated:null,treeContext:null,retryLane:0};function qh(t){return{baseLanes:t,cachePool:$g()}}function Fh(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=tr),t}function Fy(t,r,s){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ze){if(f?Gi(r):Qi(),Ze){var w=Xt,V;if(V=w){e:{for(V=w,w=xr;V.nodeType!==8;){if(!w){w=null;break e}if(V=ur(V.nextSibling),V===null){w=null;break e}}w=V}w!==null?(r.memoizedState={dehydrated:w,treeContext:Fa!==null?{id:Wr,overflow:Jr}:null,retryLane:536870912},V=er(18,null,null,0),V.stateNode=w,V.return=r,r.child=V,pn=r,Xt=null,V=!0):V=!1}V||Ga(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?r.lanes=16:r.lanes=536870912,null;ei(r)}return w=l.children,l=l.fallback,f?(Qi(),f=r.mode,w=Gh({mode:"hidden",children:w},f),l=ns(l,f,s,null),w.return=r,l.return=r,w.sibling=l,r.child=w,f=r.child,f.memoizedState=qh(s),f.childLanes=Fh(t,T,s),r.memoizedState=Hh,l):(Gi(r),$h(r,w))}if(V=t.memoizedState,V!==null&&(w=V.dehydrated,w!==null)){if(m)r.flags&256?(Gi(r),r.flags&=-257,r=Qh(t,r,s)):r.memoizedState!==null?(Qi(),r.child=t.child,r.flags|=128,r=null):(Qi(),f=l.fallback,w=r.mode,l=Gh({mode:"visible",children:l.children},w),f=ns(f,w,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Qa(r,t.child,null,s),l=r.child,l.memoizedState=qh(s),l.childLanes=Fh(t,T,s),r.memoizedState=Hh,r=f);else if(Gi(r),w.data==="$!"){if(T=w.nextSibling&&w.nextSibling.dataset,T)var P=T.dgst;T=P,l=Error(a(419)),l.stack="",l.digest=T,rl({value:l,source:null,stack:null}),r=Qh(t,r,s)}else if(qt||ml(t,r,s,!1),T=(s&t.childLanes)!==0,qt||T){if(T=ut,T!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(T.suspendedLanes|s))!==0?0:l,l!==0&&l!==V.retryLane)throw V.retryLane=l,$i(t,l),gn(T,t,l),My}w.data==="$?"||Td(),r=Qh(t,r,s)}else w.data==="$?"?(r.flags|=128,r.child=t.child,r=oA.bind(null,t),w._reactRetry=r,r=null):(t=V.treeContext,Xt=ur(w.nextSibling),pn=r,Ze=!0,or=null,xr=!1,t!==null&&(Yn[Xn++]=Wr,Yn[Xn++]=Jr,Yn[Xn++]=Fa,Wr=t.id,Jr=t.overflow,Fa=r),r=$h(r,l.children),r.flags|=4096);return r}return f?(Qi(),f=l.fallback,w=r.mode,V=t.child,P=V.sibling,l=ra(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&31457280,P!==null?f=ra(P,f):(f=ns(f,w,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,w=t.child.memoizedState,w===null?w=qh(s):(V=w.cachePool,V!==null?(P=Ut._currentValue,V=V.parent!==P?{parent:P,pool:P}:V):V=$g(),w={baseLanes:w.baseLanes|s,cachePool:V}),f.memoizedState=w,f.childLanes=Fh(t,T,s),r.memoizedState=Hh,l):(Gi(r),s=t.child,t=s.sibling,s=ra(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(T=r.deletions,T===null?(r.deletions=[t],r.flags|=16):T.push(t)),r.child=s,r.memoizedState=null,s)}function $h(t,r){return r=Gh({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Gh(t,r){return gv(t,r,0,null)}function Qh(t,r,s){return Qa(r,t.child,null,s),t=$h(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function $y(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Zh(t.return,r,s)}function Kh(t,r,s,l,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=f)}function Gy(t,r,s){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Zt(t,r,l.children,s),l=kt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,s,r);else if(t.tag===19)$y(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(kt,l),f){case"forwards":for(s=r.child,f=null;s!==null;)t=s.alternate,t!==null&&Ju(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Kh(r,!1,f,s,m);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ju(t)===null){r.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Kh(r,!0,s,null,m);break;case"together":Kh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ni(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ia|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(ml(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=ra(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=ra(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Yh(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function Qb(t,r,s){switch(r.tag){case 3:Ke(r,r.stateNode.containerInfo),Xi(r,Ut,t.memoizedState.cache),nl();break;case 27:case 5:rr(r);break;case 4:Ke(r,r.stateNode.containerInfo);break;case 10:Xi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Fy(t,r,s):(Gi(r),t=ni(t,r,s),t!==null?t.sibling:null);Gi(r);break;case 19:var f=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(ml(t,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return Gy(t,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),te(kt,kt.current),l)break;return null;case 22:case 23:return r.lanes=0,Py(t,r,s);case 24:Xi(r,Ut,t.memoizedState.cache)}return ni(t,r,s)}function Qy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)qt=!0;else{if(!Yh(t,s)&&(r.flags&128)===0)return qt=!1,Qb(t,r,s);qt=(t.flags&131072)!==0}else qt=!1,Ze&&(r.flags&1048576)!==0&&Ig(r,Ku,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")ud(l)?(t=Wa(l,t),r.tag=1,r=Hy(null,r,l,t,s)):(r.tag=0,r=zh(null,r,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===N){r.tag=11,r=Ly(null,r,l,t,s);break e}else if(f===q){r.tag=14,r=ky(null,r,l,t,s);break e}}throw r=x(l)||l,Error(a(306,r,""))}}return r;case 0:return zh(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Wa(l,r.pendingProps),Hy(t,r,l,f,s);case 3:e:{if(Ke(r,r.stateNode.containerInfo),t===null)throw Error(a(387));var m=r.pendingProps;f=r.memoizedState,l=f.element,ed(t,r),yl(r,m,null,s);var T=r.memoizedState;if(m=T.cache,Xi(r,Ut,m),m!==f.cache&&Wh(r,[Ut],s,!0),gl(),m=T.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=qy(t,r,m,s);break e}else if(m!==l){l=Kn(Error(a(424)),r),rl(l),r=qy(t,r,m,s);break e}else for(Xt=ur(r.stateNode.containerInfo.firstChild),pn=r,Ze=!0,or=null,xr=!0,s=Bg(r,null,m,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(nl(),m===l){r=ni(t,r,s);break e}Zt(t,r,m,s)}r=r.child}return r;case 26:return dl(t,r),t===null?(s=Xv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ze||(s=r.type,t=r.pendingProps,l=Cc(Qe.current).createElement(s),l[Bt]=r,l[jt]=t,Wt(l,s,t),mt(l),r.stateNode=l):r.memoizedState=Xv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return rr(r),t===null&&Ze&&(l=r.stateNode=Qv(r.type,r.pendingProps,Qe.current),pn=r,xr=!0,Xt=ur(l.firstChild)),l=r.pendingProps.children,t!==null||Ze?Zt(t,r,l,s):r.child=Qa(r,null,l,s),dl(t,r),r.child;case 5:return t===null&&Ze&&((f=l=Xt)&&(l=bA(l,r.type,r.pendingProps,xr),l!==null?(r.stateNode=l,pn=r,Xt=ur(l.firstChild),xr=!1,f=!0):f=!1),f||Ga(r)),rr(r),f=r.type,m=r.pendingProps,T=t!==null?t.memoizedProps:null,l=m.children,Md(f,m)?l=null:T!==null&&Md(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=bh(t,r,Bb,null,null,s),Ol._currentValue=f),dl(t,r),Zt(t,r,l,s),r.child;case 6:return t===null&&Ze&&((t=s=Xt)&&(s=AA(s,r.pendingProps,xr),s!==null?(r.stateNode=s,pn=r,Xt=null,t=!0):t=!1),t||Ga(r)),null;case 13:return Fy(t,r,s);case 4:return Ke(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Qa(r,null,l,s):Zt(t,r,l,s),r.child;case 11:return Ly(t,r,r.type,r.pendingProps,s);case 7:return Zt(t,r,r.pendingProps,s),r.child;case 8:return Zt(t,r,r.pendingProps.children,s),r.child;case 12:return Zt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Xi(r,r.type,l.value),Zt(t,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,es(r),f=sn(f),l=l(f),r.flags|=1,Zt(t,r,l,s),r.child;case 14:return ky(t,r,r.type,r.pendingProps,s);case 15:return Uy(t,r,r.type,r.pendingProps,s);case 19:return Gy(t,r,s);case 22:return Py(t,r,s);case 24:return es(r),l=sn(Ut),t===null?(f=Th(),f===null&&(f=ut,m=_h(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),r.memoizedState={parent:l,cache:f},Jh(r),Xi(r,Ut,f)):((t.lanes&s)!==0&&(ed(t,r),yl(r,null,null,s),gl()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xi(r,Ut,l)):(l=m.cache,Xi(r,Ut,l),l!==f.cache&&Wh(r,[Ut],s,!0))),Zt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}var Xh=Me(null),Ja=null,ri=null;function Xi(t,r,s){te(Xh,r._currentValue),r._currentValue=s}function ii(t){t._currentValue=Xh.current,Je(Xh)}function Zh(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Wh(t,r,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var V=0;V<r.length;V++)if(w.context===r[V]){m.lanes|=s,w=m.alternate,w!==null&&(w.lanes|=s),Zh(m.return,s,t),l||(T=null);break e}m=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),Zh(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ml(t,r,s,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var w=f.type;Nn(f.pendingProps.value,T.value)||(t!==null?t.push(w):t=[w])}}else if(f===lt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}f=f.return}t!==null&&Wh(r,t,s,l),r.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function es(t){Ja=t,ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Ky(Ja,t)}function hc(t,r){return Ja===null&&es(t),Ky(t,r)}function Ky(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},ri===null){if(t===null)throw Error(a(308));ri=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ri=ri.next=r;return s}var Zi=!1;function Jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(gt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Gu(t),Ng(t,null,s),r}return $u(t,l,r,s),Gu(t)}function pl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Mi(t,s)}}function td(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?f=m=r:m=m.next=r}else f=m=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var nd=!1;function gl(){if(nd){var t=Ps;if(t!==null)throw t}}function yl(t,r,s,l){nd=!1;var f=t.updateQueue;Zi=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var V=w,P=V.next;V.next=null,T===null?m=P:T.next=P,T=V;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=P:w.next=P,Z.lastBaseUpdate=V))}if(m!==null){var se=f.baseState;T=0,Z=P=V=null,w=m;do{var Q=w.lane&-536870913,X=Q!==w.lane;if(X?(Fe&Q)===Q:(l&Q)===Q){Q!==0&&Q===Us&&(nd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var _e=t,De=w;Q=r;var bt=s;switch(De.tag){case 1:if(_e=De.payload,typeof _e=="function"){se=_e.call(bt,se,Q);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=De.payload,Q=typeof _e=="function"?_e.call(bt,se,Q):_e,Q==null)break e;se=O({},se,Q);break e;case 2:Zi=!0}}Q=w.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(P=Z=X,V=se):Z=Z.next=X,T|=Q;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(V=se),f.baseState=V,f.firstBaseUpdate=P,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),ia|=T,t.lanes=T,t.memoizedState=se}}function Yy(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Xy(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Yy(s[t],r)}function vl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var m=s.create,T=s.inst;l=m(),T.destroy=l}s=s.next}while(s!==f)}}catch(w){ot(r,r.return,w)}}function ea(t,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var T=l.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var V=s;try{w()}catch(P){ot(f,V,P)}}}l=l.next}while(l!==m)}}catch(P){ot(r,r.return,P)}}function Zy(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Xy(r,s)}catch(l){ot(t,t.return,l)}}}function Wy(t,r,s){s.props=Wa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ot(t,r,l)}}function ts(t,r){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof s=="function"?t.refCleanup=s(f):s.current=f}}catch(m){ot(t,r,m)}}function Dn(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){ot(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ot(t,r,f)}else s.current=null}function Jy(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){ot(t,t.return,f)}}function ev(t,r,s){try{var l=t.stateNode;vA(l,t.type,s,r),l[jt]=r}catch(f){ot(t,t.return,f)}}function tv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Rc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(id(t,r,s),t=t.sibling;t!==null;)id(t,r,s),t=t.sibling}function dc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(dc(t,r,s),t=t.sibling;t!==null;)dc(t,r,s),t=t.sibling}var ai=!1,Tt=!1,ad=!1,nv=typeof WeakSet=="function"?WeakSet:Set,Ft=null,rv=!1;function Kb(t,r){if(t=t.containerInfo,Vd=Vc,t=Eg(t),oh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,w=-1,V=-1,P=0,Z=0,se=t,Q=null;t:for(;;){for(var X;se!==s||f!==0&&se.nodeType!==3||(w=T+f),se!==m||l!==0&&se.nodeType!==3||(V=T+l),se.nodeType===3&&(T+=se.nodeValue.length),(X=se.firstChild)!==null;)Q=se,se=X;for(;;){if(se===t)break t;if(Q===s&&++P===f&&(w=T),Q===m&&++Z===l&&(V=T),(X=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=X}s=w===-1||V===-1?null:{start:w,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(jd={focusedElem:t,selectionRange:s},Vc=!1,Ft=r;Ft!==null;)if(r=Ft,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ft=t;else for(;Ft!==null;){switch(r=Ft,m=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=r,f=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var _e=Wa(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(_e,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(De){ot(s,s.return,De)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Ud(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Ft=t;break}Ft=r.return}return _e=rv,rv=!1,_e}function iv(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:oi(t,s),l&4&&vl(5,s);break;case 1:if(oi(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(w){ot(s,s.return,w)}else{var f=Wa(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(w){ot(s,s.return,w)}}l&64&&Zy(s),l&512&&ts(s,s.return);break;case 3:if(oi(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Xy(l,t)}catch(w){ot(s,s.return,w)}}break;case 26:oi(t,s),l&512&&ts(s,s.return);break;case 27:case 5:oi(t,s),r===null&&l&4&&Jy(s),l&512&&ts(s,s.return);break;case 12:oi(t,s);break;case 13:oi(t,s),l&4&&ov(t,s);break;case 22:if(f=s.memoizedState!==null||ai,!f){r=r!==null&&r.memoizedState!==null||Tt;var m=ai,T=Tt;ai=f,(Tt=r)&&!T?ta(t,s,(s.subtreeFlags&8772)!==0):oi(t,s),ai=m,Tt=T}l&512&&(s.memoizedProps.mode==="manual"?ts(s,s.return):Dn(s,s.return));break;default:oi(t,s)}}function av(t){var r=t.alternate;r!==null&&(t.alternate=null,av(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ia(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,In=!1;function si(t,r,s){for(s=s.child;s!==null;)sv(t,r,s),s=s.sibling}function sv(t,r,s){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Di,s)}catch{}switch(s.tag){case 26:Tt||Dn(s,r),si(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Tt||Dn(s,r);var l=Nt,f=In;for(Nt=s.stateNode,si(t,r,s),s=s.stateNode,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Ia(s),Nt=l,In=f;break;case 5:Tt||Dn(s,r);case 6:f=Nt;var m=In;if(Nt=null,si(t,r,s),Nt=f,In=m,Nt!==null)if(In)try{t=Nt,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(T){ot(s,r,T)}else try{Nt.removeChild(s.stateNode)}catch(T){ot(s,r,T)}break;case 18:Nt!==null&&(In?(r=Nt,s=s.stateNode,r.nodeType===8?kd(r.parentNode,s):r.nodeType===1&&kd(r,s),Ll(r)):kd(Nt,s.stateNode));break;case 4:l=Nt,f=In,Nt=s.stateNode.containerInfo,In=!0,si(t,r,s),Nt=l,In=f;break;case 0:case 11:case 14:case 15:Tt||ea(2,s,r),Tt||ea(4,s,r),si(t,r,s);break;case 1:Tt||(Dn(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Wy(s,r,l)),si(t,r,s);break;case 21:si(t,r,s);break;case 22:Tt||Dn(s,r),Tt=(l=Tt)||s.memoizedState!==null,si(t,r,s),Tt=l;break;default:si(t,r,s)}}function ov(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(s){ot(r,r.return,s)}}function Yb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new nv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new nv),r;default:throw Error(a(435,t.tag))}}function sd(t,r){var s=Yb(t);r.forEach(function(l){var f=lA.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function Wn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],m=t,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:case 5:Nt=w.stateNode,In=!1;break e;case 3:Nt=w.stateNode.containerInfo,In=!0;break e;case 4:Nt=w.stateNode.containerInfo,In=!0;break e}w=w.return}if(Nt===null)throw Error(a(160));sv(m,T,f),Nt=null,In=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)lv(r,t),r=r.sibling}var lr=null;function lv(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Wn(r,t),Jn(t),l&4&&(ea(3,t,t.return),vl(3,t),ea(5,t,t.return));break;case 1:Wn(r,t),Jn(t),l&512&&(Tt||s===null||Dn(s,s.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=lr;if(Wn(r,t),Jn(t),l&512&&(Tt||s===null||Dn(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ki]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Wt(m,l,s),m[Bt]=t,mt(m),l=m;break e;case"link":var T=Jv("link","href",f).get(l+(s.href||""));if(T){for(var w=0;w<T.length;w++)if(m=T[w],m.getAttribute("href")===(s.href==null?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(w,1);break t}}m=f.createElement(l),Wt(m,l,s),f.head.appendChild(m);break;case"meta":if(T=Jv("meta","content",f).get(l+(s.content||""))){for(w=0;w<T.length;w++)if(m=T[w],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(w,1);break t}}m=f.createElement(l),Wt(m,l,s),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[Bt]=t,mt(m),l=m}t.stateNode=l}else e_(f,t.type,t.stateNode);else t.stateNode=Wv(f,l,t.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?e_(f,t.type,t.stateNode):Wv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ev(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,m=t.memoizedProps;try{for(var V=f.firstChild;V;){var P=V.nextSibling,Z=V.nodeName;V[ki]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&V.rel.toLowerCase()==="stylesheet"||f.removeChild(V),V=P}for(var se=t.type,Q=f.attributes;Q.length;)f.removeAttributeNode(Q[0]);Wt(f,se,m),f[Bt]=t,f[jt]=m}catch(_e){ot(t,t.return,_e)}}case 5:if(Wn(r,t),Jn(t),l&512&&(Tt||s===null||Dn(s,s.return)),t.flags&32){f=t.stateNode;try{qn(f,"")}catch(_e){ot(t,t.return,_e)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,ev(t,f,s!==null?s.memoizedProps:f)),l&1024&&(ad=!0);break;case 6:if(Wn(r,t),Jn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(_e){ot(t,t.return,_e)}}break;case 3:if(Dc=null,f=lr,lr=xc(r.containerInfo),Wn(r,t),lr=f,Jn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ll(r.containerInfo)}catch(_e){ot(t,t.return,_e)}ad&&(ad=!1,uv(t));break;case 4:l=lr,lr=xc(t.stateNode.containerInfo),Wn(r,t),Jn(t),lr=l;break;case 12:Wn(r,t),Jn(t);break;case 13:Wn(r,t),Jn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(pd=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sd(t,l)));break;case 22:if(l&512&&(Tt||s===null||Dn(s,s.return)),V=t.memoizedState!==null,P=s!==null&&s.memoizedState!==null,Z=ai,se=Tt,ai=Z||V,Tt=se||P,Wn(r,t),Tt=se,ai=Z,Jn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=V?r._visibility&-2:r._visibility|1,V&&(r=ai||Tt,s===null||P||r||qs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(s===null){P=s=r;try{if(f=P.stateNode,V)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=P.stateNode,w=P.memoizedProps.style;var X=w!=null&&w.hasOwnProperty("display")?w.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){ot(P,P.return,_e)}}}else if(r.tag===6){if(s===null){P=r;try{P.stateNode.nodeValue=V?"":P.memoizedProps}catch(_e){ot(P,P.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,sd(t,s))));break;case 19:Wn(r,t),Jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sd(t,l)));break;case 21:break;default:Wn(r,t),Jn(t)}}function Jn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(tv(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var f=l.stateNode,m=rd(t);dc(t,m,f);break;case 5:var T=l.stateNode;l.flags&32&&(qn(T,""),l.flags&=-33);var w=rd(t);dc(t,w,T);break;case 3:case 4:var V=l.stateNode.containerInfo,P=rd(t);id(t,P,V);break;default:throw Error(a(161))}}}catch(Z){ot(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function uv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;uv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function oi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)iv(t,r.alternate,r),r=r.sibling}function qs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ea(4,r,r.return),qs(r);break;case 1:Dn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Wy(r,r.return,s),qs(r);break;case 26:case 27:case 5:Dn(r,r.return),qs(r);break;case 22:Dn(r,r.return),r.memoizedState===null&&qs(r);break;default:qs(r)}t=t.sibling}}function ta(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:ta(f,m,s),vl(4,m);break;case 1:if(ta(f,m,s),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){ot(l,l.return,P)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Yy(V[f],w)}catch(P){ot(l,l.return,P)}}s&&T&64&&Zy(m),ts(m,m.return);break;case 26:case 27:case 5:ta(f,m,s),s&&l===null&&T&4&&Jy(m),ts(m,m.return);break;case 12:ta(f,m,s);break;case 13:ta(f,m,s),s&&T&4&&ov(f,m);break;case 22:m.memoizedState===null&&ta(f,m,s),ts(m,m.return);break;default:ta(f,m,s)}r=r.sibling}}function od(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ll(s))}function ld(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function na(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)cv(t,r,s,l),r=r.sibling}function cv(t,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:na(t,r,s,l),f&2048&&vl(9,r);break;case 3:na(t,r,s,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(f&2048){na(t,r,s,l),t=r.stateNode;try{var m=r.memoizedProps,T=m.id,w=m.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){ot(r,r.return,V)}}else na(t,r,s,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?na(t,r,s,l):_l(t,r):m._visibility&4?na(t,r,s,l):(m._visibility|=4,Fs(t,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&od(r.alternate,r);break;case 24:na(t,r,s,l),f&2048&&ld(r.alternate,r);break;default:na(t,r,s,l)}}function Fs(t,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=t,T=r,w=s,V=l,P=T.flags;switch(T.tag){case 0:case 11:case 15:Fs(m,T,w,V,f),vl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&4?Fs(m,T,w,V,f):_l(m,T):(Z._visibility|=4,Fs(m,T,w,V,f)),f&&P&2048&&od(T.alternate,T);break;case 24:Fs(m,T,w,V,f),f&&P&2048&&ld(T.alternate,T);break;default:Fs(m,T,w,V,f)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,f=l.flags;switch(l.tag){case 22:_l(s,l),f&2048&&od(l.alternate,l);break;case 24:_l(s,l),f&2048&&ld(l.alternate,l);break;default:_l(s,l)}r=r.sibling}}var El=8192;function $s(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)fv(t),t=t.sibling}function fv(t){switch(t.tag){case 26:$s(t),t.flags&El&&t.memoizedState!==null&&kA(lr,t.memoizedState,t.memoizedProps);break;case 5:$s(t);break;case 3:case 4:var r=lr;lr=xc(t.stateNode.containerInfo),$s(t),lr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,$s(t),El=r):$s(t));break;default:$s(t)}}function hv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ft=l,mv(l,t)}hv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dv(t),t=t.sibling}function dv(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&ea(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,mc(t)):Tl(t);break;default:Tl(t)}}function mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ft=l,mv(l,t)}hv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ea(8,r,r.return),mc(r);break;case 22:s=r.stateNode,s._visibility&4&&(s._visibility&=-5,mc(r));break;default:mc(r)}t=t.sibling}}function mv(t,r){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:ea(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ft=l;else e:for(s=t;Ft!==null;){l=Ft;var f=l.sibling,m=l.return;if(av(l),l===s){Ft=null;break e}if(f!==null){f.return=m,Ft=f;break e}Ft=m}}}function Xb(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,r,s,l){return new Xb(t,r,s,l)}function ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ra(t,r){var s=t.alternate;return s===null?(s=er(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function pv(t,r){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function pc(t,r,s,l,f,m){var T=0;if(l=t,typeof t=="function")ud(t)&&(T=1);else if(typeof t=="string")T=MA(t,s,Ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ns(s.children,f,m,r);case g:T=8,f|=24;break;case _:return t=er(12,s,r,f|2),t.elementType=_,t.lanes=m,t;case z:return t=er(13,s,r,f),t.elementType=z,t.lanes=m,t;case k:return t=er(19,s,r,f),t.elementType=k,t.lanes=m,t;case G:return gv(s,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case D:T=10;break e;case A:T=9;break e;case N:T=11;break e;case q:T=14;break e;case Y:T=16,l=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=er(T,s,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function ns(t,r,s,l){return t=er(7,t,l,r),t.lanes=s,t}function gv(t,r,s,l){t=er(22,t,l,r),t.elementType=G,t.lanes=s;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var T=$i(m,2);T!==null&&(f._pendingVisibility|=2,gn(T,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var T=$i(m,2);T!==null&&(f._pendingVisibility&=-3,gn(T,m,2))}}};return t.stateNode=f,t}function cd(t,r,s){return t=er(6,t,null,r),t.lanes=s,t}function fd(t,r,s){return r=er(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function li(t){t.flags|=4}function yv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t_(r)){if(r=Zn.current,r!==null&&((Fe&4194176)===Fe?Nr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Nr))throw al=gh,jg;t.flags|=8192}}function gc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Vi():536870912,t.lanes|=r,Qs|=r)}function Sl(t,r){if(!Ze)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function Zb(t,r,s){var l=r.pendingProps;switch(mh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ii(Ut),vn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(tl(r)?li(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,or!==null&&(_d(or),or=null))),pt(r),null;case 26:return s=r.memoizedState,t===null?(li(r),s!==null?(pt(r),yv(r,s)):(pt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(li(r),pt(r),yv(r,s)):(pt(r),r.flags&=-16777217):(t.memoizedProps!==l&&li(r),pt(r),r.flags&=-16777217),null;case 27:Ci(r),s=Qe.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&li(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return pt(r),null}t=Ae.current,tl(r)?Og(r):(t=Qv(f,l,s),r.stateNode=t,li(r))}return pt(r),null;case 5:if(Ci(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&li(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return pt(r),null}if(t=Ae.current,tl(r))Og(r);else{switch(f=Cc(Qe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[Bt]=r,t[jt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(Wt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&li(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&li(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Qe.current,tl(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,f=pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Bt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||zv(t.nodeValue,s)),t||Ga(r)}else t=Cc(t).createTextNode(l),t[Bt]=r,r.stateNode=t}return pt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=tl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Bt]=r}else nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),f=!1}else or!==null&&(_d(or),or=null),f=!0;if(!f)return r.flags&256?(ei(r),r):(ei(r),null)}if(ei(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),gc(r,r.updateQueue),pt(r),null;case 4:return vn(),t===null&&Dd(r.stateNode.containerInfo),pt(r),null;case 10:return ii(r.type),pt(r),null;case 19:if(Je(kt),f=r.memoizedState,f===null)return pt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Sl(f,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Ju(t),m!==null){for(r.flags|=128,Sl(f,!1),t=m.updateQueue,r.updateQueue=t,gc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)pv(s,t),s=s.sibling;return te(kt,kt.current&1|2),r.child}t=t.sibling}f.tail!==null&&Kt()>yc&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304)}else{if(!l)if(t=Ju(m),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,gc(r,t),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ze)return pt(r),null}else 2*Kt()-f.renderingStartTime>yc&&s!==536870912&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(t=f.last,t!==null?t.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Kt(),r.sibling=null,t=kt.current,te(kt,l?t&1|2:t&1),r):(pt(r),null);case 22:case 23:return ei(r),vh(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),s=r.updateQueue,s!==null&&gc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&Je(Ka),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),ii(Ut),pt(r),null;case 25:return null}throw Error(a(156,r.tag))}function Wb(t,r){switch(mh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ii(Ut),vn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 13:if(ei(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));nl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Je(kt),null;case 4:return vn(),null;case 10:return ii(r.type),null;case 22:case 23:return ei(r),vh(),t!==null&&Je(Ka),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ii(Ut),null;case 25:return null;default:return null}}function vv(t,r){switch(mh(r),r.tag){case 3:ii(Ut),vn();break;case 26:case 27:case 5:Ci(r);break;case 4:vn();break;case 13:ei(r);break;case 19:Je(kt);break;case 10:ii(r.type);break;case 22:case 23:ei(r),vh(),t!==null&&Je(Ka);break;case 24:ii(Ut)}}var Jb={getCacheForType:function(t){var r=sn(Ut),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},eA=typeof WeakMap=="function"?WeakMap:Map,gt=0,ut=null,ke=null,Fe=0,ct=0,On=null,ui=!1,Gs=!1,hd=!1,ci=0,St=0,ia=0,rs=0,dd=0,tr=0,Qs=0,bl=null,Ir=null,md=!1,pd=0,yc=1/0,vc=null,aa=null,_c=!1,is=null,Al=0,gd=0,yd=null,wl=0,vd=null;function Vn(){if((gt&2)!==0&&Fe!==0)return Fe&-Fe;if(C.T!==null){var t=Us;return t!==0?t:Rd()}return wu()}function _v(){tr===0&&(tr=(Fe&536870912)===0||Ze?ko():536870912);var t=Zn.current;return t!==null&&(t.flags|=32),tr}function gn(t,r,s){(t===ut&&ct===2||t.cancelPendingCommit!==null)&&(Ks(t,0),fi(t,Fe,tr,!1)),At(t,s),((gt&2)===0||t!==ut)&&(t===ut&&((gt&2)===0&&(rs|=s),St===4&&fi(t,Fe,tr,!1)),Or(t))}function Ev(t,r,s){if((gt&6)!==0)throw Error(a(327));var l=!s&&(r&60)===0&&(r&t.expiredLanes)===0||Oi(t,r),f=l?rA(t,r):Sd(t,r,!0),m=l;do{if(f===0){Gs&&!l&&fi(t,r,0,!1);break}else if(f===6)fi(t,r,0,!ui);else{if(s=t.current.alternate,m&&!tA(s)){f=Sd(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=t;f=bl;var V=w.current.memoizedState.isDehydrated;if(V&&(Ks(w,T).flags|=256),T=Sd(w,T,!1),T!==2){if(hd&&!V){w.errorRecoveryDisabledLanes|=m,rs|=m,f=4;break e}m=Ir,Ir=f,m!==null&&_d(m)}f=T}if(m=!1,f!==2)continue}}if(f===1){Ks(t,0),fi(t,r,0,!0);break}e:{switch(l=t,f){case 0:case 1:throw Error(a(345));case 4:if((r&4194176)===r){fi(l,r,tr,!ui);break e}break;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=r,(r&62914560)===r&&(m=pd+300-Kt(),10<m)){if(fi(l,r,tr,!ui),zn(l,0)!==0)break e;l.timeoutHandle=Fv(Tv.bind(null,l,s,Ir,vc,md,r,tr,rs,Qs,ui,2,-0,0),m);break e}Tv(l,s,Ir,vc,md,r,tr,rs,Qs,ui,0,-0,0)}}break}while(!0);Or(t)}function _d(t){Ir===null?Ir=t:Ir.push.apply(Ir,t)}function Tv(t,r,s,l,f,m,T,w,V,P,Z,se,Q){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:LA},fv(r),r=UA(),r!==null)){t.cancelPendingCommit=r(xv.bind(null,t,s,l,f,T,w,V,1,se,Q)),fi(t,m,T,!P);return}xv(t,s,l,f,T,w,V,Z,se,Q)}function tA(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],m=f.getSnapshot;f=f.value;try{if(!Nn(m(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fi(t,r,s,l){r&=~dd,r&=~rs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-hn(f),T=1<<m;l[m]=-1,f&=~T}s!==0&&ji(t,s,r)}function Ec(){return(gt&6)===0?(Rl(0),!1):!0}function Ed(){if(ke!==null){if(ct===0)var t=ke.return;else t=ke,ri=Ja=null,Rh(t),Ls=null,sl=0,t=ke;for(;t!==null;)vv(t.alternate,t),t=t.return;ke=null}}function Ks(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,EA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ed(),ut=t,ke=s=ra(t.current,null),Fe=r,ct=0,On=null,ui=!1,Gs=Oi(t,r),hd=!1,Qs=tr=dd=rs=ia=St=0,Ir=bl=null,md=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-hn(l),m=1<<f;r|=t[f],l&=~m}return ci=r,Fu(),s}function Sv(t,r){je=null,C.H=Dr,r===il?(r=kg(),ct=3):r===jg?(r=kg(),ct=4):ct=r===My?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,ke===null&&(St=1,cc(t,Kn(r,t.current)))}function bv(){var t=C.H;return C.H=Dr,t===null?Dr:t}function Av(){var t=C.A;return C.A=Jb,t}function Td(){St=4,ui||(Fe&4194176)!==Fe&&Zn.current!==null||(Gs=!0),(ia&134217727)===0&&(rs&134217727)===0||ut===null||fi(ut,Fe,tr,!1)}function Sd(t,r,s){var l=gt;gt|=2;var f=bv(),m=Av();(ut!==t||Fe!==r)&&(vc=null,Ks(t,r)),r=!1;var T=St;e:do try{if(ct!==0&&ke!==null){var w=ke,V=On;switch(ct){case 8:Ed(),T=6;break e;case 3:case 2:case 6:Zn.current===null&&(r=!0);var P=ct;if(ct=0,On=null,Ys(t,w,V,P),s&&Gs){T=0;break e}break;default:P=ct,ct=0,On=null,Ys(t,w,V,P)}}nA(),T=St;break}catch(Z){Sv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,ri=Ja=null,gt=l,C.H=f,C.A=m,ke===null&&(ut=null,Fe=0,Fu()),T}function nA(){for(;ke!==null;)wv(ke)}function rA(t,r){var s=gt;gt|=2;var l=bv(),f=Av();ut!==t||Fe!==r?(vc=null,yc=Kt()+500,Ks(t,r)):Gs=Oi(t,r);e:do try{if(ct!==0&&ke!==null){r=ke;var m=On;t:switch(ct){case 1:ct=0,On=null,Ys(t,r,m,1);break;case 2:if(Mg(m)){ct=0,On=null,Rv(r);break}r=function(){ct===2&&ut===t&&(ct=7),Or(t)},m.then(r,r);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Mg(m)?(ct=0,On=null,Rv(r)):(ct=0,On=null,Ys(t,r,m,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var w=ke;if(!T||t_(T)){ct=0,On=null;var V=w.sibling;if(V!==null)ke=V;else{var P=w.return;P!==null?(ke=P,Tc(P)):ke=null}break t}}ct=0,On=null,Ys(t,r,m,5);break;case 6:ct=0,On=null,Ys(t,r,m,6);break;case 8:Ed(),St=6;break e;default:throw Error(a(462))}}iA();break}catch(Z){Sv(t,Z)}while(!0);return ri=Ja=null,C.H=l,C.A=f,gt=s,ke!==null?0:(ut=null,Fe=0,Fu(),St)}function iA(){for(;ke!==null&&!Vo();)wv(ke)}function wv(t){var r=Qy(t.alternate,t,ci);t.memoizedProps=t.pendingProps,r===null?Tc(t):ke=r}function Rv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=zy(s,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=zy(s,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:Rh(r);default:vv(s,r),r=ke=pv(r,ci),r=Qy(s,r,ci)}t.memoizedProps=t.pendingProps,r===null?Tc(t):ke=r}function Ys(t,r,s,l){ri=Ja=null,Rh(r),Ls=null,sl=0;var f=r.return;try{if(Gb(t,f,r,s,Fe)){St=1,cc(t,Kn(s,t.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;St=1,cc(t,Kn(s,t.current)),ke=null;return}r.flags&32768?(Ze||l===1?t=!0:Gs||(Fe&536870912)!==0?t=!1:(ui=t=!0,(l===2||l===3||l===6)&&(l=Zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cv(r,t)):Tc(r)}function Tc(t){var r=t;do{if((r.flags&32768)!==0){Cv(r,ui);return}t=r.return;var s=Zb(r.alternate,r,ci);if(s!==null){ke=s;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);St===0&&(St=5)}function Cv(t,r){do{var s=Wb(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);St=6,ke=null}function xv(t,r,s,l,f,m,T,w,V,P){var Z=C.T,se=le.p;try{le.p=2,C.T=null,aA(t,r,s,l,se,f,m,T,w,V,P)}finally{C.T=Z,le.p=se}}function aA(t,r,s,l,f,m,T,w){do Xs();while(is!==null);if((gt&6)!==0)throw Error(a(327));var V=t.finishedWork;if(l=t.finishedLanes,V===null)return null;if(t.finishedWork=null,t.finishedLanes=0,V===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=V.lanes|V.childLanes;if(P|=fh,bu(t,l,P,m,T,w),t===ut&&(ke=ut=null,Fe=0),(V.subtreeFlags&10256)===0&&(V.flags&10256)===0||_c||(_c=!0,gd=P,yd=s,uA(Bn,function(){return Xs(),null})),s=(V.flags&15990)!==0,(V.subtreeFlags&15990)!==0||s?(s=C.T,C.T=null,m=le.p,le.p=2,T=gt,gt|=4,Kb(t,V),lv(V,t),Nb(jd,t.containerInfo),Vc=!!Vd,jd=Vd=null,t.current=V,iv(t,V.alternate,V),xa(),gt=T,le.p=m,C.T=s):t.current=V,_c?(_c=!1,is=t,Al=l):Nv(t,P),P=t.pendingLanes,P===0&&(aa=null),Mo(V.stateNode),Or(t),r!==null)for(f=t.onRecoverableError,V=0;V<r.length;V++)P=r[V],f(P.value,{componentStack:P.stack});return(Al&3)!==0&&Xs(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===vd?wl++:(wl=0,vd=t):wl=0,Rl(0),null}function Nv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function Xs(){if(is!==null){var t=is,r=gd;gd=0;var s=Au(Al),l=C.T,f=le.p;try{if(le.p=32>s?32:s,C.T=null,is===null)var m=!1;else{s=yd,yd=null;var T=is,w=Al;if(is=null,Al=0,(gt&6)!==0)throw Error(a(331));var V=gt;if(gt|=4,dv(T.current),cv(T,T.current,w,s),gt=V,Rl(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Di,T)}catch{}m=!0}return m}finally{le.p=f,C.T=l,Nv(t,r)}}return!1}function Dv(t,r,s){r=Kn(s,r),r=Bh(t.stateNode,r,2),t=Ji(t,r,2),t!==null&&(At(t,2),Or(t))}function ot(t,r,s){if(t.tag===3)Dv(t,t,s);else for(;r!==null;){if(r.tag===3){Dv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(aa===null||!aa.has(l))){t=Kn(s,t),s=Vy(2),l=Ji(r,s,2),l!==null&&(jy(s,l,r,t),At(l,2),Or(l));break}}r=r.return}}function bd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new eA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(hd=!0,f.add(s),t=sA.bind(null,t,r,s),r.then(t,t))}function sA(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ut===t&&(Fe&s)===s&&(St===4||St===3&&(Fe&62914560)===Fe&&300>Kt()-pd?(gt&2)===0&&Ks(t,0):dd|=s,Qs===Fe&&(Qs=0)),Or(t)}function Iv(t,r){r===0&&(r=Vi()),t=$i(t,r),t!==null&&(At(t,r),Or(t))}function oA(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Iv(t,s)}function lA(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),Iv(t,s)}function uA(t,r){return Hr(t,r)}var Sc=null,Zs=null,Ad=!1,bc=!1,wd=!1,as=0;function Or(t){t!==Zs&&t.next===null&&(Zs===null?Sc=Zs=t:Zs=Zs.next=t),bc=!0,Ad||(Ad=!0,fA(cA))}function Rl(t,r){if(!wd&&bc){wd=!0;do for(var s=!1,l=Sc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-hn(42|t)+1)-1,m&=f&~(T&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(s=!0,jv(l,m))}else m=Fe,m=zn(l,l===ut?m:0),(m&3)===0||Oi(l,m)||(s=!0,jv(l,m));l=l.next}while(s);wd=!1}}function cA(){bc=Ad=!1;var t=0;as!==0&&(_A()&&(t=as),as=0);for(var r=Kt(),s=null,l=Sc;l!==null;){var f=l.next,m=Ov(l,r);m===0?(l.next=null,s===null?Sc=f:s.next=f,f===null&&(Zs=s)):(s=l,(t!==0||(m&3)!==0)&&(bc=!0)),l=f}Rl(t)}function Ov(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-hn(m),w=1<<T,V=f[T];V===-1?((w&s)===0||(w&l)!==0)&&(f[T]=ps(w,r)):V<=r&&(t.expiredLanes|=w),m&=~w}if(r=ut,s=Fe,s=zn(t,t===r?s:0),l=t.callbackNode,s===0||t===r&&ct===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ni(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Oi(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Ni(l),Au(s)){case 2:case 8:s=ft;break;case 32:s=Bn;break;case 268435456:s=jo;break;default:s=Bn}return l=Vv.bind(null,t),s=Hr(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Ni(l),t.callbackPriority=2,t.callbackNode=null,2}function Vv(t,r){var s=t.callbackNode;if(Xs()&&t.callbackNode!==s)return null;var l=Fe;return l=zn(t,t===ut?l:0),l===0?null:(Ev(t,l,r),Ov(t,Kt()),t.callbackNode!=null&&t.callbackNode===s?Vv.bind(null,t):null)}function jv(t,r){if(Xs())return null;Ev(t,r,!0)}function fA(t){TA(function(){(gt&6)!==0?Hr(we,t):t()})}function Rd(){return as===0&&(as=ko()),as}function Mv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Tr(""+t)}function Lv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function hA(t,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var m=Mv((f[jt]||null).action),T=l.submitter;T&&(r=(r=T[jt]||null)?Mv(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var w=new Ss("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(as!==0){var V=T?Lv(f,T):new FormData(f);Mh(s,{pending:!0,data:V,method:f.method,action:m},null,V)}}else typeof m=="function"&&(w.preventDefault(),V=T?Lv(f,T):new FormData(f),Mh(s,{pending:!0,data:V,method:f.method,action:m},m,V))},currentTarget:f}]})}}for(var Cd=0;Cd<xg.length;Cd++){var xd=xg[Cd],dA=xd.toLowerCase(),mA=xd[0].toUpperCase()+xd.slice(1);sr(dA,"on"+mA)}sr(bg,"onAnimationEnd"),sr(Ag,"onAnimationIteration"),sr(wg,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(Ib,"onTransitionRun"),sr(Ob,"onTransitionStart"),sr(Vb,"onTransitionCancel"),sr(Rg,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function kv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var w=l[T],V=w.instance,P=w.currentTarget;if(w=w.listener,V!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=P;try{m(f)}catch(Z){uc(Z)}f.currentTarget=null,m=V}else for(T=0;T<l.length;T++){if(w=l[T],V=w.instance,P=w.currentTarget,w=w.listener,V!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=P;try{m(f)}catch(Z){uc(Z)}f.currentTarget=null,m=V}}}}function Pe(t,r){var s=r[Da];s===void 0&&(s=r[Da]=new Set);var l=t+"__bubble";s.has(l)||(Uv(r,t,2,!1),s.add(l))}function Nd(t,r,s){var l=0;r&&(l|=4),Uv(s,t,l,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[Ac]){t[Ac]=!0,Po.forEach(function(s){s!=="selectionchange"&&(pA.has(s)||Nd(s,!1,t),Nd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,Nd("selectionchange",!1,r))}}function Uv(t,r,s,l){switch(o_(r)){case 2:var f=zA;break;case 8:f=HA;break;default:f=qd}s=f.bind(null,r,s,t),f=void 0,!$n||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,s,{capture:!0,passive:f}):t.addEventListener(r,s,!0):f!==void 0?t.addEventListener(r,s,{passive:f}):t.addEventListener(r,s,!1)}function Id(t,r,s,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var w=l.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(T===4)for(T=l.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;T=T.return}for(;w!==null;){if(T=ar(w),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){l=m=T;continue e}w=w.parentNode}}l=l.return}Nu(function(){var P=m,Z=Ts(s),se=[];e:{var Q=Cg.get(t);if(Q!==void 0){var X=Ss,_e=t;switch(t){case"keypress":if(br(s)===0)break e;case"keydown":case"keyup":X=xs;break;case"focusin":_e="focus",X=ws;break;case"focusout":_e="blur",X=ws;break;case"beforeblur":case"afterblur":X=ws;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ku;break;case bg:case Ag:case wg:X=Rs;break;case Rg:X=Pu;break;case"scroll":case"scrollend":X=Du;break;case"wheel":X=Ns;break;case"copy":case"cut":case"paste":X=Cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Zo;break;case"toggle":case"beforetoggle":X=zu}var De=(r&4)!==0,bt=!De&&(t==="scroll"||t==="scrollend"),H=De?Q!==null?Q+"Capture":null:Q;De=[];for(var U=P,$;U!==null;){var ee=U;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||H===null||(ee=Ma(U,H),ee!=null&&De.push(xl(U,ee,$))),bt)break;U=U.return}0<De.length&&(Q=new X(Q,_e,null,s,Z),se.push({event:Q,listeners:De}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&s!==Fn&&(_e=s.relatedTarget||s.fromElement)&&(ar(_e)||_e[qr]))break e;if((X||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(_e=s.relatedTarget||s.toElement,X=P,_e=_e?ar(_e):null,_e!==null&&(bt=he(_e),De=_e.tag,_e!==bt||De!==5&&De!==27&&De!==6)&&(_e=null)):(X=null,_e=P),X!==_e)){if(De=Gn,ee="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(De=Zo,ee="onPointerLeave",H="onPointerEnter",U="pointer"),bt=X==null?Q:Ui(X),$=_e==null?Q:Ui(_e),Q=new De(ee,U+"leave",X,s,Z),Q.target=bt,Q.relatedTarget=$,ee=null,ar(Z)===P&&(De=new De(H,U+"enter",_e,s,Z),De.target=$,De.relatedTarget=bt,ee=De),bt=ee,X&&_e)t:{for(De=X,H=_e,U=0,$=De;$;$=Ws($))U++;for($=0,ee=H;ee;ee=Ws(ee))$++;for(;0<U-$;)De=Ws(De),U--;for(;0<$-U;)H=Ws(H),$--;for(;U--;){if(De===H||H!==null&&De===H.alternate)break t;De=Ws(De),H=Ws(H)}De=null}else De=null;X!==null&&Pv(se,Q,X,De,!1),_e!==null&&bt!==null&&Pv(se,bt,_e,De,!0)}}e:{if(Q=P?Ui(P):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var ge=hg;else if(Lt(Q))if(dg)ge=Cb;else{ge=wb;var Le=Ab}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?P&&Fo(P.elementType)&&(ge=hg):ge=Rb;if(ge&&(ge=ge(t,P))){Zr(se,ge,s,Z);break e}Le&&Le(t,Q,P),t==="focusout"&&P&&Q.type==="number"&&P.memoizedProps.value!=null&&Es(Q,"number",Q.value)}switch(Le=P?Ui(P):window,t){case"focusin":(Lt(Le)||Le.contentEditable==="true")&&(Ds=Le,lh=P,el=null);break;case"focusout":el=lh=Ds=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Tg(se,s,Z);break;case"selectionchange":if(Db)break;case"keydown":case"keyup":Tg(se,s,Z)}var Ee;if(Rr)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else He?K(t,s)&&(Re="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Re="onCompositionStart");Re&&(E&&s.locale!=="ko"&&(He||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&He&&(Ee=Go()):(Sr=Z,Fi="value"in Sr?Sr.value:Sr.textContent,He=!0)),Le=wc(P,Re),0<Le.length&&(Re=new Yo(Re,t,null,s,Z),se.push({event:Re,listeners:Le}),Ee?Re.data=Ee:(Ee=ce(s),Ee!==null&&(Re.data=Ee)))),(Ee=y?Mt(t,s):qe(t,s))&&(Re=wc(P,"onBeforeInput"),0<Re.length&&(Le=new Yo("onBeforeInput","beforeinput",null,s,Z),se.push({event:Le,listeners:Re}),Le.data=Ee)),hA(se,t,P,s,Z)}kv(se,r)})}function xl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function wc(t,r){for(var s=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ma(t,s),f!=null&&l.unshift(xl(t,f,m)),f=Ma(t,r),f!=null&&l.push(xl(t,f,m))),t=t.return}return l}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pv(t,r,s,l,f){for(var m=r._reactName,T=[];s!==null&&s!==l;){var w=s,V=w.alternate,P=w.stateNode;if(w=w.tag,V!==null&&V===l)break;w!==5&&w!==26&&w!==27||P===null||(V=P,f?(P=Ma(s,m),P!=null&&T.unshift(xl(s,P,V))):f||(P=Ma(s,m),P!=null&&T.push(xl(s,P,V)))),s=s.return}T.length!==0&&t.push({event:r,listeners:T})}var gA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function Bv(t){return(typeof t=="string"?t:""+t).replace(gA,`
`).replace(yA,"")}function zv(t,r){return r=Bv(r),Bv(t)===r}function Rc(){}function at(t,r,s,l,f,m){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||qn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&qn(t,""+l);break;case"className":zi(t,"class",l);break;case"tabIndex":zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(t,s,l);break;case"style":xu(t,l,m);break;case"data":if(r!=="object"){zi(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Tr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(r!=="input"&&at(t,r,"name",f.name,f,null),at(t,r,"formEncType",f.formEncType,f,null),at(t,r,"formMethod",f.formMethod,f,null),at(t,r,"formTarget",f.formTarget,f,null)):(at(t,r,"encType",f.encType,f,null),at(t,r,"method",f.method,f,null),at(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Tr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Tr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":Hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Hn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Hn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Hn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Hn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=th.get(s)||s,Bi(t,s,l))}}function Od(t,r,s,l,f,m){switch(s){case"style":xu(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?qn(t,l):(typeof l=="number"||typeof l=="bigint")&&qn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),m=t[jt]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Bi(t,s,l)}}}function Wt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:at(t,r,m,T,s,null)}}f&&at(t,r,"srcSet",s.srcSet,s,null),l&&at(t,r,"src",s.src,s,null);return;case"input":Pe("invalid",t);var w=m=T=f=null,V=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":T=Z;break;case"checked":V=Z;break;case"defaultChecked":P=Z;break;case"value":m=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:at(t,r,l,Z,s,null)}}Va(t,m,w,V,P,T,f,!1),Oa(t);return;case"select":Pe("invalid",t),l=T=m=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":T=w;break;case"multiple":l=w;default:at(t,r,f,w,s,null)}r=m,s=T,t.multiple=!!l,r!=null?Xe(t,!!l,r,!1):s!=null&&Xe(t,!!l,s,!0);return;case"textarea":Pe("invalid",t),m=f=l=null;for(T in s)if(s.hasOwnProperty(T)&&(w=s[T],w!=null))switch(T){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:at(t,r,T,w,s,null)}qi(t,l,f,m),Oa(t);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(l=s[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,r,V,l,s,null)}return;case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Pe(Cl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:at(t,r,P,l,s,null)}return;default:if(Fo(r)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Od(t,r,Z,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&at(t,r,w,l,s,null))}function vA(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,w=null,V=null,P=null,Z=null;for(X in s){var se=s[X];if(s.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=se;default:l.hasOwnProperty(X)||at(t,r,X,null,l,se)}}for(var Q in l){var X=l[Q];if(se=s[Q],l.hasOwnProperty(Q)&&(X!=null||se!=null))switch(Q){case"type":m=X;break;case"name":f=X;break;case"checked":P=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:X!==se&&at(t,r,Q,X,l,se)}}Hi(t,T,w,V,P,Z,m,f);return;case"select":X=T=w=Q=null;for(m in s)if(V=s[m],s.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":X=V;default:l.hasOwnProperty(m)||at(t,r,m,null,l,V)}for(f in l)if(m=l[f],V=s[f],l.hasOwnProperty(f)&&(m!=null||V!=null))switch(f){case"value":Q=m;break;case"defaultValue":w=m;break;case"multiple":T=m;default:m!==V&&at(t,r,f,m,l,V)}r=w,s=T,l=X,Q!=null?Xe(t,!!s,Q,!1):!!l!=!!s&&(r!=null?Xe(t,!!s,r,!0):Xe(t,!!s,s?[]:"",!1));return;case"textarea":X=Q=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:at(t,r,w,null,l,f)}for(T in l)if(f=l[T],m=s[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&at(t,r,T,f,l,m)}ja(t,Q,X);return;case"option":for(var _e in s)if(Q=s[_e],s.hasOwnProperty(_e)&&Q!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:at(t,r,_e,null,l,Q)}for(V in l)if(Q=l[V],X=s[V],l.hasOwnProperty(V)&&Q!==X&&(Q!=null||X!=null))switch(V){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:at(t,r,V,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)Q=s[De],s.hasOwnProperty(De)&&Q!=null&&!l.hasOwnProperty(De)&&at(t,r,De,null,l,Q);for(P in l)if(Q=l[P],X=s[P],l.hasOwnProperty(P)&&Q!==X&&(Q!=null||X!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:at(t,r,P,Q,l,X)}return;default:if(Fo(r)){for(var bt in s)Q=s[bt],s.hasOwnProperty(bt)&&Q!==void 0&&!l.hasOwnProperty(bt)&&Od(t,r,bt,void 0,l,Q);for(Z in l)Q=l[Z],X=s[Z],!l.hasOwnProperty(Z)||Q===X||Q===void 0&&X===void 0||Od(t,r,Z,Q,l,X);return}}for(var H in s)Q=s[H],s.hasOwnProperty(H)&&Q!=null&&!l.hasOwnProperty(H)&&at(t,r,H,null,l,Q);for(se in l)Q=l[se],X=s[se],!l.hasOwnProperty(se)||Q===X||Q==null&&X==null||at(t,r,se,Q,l,X)}var Vd=null,jd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function Hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Md(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ld=null;function _A(){var t=window.event;return t&&t.type==="popstate"?t===Ld?!1:(Ld=t,!0):(Ld=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(t){return $v.resolve(null).then(t).catch(SA)}:Fv;function SA(t){setTimeout(function(){throw t})}function kd(t,r){var s=r,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(l===0){t.removeChild(f),Ll(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=f}while(s);Ll(r)}function Ud(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ud(s),Ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function bA(t,r,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ki])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ur(t.nextSibling),t===null)break}return null}function AA(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ur(t.nextSibling),t===null))return null;return t}function ur(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function Gv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Qv(t,r,s){switch(r=Cc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var nr=new Map,Kv=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var hi=le.d;le.d={f:wA,r:RA,D:CA,C:xA,L:NA,m:DA,X:OA,S:IA,M:VA};function wA(){var t=hi.f(),r=Ec();return t||r}function RA(t){var r=Fr(t);r!==null&&r.tag===5&&r.type==="form"?Ty(r):hi.r(t)}var Js=typeof document>"u"?null:document;function Yv(t,r,s){var l=Js;if(l&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Kv.has(f)||(Kv.add(f),t={rel:t,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Wt(r,"link",t),mt(r),l.head.appendChild(r)))}}function CA(t){hi.D(t),Yv("dns-prefetch",t,null)}function xA(t,r){hi.C(t,r),Yv("preconnect",t,r)}function NA(t,r,s){hi.L(t,r,s);var l=Js;if(l&&t&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Et(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Et(s.imageSizes)+'"]')):f+='[href="'+Et(t)+'"]';var m=f;switch(r){case"style":m=eo(t);break;case"script":m=to(t)}nr.has(m)||(t=O({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),nr.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Nl(m))||r==="script"&&l.querySelector(Dl(m))||(r=l.createElement("link"),Wt(r,"link",t),mt(r),l.head.appendChild(r)))}}function DA(t,r){hi.m(t,r);var s=Js;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=to(t)}if(!nr.has(m)&&(t=O({rel:"modulepreload",href:t},r),nr.set(m,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Dl(m)))return}l=s.createElement("link"),Wt(l,"link",t),mt(l),s.head.appendChild(l)}}}function IA(t,r,s){hi.S(t,r,s);var l=Js;if(l&&t){var f=Pi(l).hoistableStyles,m=eo(t);r=r||"default";var T=f.get(m);if(!T){var w={loading:0,preload:null};if(T=l.querySelector(Nl(m)))w.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":r},s),(s=nr.get(m))&&Pd(t,s);var V=T=l.createElement("link");mt(V),Wt(V,"link",t),V._p=new Promise(function(P,Z){V.onload=P,V.onerror=Z}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Nc(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(m,T)}}}function OA(t,r){hi.X(t,r);var s=Js;if(s&&t){var l=Pi(s).hoistableScripts,f=to(t),m=l.get(f);m||(m=s.querySelector(Dl(f)),m||(t=O({src:t,async:!0},r),(r=nr.get(f))&&Bd(t,r),m=s.createElement("script"),mt(m),Wt(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function VA(t,r){hi.M(t,r);var s=Js;if(s&&t){var l=Pi(s).hoistableScripts,f=to(t),m=l.get(f);m||(m=s.querySelector(Dl(f)),m||(t=O({src:t,async:!0,type:"module"},r),(r=nr.get(f))&&Bd(t,r),m=s.createElement("script"),mt(m),Wt(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Xv(t,r,s,l){var f=(f=Qe.current)?xc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=eo(s.href),s=Pi(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=eo(s.href);var m=Pi(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Nl(t)))&&!m._p&&(T.instance=m,T.state.loading=5),nr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},nr.set(t,s),m||jA(f,t,s,T.state))),r&&l===null)throw Error(a(528,""));return T}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(s),s=Pi(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function eo(t){return'href="'+Et(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Zv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function jA(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Wt(r,"link",s),mt(r),t.head.appendChild(r))}function to(t){return'[src="'+Et(t)+'"]'}function Dl(t){return"script[async]"+t}function Wv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Et(s.href)+'"]');if(l)return r.instance=l,mt(l),l;var f=O({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Wt(l,"style",f),Nc(l,s.precedence,t),r.instance=l;case"stylesheet":f=eo(s.href);var m=t.querySelector(Nl(f));if(m)return r.state.loading|=4,r.instance=m,mt(m),m;l=Zv(s),(f=nr.get(f))&&Pd(l,f),m=(t.ownerDocument||t).createElement("link"),mt(m);var T=m;return T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),Wt(m,"link",l),r.state.loading|=4,Nc(m,s.precedence,t),r.instance=m;case"script":return m=to(s.src),(f=t.querySelector(Dl(m)))?(r.instance=f,mt(f),f):(l=s,(f=nr.get(m))&&(l=O({},s),Bd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),mt(f),Wt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Nc(l,s.precedence,t));return r.instance}function Nc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var w=l[T];if(w.dataset.precedence===r)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Pd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Bd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Dc=null;function Jv(t,r,s){if(Dc===null){var l=new Map,f=Dc=new Map;f.set(s,l)}else f=Dc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[ki]||m[Bt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=t+T;var w=l.get(T);w?w.push(m):l.set(T,[m])}}return l}function e_(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function MA(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function t_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function LA(){}function kA(t,r,s){if(Il===null)throw Error(a(475));var l=Il;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=eo(s.href),m=t.querySelector(Nl(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ic.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=m,mt(m);return}m=t.ownerDocument||t,s=Zv(s),(f=nr.get(f))&&Pd(s,f),m=m.createElement("link"),mt(m);var T=m;T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),Wt(m,"link",s),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Ic.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function UA(){if(Il===null)throw Error(a(475));var t=Il;return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Ic(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function zd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,r.forEach(PA,t),Oc=null,Ic.call(t))}function PA(t,r){if(!(r.state.loading&4)){var s=Oc.get(t);if(s)var l=s.get(null);else{s=new Map,Oc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),l=T)}l&&s.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=s.get(T)||l,m===l&&s.set(null,f),s.set(T,f),this.count++,l=Ic.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Ol={$$typeof:D,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function BA(t,r,s,l,f,m,T,w){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.hiddenUpdates=gs(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function n_(t,r,s,l,f,m,T,w,V,P,Z,se){return t=new BA(t,r,s,T,w,V,P,se),r=1,m===!0&&(r|=24),m=er(3,null,null,r),t.current=m,m.stateNode=t,r=_h(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:r},Jh(m),t}function r_(t){return t?(t=Vs,t):Vs}function i_(t,r,s,l,f,m){f=r_(f),l.context===null?l.context=f:l.pendingContext=f,l=Wi(r),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=Ji(t,l,r),s!==null&&(gn(s,t,r),pl(s,t,r))}function a_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Hd(t,r){a_(t,r),(t=t.alternate)&&a_(t,r)}function s_(t){if(t.tag===13){var r=$i(t,67108864);r!==null&&gn(r,t,67108864),Hd(t,67108864)}}var Vc=!0;function zA(t,r,s,l){var f=C.T;C.T=null;var m=le.p;try{le.p=2,qd(t,r,s,l)}finally{le.p=m,C.T=f}}function HA(t,r,s,l){var f=C.T;C.T=null;var m=le.p;try{le.p=8,qd(t,r,s,l)}finally{le.p=m,C.T=f}}function qd(t,r,s,l){if(Vc){var f=Fd(l);if(f===null)Id(t,r,l,jc,s),l_(t,l);else if(FA(f,t,r,s,l))l.stopPropagation();else if(l_(t,l),r&4&&-1<qA.indexOf(t)){for(;f!==null;){var m=Fr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ir(m.pendingLanes);if(T!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var V=1<<31-hn(T);w.entanglements[1]|=V,T&=~V}Or(m),(gt&6)===0&&(yc=Kt()+500,Rl(0))}}break;case 13:w=$i(m,2),w!==null&&gn(w,m,2),Ec(),Hd(m,2)}if(m=Fd(l),m===null&&Id(t,r,l,jc,s),m===f)break;f=m}f!==null&&l.stopPropagation()}else Id(t,r,l,null,s)}}function Fd(t){return t=Ts(t),$d(t)}var jc=null;function $d(t){if(jc=null,t=ar(t),t!==null){var r=he(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=Ve(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return jc=t,null}function o_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case we:return 2;case ft:return 8;case Bn:case Eu:return 32;case jo:return 268435456;default:return 32}default:return 32}}var Gd=!1,sa=null,oa=null,la=null,Vl=new Map,jl=new Map,ua=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,r){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function Ml(t,r,s,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Fr(r),r!==null&&s_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function FA(t,r,s,l,f){switch(r){case"focusin":return sa=Ml(sa,t,r,s,l,f),!0;case"dragenter":return oa=Ml(oa,t,r,s,l,f),!0;case"mouseover":return la=Ml(la,t,r,s,l,f),!0;case"pointerover":var m=f.pointerId;return Vl.set(m,Ml(Vl.get(m)||null,t,r,s,l,f)),!0;case"gotpointercapture":return m=f.pointerId,jl.set(m,Ml(jl.get(m)||null,t,r,s,l,f)),!0}return!1}function u_(t){var r=ar(t.target);if(r!==null){var s=he(r);if(s!==null){if(r=s.tag,r===13){if(r=Ve(s),r!==null){t.blockedOn=r,Li(t.priority,function(){if(s.tag===13){var l=Vn(),f=$i(s,l);f!==null&&gn(f,s,l),Hd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Fd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Fn=l,s.target.dispatchEvent(l),Fn=null}else return r=Fr(s),r!==null&&s_(r),t.blockedOn=s,!1;r.shift()}return!0}function c_(t,r,s){Mc(t)&&s.delete(r)}function $A(){Gd=!1,sa!==null&&Mc(sa)&&(sa=null),oa!==null&&Mc(oa)&&(oa=null),la!==null&&Mc(la)&&(la=null),Vl.forEach(c_),jl.forEach(c_)}function Lc(t,r){t.blockedOn===r&&(t.blockedOn=null,Gd||(Gd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$A)))}var kc=null;function f_(t){kc!==t&&(kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if($d(l||s)===null)continue;break}var m=Fr(s);m!==null&&(t.splice(r,3),r-=3,Mh(m,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Ll(t){function r(V){return Lc(V,t)}sa!==null&&Lc(sa,t),oa!==null&&Lc(oa,t),la!==null&&Lc(la,t),Vl.forEach(r),jl.forEach(r);for(var s=0;s<ua.length;s++){var l=ua[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ua.length&&(s=ua[0],s.blockedOn===null);)u_(s),s.blockedOn===null&&ua.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],m=s[l+1],T=f[jt]||null;if(typeof m=="function")T||f_(s);else if(T){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[jt]||null)w=T.formAction;else if($d(f)!==null)continue}else w=T.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),f_(s)}}}function Qd(t){this._internalRoot=t}Uc.prototype.render=Qd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Vn();i_(s,l,t,r,null,null)},Uc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&Xs(),i_(t.current,2,null,t,null,null),Ec(),r[qr]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var r=wu();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ua.length&&r!==0&&r<ua[s].priority;s++);ua.splice(s,0,t),s===0&&u_(t)}};var h_=e.version;if(h_!=="19.0.0")throw Error(a(527,h_,"19.0.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=ae(r),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var GA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:ar,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Di=Pc.inject(GA),an=Pc}catch{}}return Ul.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",f=Ny,m=Dy,T=Iy,w=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=n_(t,1,!1,null,null,s,l,f,m,T,w,null),t[qr]=r.current,Dd(t.nodeType===8?t.parentNode:t),new Qd(r)},Ul.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,f="",m=Ny,T=Dy,w=Iy,V=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(V=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),r=n_(t,1,!0,r,s??null,l,f,m,T,w,V,P),r.context=r_(null),s=r.current,l=Vn(),f=Wi(l),f.callback=null,Ji(s,f,l),r.current.lanes=l,At(r,l),Or(r),t[qr]=r.current,Dd(t),new Uc(r)},Ul.version="19.0.0",Ul}var S_;function rw(){if(S_)return Xd.exports;S_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xd.exports=nw(),Xd.exports}var iw=rw(),Pl={},b_;function aw(){if(b_)return Pl;b_=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=h,Pl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,D){const N=new u,z=A.length;if(z<2)return N;const k=(D==null?void 0:D.decode)||_;let q=0;do{const Y=A.indexOf("=",q);if(Y===-1)break;const G=A.indexOf(";",q),W=G===-1?z:G;if(Y>W){q=A.lastIndexOf(";",Y-1)+1;continue}const ie=d(A,q,Y),J=p(A,Y,ie),I=A.slice(ie,J);if(N[I]===void 0){let x=d(A,Y+1,W),C=p(A,W,x);const O=k(A.slice(x,C));N[I]=O}q=W+1}while(q<z);return N}function d(A,D,N){do{const z=A.charCodeAt(D);if(z!==32&&z!==9)return D}while(++D<N);return N}function p(A,D,N){for(;D>N;){const z=A.charCodeAt(--D);if(z!==32&&z!==9)return D+1}return N}function g(A,D,N){const z=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const k=z(D);if(!e.test(k))throw new TypeError(`argument val is invalid: ${D}`);let q=A+"="+k;if(!N)return q;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);q+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);q+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);q+="; Path="+N.path}if(N.expires){if(!b(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);q+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(q+="; HttpOnly"),N.secure&&(q+="; Secure"),N.partitioned&&(q+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return q}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return Pl}aw();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A_="popstate";function sw(i={}){function e(a,o){let{pathname:u,search:h,hash:d}=a.location;return Am("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Wl(o)}return lw(e,n,null,i)}function dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function dr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ow(){return Math.random().toString(36).substring(2,10)}function w_(i,e){return{usr:i.state,key:i.key,idx:e}}function Am(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||a||ow()}}function Wl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Eo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function lw(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function b(){d="POP";let k=_(),q=k==null?null:k-g;g=k,p&&p({action:d,location:z.location,delta:q})}function A(k,q){d="PUSH";let Y=Am(z.location,k,q);g=_()+1;let G=w_(Y,g),W=z.createHref(Y);try{h.pushState(G,"",W)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(W)}u&&p&&p({action:d,location:z.location,delta:1})}function D(k,q){d="REPLACE";let Y=Am(z.location,k,q);g=_();let G=w_(Y,g),W=z.createHref(Y);h.replaceState(G,"",W),u&&p&&p({action:d,location:z.location,delta:0})}function N(k){let q=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof k=="string"?k:Wl(k);return Y=Y.replace(/ $/,"%20"),dt(q,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,q)}let z={get action(){return d},get location(){return i(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(A_,b),p=k,()=>{o.removeEventListener(A_,b),p=null}},createHref(k){return e(o,k)},createURL:N,encodeLocation(k){let q=N(k);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:D,go(k){return h.go(k)}};return z}function l0(i,e,n="/"){return uw(i,e,n,!1)}function uw(i,e,n,a){let o=typeof e=="string"?Eo(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let h=u0(i);cw(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=Tw(u);d=_w(h[p],g,a)}return d}function u0(i,e=[],n=[],a=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(dt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=gi([a,p.relativePath]),_=n.concat(p);u.children&&u.children.length>0&&(dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),u0(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:yw(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of c0(u.path))o(u,h,p)}),e}function c0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=c0(a.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function cw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:vw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var fw=/^:[\w-]+$/,hw=3,dw=2,mw=1,pw=10,gw=-2,R_=i=>i==="*";function yw(i,e){let n=i.split("/"),a=n.length;return n.some(R_)&&(a+=gw),e&&(a+=dw),n.filter(o=>!R_(o)).reduce((o,u)=>o+(fw.test(u)?hw:u===""?mw:pw),a)}function vw(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function _w(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",h=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=nf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),A=p.route;if(!b&&g&&n&&!a[a.length-1].route.index&&(b=nf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:gi([u,b.pathname]),pathnameBase:ww(gi([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=gi([u,b.pathnameBase]))}return h}function nf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Ew(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:b},A)=>{if(_==="*"){let N=d[A]||"";h=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=d[A];return b&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Ew(i,e=!1,n=!0){dr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Tw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function _i(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Sw(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Eo(i):i;return{pathname:n?n.startsWith("/")?n:bw(n,e):e,search:Rw(a),hash:Cw(o)}}function bw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function em(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Aw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(i){let e=Aw(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function rp(i,e,n,a=!1){let o;typeof i=="string"?o=Eo(i):(o={...i},dt(!o.pathname||!o.pathname.includes("?"),em("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),em("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),em("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=n;else{let b=e.length-1;if(!a&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}d=b>=0?e[b]:"/"}let p=Sw(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var gi=i=>i.join("/").replace(/\/\/+/g,"/"),ww=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Rw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Cw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function xw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var f0=["POST","PUT","PATCH","DELETE"];new Set(f0);var Nw=["GET",...f0];new Set(Nw);var To=S.createContext(null);To.displayName="DataRouter";var wf=S.createContext(null);wf.displayName="DataRouterState";var h0=S.createContext({isTransitioning:!1});h0.displayName="ViewTransition";var Dw=S.createContext(new Map);Dw.displayName="Fetchers";var Iw=S.createContext(null);Iw.displayName="Await";var pr=S.createContext(null);pr.displayName="Navigation";var lu=S.createContext(null);lu.displayName="Location";var gr=S.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var ip=S.createContext(null);ip.displayName="RouteError";function Ow(i,{relative:e}={}){dt(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=S.useContext(pr),{hash:o,pathname:u,search:h}=uu(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:gi([n,u])),a.createHref({pathname:d,search:h,hash:o})}function So(){return S.useContext(lu)!=null}function Un(){return dt(So(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(lu).location}var d0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m0(i){S.useContext(pr).static||S.useLayoutEffect(i)}function Rn(){let{isDataRoute:i}=S.useContext(gr);return i?Gw():Vw()}function Vw(){dt(So(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext(To),{basename:e,navigator:n}=S.useContext(pr),{matches:a}=S.useContext(gr),{pathname:o}=Un(),u=JSON.stringify(np(a)),h=S.useRef(!1);return m0(()=>{h.current=!0}),S.useCallback((p,g={})=>{if(dr(h.current,d0),!h.current)return;if(typeof p=="number"){n.go(p);return}let _=rp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:gi([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,i])}S.createContext(null);function jw(){let{matches:i}=S.useContext(gr),e=i[i.length-1];return e?e.params:{}}function uu(i,{relative:e}={}){let{matches:n}=S.useContext(gr),{pathname:a}=Un(),o=JSON.stringify(np(n));return S.useMemo(()=>rp(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function Mw(i,e){return p0(i,e)}function p0(i,e,n,a){var Y;dt(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=S.useContext(pr),{matches:h}=S.useContext(gr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",b=d&&d.route;{let G=b&&b.path||"";g0(g,!b||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=Un(),D;if(e){let G=typeof e=="string"?Eo(e):e;dt(_==="/"||((Y=G.pathname)==null?void 0:Y.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),D=G}else D=A;let N=D.pathname||"/",z=N;if(_!=="/"){let G=_.replace(/^\//,"").split("/");z="/"+N.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=!u&&n&&n.matches&&n.matches.length>0?n.matches:l0(i,{pathname:z});dr(b||k!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),dr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=Bw(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:gi([_,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:gi([_,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,n,a);return e&&q?S.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},q):q}function Lw(){let i=$w(),e=xw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:u},"ErrorBoundary")," or"," ",S.createElement("code",{style:u},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,h)}var kw=S.createElement(Lw,null),Uw=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?S.createElement(gr.Provider,{value:this.props.routeContext},S.createElement(ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Pw({routeContext:i,match:e,children:n}){let a=S.useContext(To);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(gr.Provider,{value:i},n)}function Bw(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:b}=n,A=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||A){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let b,A=!1,D=null,N=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||kw,h&&(d<0&&_===0?(g0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):d===_&&(A=!0,N=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,_+1)),k=()=>{let q;return b?q=D:A?q=N:g.route.Component?q=S.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,S.createElement(Pw,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?S.createElement(Uw,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:k(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):k()},null)}function ap(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(i){let e=S.useContext(To);return dt(e,ap(i)),e}function Hw(i){let e=S.useContext(wf);return dt(e,ap(i)),e}function qw(i){let e=S.useContext(gr);return dt(e,ap(i)),e}function sp(i){let e=qw(i),n=e.matches[e.matches.length-1];return dt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Fw(){return sp("useRouteId")}function $w(){var a;let i=S.useContext(ip),e=Hw("useRouteError"),n=sp("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function Gw(){let{router:i}=zw("useNavigate"),e=sp("useNavigate"),n=S.useRef(!1);return m0(()=>{n.current=!0}),S.useCallback(async(o,u={})=>{dr(n.current,d0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var C_={};function g0(i,e,n){!e&&!C_[i]&&(C_[i]=!0,dr(!1,n))}S.memo(Qw);function Qw({routes:i,future:e,state:n}){return p0(i,void 0,n,e)}function cr({to:i,replace:e,state:n,relative:a}){dt(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(pr);dr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=S.useContext(gr),{pathname:h}=Un(),d=Rn(),p=rp(i,np(u),h,a==="path"),g=JSON.stringify(p);return S.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:a})},[d,g,a,e,n]),null}function Mn(i){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kw({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){dt(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:A="default"}=n,D=S.useMemo(()=>{let N=_i(p,h);return N==null?null:{location:{pathname:N,search:g,hash:_,state:b,key:A},navigationType:a}},[h,p,g,_,b,A,a]);return dr(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:S.createElement(pr.Provider,{value:d},S.createElement(lu.Provider,{children:e,value:D}))}function Yw({children:i,location:e}){return Mw(wm(i),e)}function wm(i,e=[]){let n=[];return S.Children.forEach(i,(a,o)=>{if(!S.isValidElement(a))return;let u=[...e,o];if(a.type===S.Fragment){n.push.apply(n,wm(a.props.children,u));return}dt(a.type===Mn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=wm(a.props.children,u)),n.push(h)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function Rf(i){return i!=null&&typeof i.tagName=="string"}function Xw(i){return Rf(i)&&i.tagName.toLowerCase()==="button"}function Zw(i){return Rf(i)&&i.tagName.toLowerCase()==="form"}function Ww(i){return Rf(i)&&i.tagName.toLowerCase()==="input"}function Jw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function eR(i,e){return i.button===0&&(!e||e==="_self")&&!Jw(i)}var Bc=null;function tR(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var nR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tm(i){return i!=null&&!nR.has(i)?(dr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):i}function rR(i,e){let n,a,o,u,h;if(Zw(i)){let d=i.getAttribute("action");a=d?_i(d,e):null,n=i.getAttribute("method")||Kc,o=tm(i.getAttribute("enctype"))||Yc,u=new FormData(i)}else if(Xw(i)||Ww(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(a=p?_i(p,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||Kc,o=tm(i.getAttribute("formenctype"))||tm(d.getAttribute("enctype"))||Yc,u=new FormData(d,i),!tR()){let{name:g,type:_,value:b}=i;if(_==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(Rf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,a=null,o=Yc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function iR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function sR(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await iR(u,n);return h.links?h.links():[]}return[]}));return cR(a.flat(1).filter(aR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function x_(i,e,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>{var _;return n[g].pathname!==p.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var b;let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function oR(i,e,{includeHydrateFallback:n}={}){return lR(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lR(i){return[...new Set(i)]}function uR(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function cR(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(uR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function fR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&_i(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function y0(){let i=S.useContext(To);return op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function hR(){let i=S.useContext(wf);return op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lp=S.createContext(void 0);lp.displayName="FrameworkContext";function v0(){let i=S.useContext(lp);return op(i,"You must render this element inside a <HydratedRouter> element"),i}function dR(i,e){let n=S.useContext(lp),[a,o]=S.useState(!1),[u,h]=S.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,A=S.useRef(null);S.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=q=>{q.forEach(Y=>{h(Y.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[i]),S.useEffect(()=>{if(a){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[a]);let D=()=>{o(!0)},N=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Bl(d,D),onBlur:Bl(p,N),onMouseEnter:Bl(g,D),onMouseLeave:Bl(_,N),onTouchStart:Bl(b,D)}]:[!1,A,{}]}function Bl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function mR({page:i,...e}){let{router:n}=y0(),a=S.useMemo(()=>l0(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?S.createElement(gR,{page:i,matches:a,...e}):null}function pR(i){let{manifest:e,routeModules:n}=v0(),[a,o]=S.useState([]);return S.useEffect(()=>{let u=!1;return sR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),a}function gR({page:i,matches:e,...n}){let a=Un(),{manifest:o,routeModules:u}=v0(),{basename:h}=y0(),{loaderData:d,matches:p}=hR(),g=S.useMemo(()=>x_(i,e,p,o,a,"data"),[i,e,p,o,a]),_=S.useMemo(()=>x_(i,e,p,o,a,"assets"),[i,e,p,o,a]),b=S.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let N=new Set,z=!1;if(e.forEach(q=>{var G;let Y=o.routes[q.route.id];!Y||!Y.hasLoader||(!g.some(W=>W.route.id===q.route.id)&&q.route.id in d&&((G=u[q.route.id])!=null&&G.shouldRevalidate)||Y.hasClientLoader?z=!0:N.add(q.route.id))}),N.size===0)return[];let k=fR(i,h);return z&&N.size>0&&k.searchParams.set("_routes",e.filter(q=>N.has(q.route.id)).map(q=>q.route.id).join(",")),[k.pathname+k.search]},[h,d,a,o,g,e,i,u]),A=S.useMemo(()=>oR(_,o),[_,o]),D=pR(_);return S.createElement(S.Fragment,null,b.map(N=>S.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>S.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),D.map(({key:N,link:z})=>S.createElement("link",{key:N,...z})))}function yR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_0&&(window.__reactRouterVersion="7.4.0")}catch{}function vR({basename:i,children:e,window:n}){let a=S.useRef();a.current==null&&(a.current=sw({window:n,v5Compat:!0}));let o=a.current,[u,h]=S.useState({action:o.action,location:o.location}),d=S.useCallback(p=>{S.startTransition(()=>h(p))},[h]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(Kw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=S.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:b,...A},D){let{basename:N}=S.useContext(pr),z=typeof g=="string"&&E0.test(g),k,q=!1;if(typeof g=="string"&&z&&(k=g,_0))try{let C=new URL(window.location.href),O=g.startsWith("//")?new URL(C.protocol+g):new URL(g),L=_i(O.pathname,N);O.origin===C.origin&&L!=null?g=L+O.search+O.hash:q=!0}catch{dr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Ow(g,{relative:o}),[G,W,ie]=dR(a,A),J=SR(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:b});function I(C){e&&e(C),C.defaultPrevented||J(C)}let x=S.createElement("a",{...A,...ie,href:k||Y,onClick:q||u?e:I,ref:yR(D,W),target:p,"data-discover":!z&&n==="render"?"true":void 0});return G&&!z?S.createElement(S.Fragment,null,x,S.createElement(mR,{page:Y})):x});yn.displayName="Link";var _R=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let b=uu(h,{relative:g.relative}),A=Un(),D=S.useContext(wf),{navigator:N,basename:z}=S.useContext(pr),k=D!=null&&CR(b)&&d===!0,q=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,Y=A.pathname,G=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&z&&(G=_i(G,z)||G);const W=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ie=Y===q||!o&&Y.startsWith(q)&&Y.charAt(W)==="/",J=G!=null&&(G===q||!o&&G.startsWith(q)&&G.charAt(q.length)==="/"),I={isActive:ie,isPending:J,isTransitioning:k},x=ie?e:void 0,C;typeof a=="function"?C=a(I):C=[a,ie?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return S.createElement(yn,{...g,"aria-current":x,className:C,ref:_,style:O,to:h,viewTransition:d},typeof p=="function"?p(I):p)});_R.displayName="NavLink";var ER=S.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=Kc,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...A},D)=>{let N=wR(),z=RR(d,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&E0.test(d),Y=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let W=G.nativeEvent.submitter,ie=(W==null?void 0:W.getAttribute("formmethod"))||h;N(W||G.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return S.createElement("form",{ref:D,method:k,action:z,onSubmit:a?p:Y,...A,"data-discover":!q&&i==="render"?"true":void 0})});ER.displayName="Form";function TR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(i){let e=S.useContext(To);return dt(e,TR(i)),e}function SR(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Rn(),p=Un(),g=uu(i,{relative:u});return S.useCallback(_=>{if(eR(_,e)){_.preventDefault();let b=n!==void 0?n:Wl(p)===Wl(g);d(i,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,n,a,e,i,o,u,h])}var bR=0,AR=()=>`__${String(++bR)}__`;function wR(){let{router:i}=T0("useSubmit"),{basename:e}=S.useContext(pr),n=Fw();return S.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=rR(a,e);if(o.navigate===!1){let _=o.fetcherKey||AR();await i.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function RR(i,{relative:e}={}){let{basename:n}=S.useContext(pr),a=S.useContext(gr);dt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...uu(i||".",{relative:e})},h=Un();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let _=d.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),Wl(u)}function CR(i,e={}){let n=S.useContext(h0);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=T0("useViewTransitionState"),o=uu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=_i(n.nextLocation.pathname,a)||n.nextLocation.pathname;return nf(o.pathname,h)!=null||nf(o.pathname,u)!=null}new TextEncoder;var xR=o0();const lo=Af(xR),NR=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DR=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],d=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,b=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,D=g&63;p||(D=64,h||(A=64)),a.push(n[_],n[b],n[A],n[D])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(S0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):DR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new IR;const A=u<<2|d>>4;if(a.push(A),g!==64){const D=d<<4&240|g>>2;if(a.push(D),b!==64){const N=g<<6&192|b;a.push(N)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OR=function(i){const e=S0(i);return b0.encodeByteArray(e,!0)},rf=function(i){return OR(i).replace(/\./g,"")},VR=function(i){try{return b0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>jR().__FIREBASE_DEFAULTS__,LR=()=>{if(typeof process>"u"||typeof N_>"u")return;const i=N_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},kR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&VR(i[1]);return e&&JSON.parse(e)},up=()=>{try{return NR()||MR()||LR()||kR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},UR=i=>{var e,n;return(n=(e=up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},PR=i=>{const e=UR(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},A0=()=>{var i;return(i=up())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[rf(JSON.stringify(n)),rf(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qR(){var i;const e=(i=up())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FR(){return!qR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $R(){try{return typeof indexedDB=="object"}catch{return!1}}function GR(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="FirebaseError";class bo extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=QR,Object.setPrototypeOf(this,bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w0.prototype.create)}}class w0{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?KR(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new bo(o,d,a)}}function KR(i,e){return i.replace(YR,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const YR=/\{\$([^}]+)}/g;function af(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],h=e[o];if(D_(u)&&D_(h)){if(!af(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function D_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(i){return i&&i._delegate?i._delegate:i}class Jl{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XR=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new BR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WR(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ZR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZR(i){return i===ss?void 0:i}function WR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const eC={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},tC=Ge.INFO,nC={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},rC=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=nC[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R0{constructor(e){this.name=e,this._logLevel=tC,this._logHandler=rC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const iC=(i,e)=>e.some(n=>i instanceof n);let I_,O_;function aC(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sC(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,Rm=new WeakMap,x0=new WeakMap,nm=new WeakMap,cp=new WeakMap;function oC(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(pa(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&C0.set(n,i)}).catch(()=>{}),cp.set(e,i),e}function lC(i){if(Rm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Rm.set(i,e)}let Cm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Rm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||x0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function uC(i){Cm=i(Cm)}function cC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(rm(this),e,...n);return x0.set(a,e.sort?e.sort():[e]),pa(a)}:sC().includes(i)?function(...e){return i.apply(rm(this),e),pa(C0.get(this))}:function(...e){return pa(i.apply(rm(this),e))}}function fC(i){return typeof i=="function"?cC(i):(i instanceof IDBTransaction&&lC(i),iC(i,aC())?new Proxy(i,Cm):i)}function pa(i){if(i instanceof IDBRequest)return oC(i);if(nm.has(i))return nm.get(i);const e=fC(i);return e!==i&&(nm.set(i,e),cp.set(e,i)),e}const rm=i=>cp.get(i);function hC(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=pa(h);return a&&h.addEventListener("upgradeneeded",p=>{a(pa(h.result),p.oldVersion,p.newVersion,pa(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const dC=["get","getKey","getAll","getAllKeys","count"],mC=["put","add","delete","clear"],im=new Map;function V_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=mC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||dC.includes(n)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return im.set(e,u),u}uC(i=>({...i,get:(e,n,a)=>V_(e,n)||i.get(e,n,a),has:(e,n)=>!!V_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gC(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function gC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",j_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new R0("@firebase/app"),yC="@firebase/app-compat",vC="@firebase/analytics-compat",_C="@firebase/analytics",EC="@firebase/app-check-compat",TC="@firebase/app-check",SC="@firebase/auth",bC="@firebase/auth-compat",AC="@firebase/database",wC="@firebase/data-connect",RC="@firebase/database-compat",CC="@firebase/functions",xC="@firebase/functions-compat",NC="@firebase/installations",DC="@firebase/installations-compat",IC="@firebase/messaging",OC="@firebase/messaging-compat",VC="@firebase/performance",jC="@firebase/performance-compat",MC="@firebase/remote-config",LC="@firebase/remote-config-compat",kC="@firebase/storage",UC="@firebase/storage-compat",PC="@firebase/firestore",BC="@firebase/vertexai",zC="@firebase/firestore-compat",HC="firebase",qC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",FC={[xm]:"fire-core",[yC]:"fire-core-compat",[_C]:"fire-analytics",[vC]:"fire-analytics-compat",[TC]:"fire-app-check",[EC]:"fire-app-check-compat",[SC]:"fire-auth",[bC]:"fire-auth-compat",[AC]:"fire-rtdb",[wC]:"fire-data-connect",[RC]:"fire-rtdb-compat",[CC]:"fire-fn",[xC]:"fire-fn-compat",[NC]:"fire-iid",[DC]:"fire-iid-compat",[IC]:"fire-fcm",[OC]:"fire-fcm-compat",[VC]:"fire-perf",[jC]:"fire-perf-compat",[MC]:"fire-rc",[LC]:"fire-rc-compat",[kC]:"fire-gcs",[UC]:"fire-gcs-compat",[PC]:"fire-fst",[zC]:"fire-fst-compat",[BC]:"fire-vertex","fire-js":"fire-js",[HC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,$C=new Map,Dm=new Map;function M_(i,e){try{i.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function of(i){const e=i.name;if(Dm.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,i);for(const n of sf.values())M_(n,i);for(const n of $C.values())M_(n,i);return!0}function GC(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function QC(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new w0("app","Firebase",KC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=qC;function N0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw ga.create("bad-app-name",{appName:String(o)});if(n||(n=A0()),!n)throw ga.create("no-options");const u=sf.get(o);if(u){if(af(n,u.options)&&af(a,u.config))return u;throw ga.create("duplicate-app",{appName:o})}const h=new JR(o);for(const p of Dm.values())h.addComponent(p);const d=new YC(n,a,h);return sf.set(o,d),d}function ZC(i=Nm){const e=sf.get(i);if(!e&&i===Nm&&A0())return N0();if(!e)throw ga.create("no-app",{appName:i});return e}function uo(i,e,n){var a;let o=(a=FC[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(d.join(" "));return}of(new Jl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firebase-heartbeat-database",JC=1,eu="firebase-heartbeat-store";let am=null;function D0(){return am||(am=hC(WC,JC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ga.create("idb-open",{originalErrorMessage:i.message})})),am}async function ex(i){try{const n=(await D0()).transaction(eu),a=await n.objectStore(eu).get(I0(i));return await n.done,a}catch(e){if(e instanceof bo)Ti.warn(e.message);else{const n=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function L_(i,e){try{const a=(await D0()).transaction(eu,"readwrite");await a.objectStore(eu).put(e,I0(i)),await a.done}catch(n){if(n instanceof bo)Ti.warn(n.message);else{const a=ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(a.message)}}}function I0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=1024,nx=30;class rx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ax(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=k_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>nx){const h=sx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ti.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:a,unsentEntries:o}=ix(this._heartbeatsCache.heartbeats),u=rf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ti.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function ix(i,e=tx){const n=[];let a=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),U_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),U_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class ax{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $R()?GR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ex(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function U_(i){return rf(JSON.stringify({version:2,heartbeats:i})).length}function sx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i){of(new Jl("platform-logger",e=>new pC(e),"PRIVATE")),of(new Jl("heartbeat",e=>new rx(e),"PRIVATE")),uo(xm,j_,i),uo(xm,j_,"esm2017"),uo("fire-js","")}ox("");var lx="firebase",ux="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(lx,ux,"app");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,O0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function C(){}C.prototype=x.prototype,I.D=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(O,L,B){for(var j=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)j[nt-2]=arguments[nt];return x.prototype[L].apply(O,j)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,C){C||(C=0);var O=Array(16);if(typeof x=="string")for(var L=0;16>L;++L)O[L]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(L=0;16>L;++L)O[L]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],L=I.g[2];var B=I.g[3],j=x+(B^C&(L^B))+O[0]+3614090360&4294967295;x=C+(j<<7&4294967295|j>>>25),j=B+(L^x&(C^L))+O[1]+3905402710&4294967295,B=x+(j<<12&4294967295|j>>>20),j=L+(C^B&(x^C))+O[2]+606105819&4294967295,L=B+(j<<17&4294967295|j>>>15),j=C+(x^L&(B^x))+O[3]+3250441966&4294967295,C=L+(j<<22&4294967295|j>>>10),j=x+(B^C&(L^B))+O[4]+4118548399&4294967295,x=C+(j<<7&4294967295|j>>>25),j=B+(L^x&(C^L))+O[5]+1200080426&4294967295,B=x+(j<<12&4294967295|j>>>20),j=L+(C^B&(x^C))+O[6]+2821735955&4294967295,L=B+(j<<17&4294967295|j>>>15),j=C+(x^L&(B^x))+O[7]+4249261313&4294967295,C=L+(j<<22&4294967295|j>>>10),j=x+(B^C&(L^B))+O[8]+1770035416&4294967295,x=C+(j<<7&4294967295|j>>>25),j=B+(L^x&(C^L))+O[9]+2336552879&4294967295,B=x+(j<<12&4294967295|j>>>20),j=L+(C^B&(x^C))+O[10]+4294925233&4294967295,L=B+(j<<17&4294967295|j>>>15),j=C+(x^L&(B^x))+O[11]+2304563134&4294967295,C=L+(j<<22&4294967295|j>>>10),j=x+(B^C&(L^B))+O[12]+1804603682&4294967295,x=C+(j<<7&4294967295|j>>>25),j=B+(L^x&(C^L))+O[13]+4254626195&4294967295,B=x+(j<<12&4294967295|j>>>20),j=L+(C^B&(x^C))+O[14]+2792965006&4294967295,L=B+(j<<17&4294967295|j>>>15),j=C+(x^L&(B^x))+O[15]+1236535329&4294967295,C=L+(j<<22&4294967295|j>>>10),j=x+(L^B&(C^L))+O[1]+4129170786&4294967295,x=C+(j<<5&4294967295|j>>>27),j=B+(C^L&(x^C))+O[6]+3225465664&4294967295,B=x+(j<<9&4294967295|j>>>23),j=L+(x^C&(B^x))+O[11]+643717713&4294967295,L=B+(j<<14&4294967295|j>>>18),j=C+(B^x&(L^B))+O[0]+3921069994&4294967295,C=L+(j<<20&4294967295|j>>>12),j=x+(L^B&(C^L))+O[5]+3593408605&4294967295,x=C+(j<<5&4294967295|j>>>27),j=B+(C^L&(x^C))+O[10]+38016083&4294967295,B=x+(j<<9&4294967295|j>>>23),j=L+(x^C&(B^x))+O[15]+3634488961&4294967295,L=B+(j<<14&4294967295|j>>>18),j=C+(B^x&(L^B))+O[4]+3889429448&4294967295,C=L+(j<<20&4294967295|j>>>12),j=x+(L^B&(C^L))+O[9]+568446438&4294967295,x=C+(j<<5&4294967295|j>>>27),j=B+(C^L&(x^C))+O[14]+3275163606&4294967295,B=x+(j<<9&4294967295|j>>>23),j=L+(x^C&(B^x))+O[3]+4107603335&4294967295,L=B+(j<<14&4294967295|j>>>18),j=C+(B^x&(L^B))+O[8]+1163531501&4294967295,C=L+(j<<20&4294967295|j>>>12),j=x+(L^B&(C^L))+O[13]+2850285829&4294967295,x=C+(j<<5&4294967295|j>>>27),j=B+(C^L&(x^C))+O[2]+4243563512&4294967295,B=x+(j<<9&4294967295|j>>>23),j=L+(x^C&(B^x))+O[7]+1735328473&4294967295,L=B+(j<<14&4294967295|j>>>18),j=C+(B^x&(L^B))+O[12]+2368359562&4294967295,C=L+(j<<20&4294967295|j>>>12),j=x+(C^L^B)+O[5]+4294588738&4294967295,x=C+(j<<4&4294967295|j>>>28),j=B+(x^C^L)+O[8]+2272392833&4294967295,B=x+(j<<11&4294967295|j>>>21),j=L+(B^x^C)+O[11]+1839030562&4294967295,L=B+(j<<16&4294967295|j>>>16),j=C+(L^B^x)+O[14]+4259657740&4294967295,C=L+(j<<23&4294967295|j>>>9),j=x+(C^L^B)+O[1]+2763975236&4294967295,x=C+(j<<4&4294967295|j>>>28),j=B+(x^C^L)+O[4]+1272893353&4294967295,B=x+(j<<11&4294967295|j>>>21),j=L+(B^x^C)+O[7]+4139469664&4294967295,L=B+(j<<16&4294967295|j>>>16),j=C+(L^B^x)+O[10]+3200236656&4294967295,C=L+(j<<23&4294967295|j>>>9),j=x+(C^L^B)+O[13]+681279174&4294967295,x=C+(j<<4&4294967295|j>>>28),j=B+(x^C^L)+O[0]+3936430074&4294967295,B=x+(j<<11&4294967295|j>>>21),j=L+(B^x^C)+O[3]+3572445317&4294967295,L=B+(j<<16&4294967295|j>>>16),j=C+(L^B^x)+O[6]+76029189&4294967295,C=L+(j<<23&4294967295|j>>>9),j=x+(C^L^B)+O[9]+3654602809&4294967295,x=C+(j<<4&4294967295|j>>>28),j=B+(x^C^L)+O[12]+3873151461&4294967295,B=x+(j<<11&4294967295|j>>>21),j=L+(B^x^C)+O[15]+530742520&4294967295,L=B+(j<<16&4294967295|j>>>16),j=C+(L^B^x)+O[2]+3299628645&4294967295,C=L+(j<<23&4294967295|j>>>9),j=x+(L^(C|~B))+O[0]+4096336452&4294967295,x=C+(j<<6&4294967295|j>>>26),j=B+(C^(x|~L))+O[7]+1126891415&4294967295,B=x+(j<<10&4294967295|j>>>22),j=L+(x^(B|~C))+O[14]+2878612391&4294967295,L=B+(j<<15&4294967295|j>>>17),j=C+(B^(L|~x))+O[5]+4237533241&4294967295,C=L+(j<<21&4294967295|j>>>11),j=x+(L^(C|~B))+O[12]+1700485571&4294967295,x=C+(j<<6&4294967295|j>>>26),j=B+(C^(x|~L))+O[3]+2399980690&4294967295,B=x+(j<<10&4294967295|j>>>22),j=L+(x^(B|~C))+O[10]+4293915773&4294967295,L=B+(j<<15&4294967295|j>>>17),j=C+(B^(L|~x))+O[1]+2240044497&4294967295,C=L+(j<<21&4294967295|j>>>11),j=x+(L^(C|~B))+O[8]+1873313359&4294967295,x=C+(j<<6&4294967295|j>>>26),j=B+(C^(x|~L))+O[15]+4264355552&4294967295,B=x+(j<<10&4294967295|j>>>22),j=L+(x^(B|~C))+O[6]+2734768916&4294967295,L=B+(j<<15&4294967295|j>>>17),j=C+(B^(L|~x))+O[13]+1309151649&4294967295,C=L+(j<<21&4294967295|j>>>11),j=x+(L^(C|~B))+O[4]+4149444226&4294967295,x=C+(j<<6&4294967295|j>>>26),j=B+(C^(x|~L))+O[11]+3174756917&4294967295,B=x+(j<<10&4294967295|j>>>22),j=L+(x^(B|~C))+O[2]+718787259&4294967295,L=B+(j<<15&4294967295|j>>>17),j=C+(B^(L|~x))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+B&4294967295}a.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var C=x-this.blockSize,O=this.B,L=this.h,B=0;B<x;){if(L==0)for(;B<=C;)o(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<x;)if(O[L++]=I.charCodeAt(B++),L==this.blockSize){o(this,O),L=0;break}}else for(;B<x;)if(O[L++]=I[B++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=x},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var C=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=C&255,C/=256;for(this.u(I),I=Array(16),x=C=0;4>x;++x)for(var O=0;32>O;O+=8)I[C++]=this.g[x]>>>O&255;return I};function u(I,x){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function h(I,x){this.h=x;for(var C=[],O=!0,L=I.length-1;0<=L;L--){var B=I[L]|0;O&&B==x||(C[L]=B,O=!1)}this.g=C}var d={};function p(I){return-128<=I&&128>I?u(I,function(x){return new h([x|0],0>x?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return k(g(-I));for(var x=[],C=1,O=0;I>=C;O++)x[O]=I/C|0,C*=4294967296;return new h(x,0)}function _(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return k(_(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(x,8)),O=b,L=0;L<I.length;L+=8){var B=Math.min(8,I.length-L),j=parseInt(I.substring(L,L+B),x);8>B?(B=g(Math.pow(x,B)),O=O.j(B).add(g(j))):(O=O.j(C),O=O.add(g(j)))}return O}var b=p(0),A=p(1),D=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-k(this).m();for(var I=0,x=1,C=0;C<this.g.length;C++){var O=this.i(C);I+=(0<=O?O:4294967296+O)*x,x*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(z(this))return"-"+k(this).toString(I);for(var x=g(Math.pow(I,6)),C=this,O="";;){var L=W(C,x).g;C=q(C,L.j(x));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=L,N(C))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function z(I){return I.h==-1}i.l=function(I){return I=q(this,I),z(I)?-1:N(I)?0:1};function k(I){for(var x=I.g.length,C=[],O=0;O<x;O++)C[O]=~I.g[O];return new h(C,~I.h).add(A)}i.abs=function(){return z(this)?k(this):this},i.add=function(I){for(var x=Math.max(this.g.length,I.g.length),C=[],O=0,L=0;L<=x;L++){var B=O+(this.i(L)&65535)+(I.i(L)&65535),j=(B>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);O=j>>>16,B&=65535,j&=65535,C[L]=j<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(I,x){return I.add(k(x))}i.j=function(I){if(N(this)||N(I))return b;if(z(this))return z(I)?k(this).j(k(I)):k(k(this).j(I));if(z(I))return k(this.j(k(I)));if(0>this.l(D)&&0>I.l(D))return g(this.m()*I.m());for(var x=this.g.length+I.g.length,C=[],O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<I.g.length;L++){var B=this.i(O)>>>16,j=this.i(O)&65535,nt=I.i(L)>>>16,rt=I.i(L)&65535;C[2*O+2*L]+=j*rt,Y(C,2*O+2*L),C[2*O+2*L+1]+=B*rt,Y(C,2*O+2*L+1),C[2*O+2*L+1]+=j*nt,Y(C,2*O+2*L+1),C[2*O+2*L+2]+=B*nt,Y(C,2*O+2*L+2)}for(O=0;O<x;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=x;O<2*x;O++)C[O]=0;return new h(C,0)};function Y(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function G(I,x){this.g=I,this.h=x}function W(I,x){if(N(x))throw Error("division by zero");if(N(I))return new G(b,b);if(z(I))return x=W(k(I),x),new G(k(x.g),k(x.h));if(z(x))return x=W(I,k(x)),new G(k(x.g),x.h);if(30<I.g.length){if(z(I)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=x;0>=O.l(I);)C=ie(C),O=ie(O);var L=J(C,1),B=J(O,1);for(O=J(O,2),C=J(C,2);!N(O);){var j=B.add(O);0>=j.l(I)&&(L=L.add(C),B=j),O=J(O,1),C=J(C,1)}return x=q(I,L.j(x)),new G(L,x)}for(L=b;0<=I.l(x);){for(C=Math.max(1,Math.floor(I.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=g(C),j=B.j(x);z(j)||0<j.l(I);)C-=O,B=g(C),j=B.j(x);N(B)&&(B=A),L=L.add(B),I=q(I,j)}return new G(L,I)}i.A=function(I){return W(this,I).h},i.and=function(I){for(var x=Math.max(this.g.length,I.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)&I.i(O);return new h(C,this.h&I.h)},i.or=function(I){for(var x=Math.max(this.g.length,I.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)|I.i(O);return new h(C,this.h|I.h)},i.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)^I.i(O);return new h(C,this.h^I.h)};function ie(I){for(var x=I.g.length+1,C=[],O=0;O<x;O++)C[O]=I.i(O)<<1|I.i(O-1)>>>31;return new h(C,I.h)}function J(I,x){var C=x>>5;x%=32;for(var O=I.g.length-C,L=[],B=0;B<O;B++)L[B]=0<x?I.i(B+C)>>>x|I.i(B+C+1)<<32-x:I.i(B+C);return new h(L,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,O0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ya=h}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V0,Hl,j0,Xc,Im,M0,L0,k0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var E=a;c=c.split(".");for(var R=0;R<c.length-1;R++){var F=c[R];if(!(F in E))break e;E=E[F]}c=c[c.length-1],R=E[c],y=y(R),y!=R&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var E=0,R=!1,F={next:function(){if(!R&&E<c.length){var K=E++;return{value:y(K,c[K]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,E){return c.call.apply(c.bind,arguments)}function b(c,y,E){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,A.apply(null,arguments)}function D(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function N(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(R,F,K){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return y.prototype[F].apply(R,ce)}}function z(c){const y=c.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=c[R];return E}return[]}function k(c,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(p(R)){const F=c.length||0,K=R.length||0;c.length=F+K;for(let ce=0;ce<K;ce++)c[F+ce]=R[ce]}else c.push(R)}}class q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var ie=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function J(c,y,E){for(const R in c)y.call(E,c[R],R,c)}function I(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function x(c){const y={};for(const E in c)y[E]=c[E];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let E,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(E in R)c[E]=R[E];for(let K=0;K<C.length;K++)E=C[K],Object.prototype.hasOwnProperty.call(R,E)&&(c[E]=R[E])}}function L(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function B(c){d.setTimeout(()=>{throw c},0)}function j(){var c=Ve;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,E){const R=rt.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var rt=new q(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,he=!1,Ve=new nt,M=()=>{const c=d.Promise.resolve(void 0);ve=()=>{c.then(ae)}};var ae=()=>{for(var c;c=j();){try{c.h.call(c.g)}catch(E){B(E)}var y=rt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}he=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c}();function be(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{W(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}N(be,ue);var Ce={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Je(c,y,E,R,F){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=F,this.key=++Me,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,y,E,R,F){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ce=Qe(c,y,R,F);return-1<ce?(y=c[ce],E||(y.fa=!1)):(y=new Je(y,this.src,K,!!R,F),y.fa=E,c.push(y)),y};function Ye(c,y){var E=y.type;if(E in c.g){var R=c.g[E],F=Array.prototype.indexOf.call(R,y,void 0),K;(K=0<=F)&&Array.prototype.splice.call(R,F,1),K&&(te(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Qe(c,y,E,R){for(var F=0;F<c.length;++F){var K=c[F];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==R)return F}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),Ke={};function vn(c,y,E,R,F){if(Array.isArray(y)){for(var K=0;K<y.length;K++)vn(c,y[K],E,R,F);return null}return E=ms(E),c&&c[st]?c.K(y,E,g(R)?!!R.capture:!1,F):rr(c,y,E,!1,R,F)}function rr(c,y,E,R,F,K){if(!y)throw Error("Invalid event type");var ce=g(F)?!!F.capture:!!F,He=xa(c);if(He||(c[lt]=He=new Ae(c)),E=He.add(y,E,R,ce,K),E.proxy)return E;if(R=Ci(),E.proxy=R,R.src=c,R.listener=E,c.addEventListener)le||(F=ce),F===void 0&&(F=!1),c.addEventListener(y.toString(),R,F);else if(c.attachEvent)c.attachEvent(Ni(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ci(){function c(E){return y.call(c.src,c.listener,E)}const y=Vo;return c}function xi(c,y,E,R,F){if(Array.isArray(y))for(var K=0;K<y.length;K++)xi(c,y[K],E,R,F);else R=g(R)?!!R.capture:!!R,E=ms(E),c&&c[st]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],E=Qe(K,E,R,F),-1<E&&(te(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=xa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Qe(y,E,R,F)),(E=-1<c?y[c]:null)&&Hr(E))}function Hr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[st])Ye(y.i,c);else{var E=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(E,R,c.capture):y.detachEvent?y.detachEvent(Ni(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=xa(y))?(Ye(E,c),E.h==0&&(E.src=null,y[lt]=null)):te(c)}}}function Ni(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function Vo(c,y){if(c.da)c=!0;else{y=new be(y,this);var E=c.listener,R=c.ha||c.src;c.fa&&Hr(c),c=E.call(R,y)}return c}function xa(c){return c=c[lt],c instanceof Ae?c:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ms(c){return typeof c=="function"?c:(c[Kt]||(c[Kt]=function(y){return c.handleEvent(y)}),c[Kt])}function we(){de.call(this),this.i=new Ae(this),this.M=this,this.F=null}N(we,de),we.prototype[st]=!0,we.prototype.removeEventListener=function(c,y,E,R){xi(this,c,y,E,R)};function ft(c,y){var E,R=c.F;if(R)for(E=[];R;R=R.F)E.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var F=y;y=new ue(R,c),O(y,F)}if(F=!0,E)for(var K=E.length-1;0<=K;K--){var ce=y.g=E[K];F=Bn(ce,R,!0,y)&&F}if(ce=y.g=c,F=Bn(ce,R,!0,y)&&F,F=Bn(ce,R,!1,y)&&F,E)for(K=0;K<E.length;K++)ce=y.g=E[K],F=Bn(ce,R,!1,y)&&F}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],R=0;R<E.length;R++)te(E[R]);delete c.g[y],c.h--}}this.F=null},we.prototype.K=function(c,y,E,R){return this.i.add(String(c),y,!1,E,R)},we.prototype.L=function(c,y,E,R){return this.i.add(String(c),y,!0,E,R)};function Bn(c,y,E,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,K=0;K<y.length;++K){var ce=y[K];if(ce&&!ce.da&&ce.capture==E){var He=ce.listener,Mt=ce.ha||ce.src;ce.fa&&Ye(c.i,ce),F=He.call(Mt,R)!==!1&&F}}return F&&!R.defaultPrevented}function Eu(c,y,E){if(typeof c=="function")E&&(c=A(c,E));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function jo(c){c.g=Eu(()=>{c.g=null,c.i&&(c.i=!1,jo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zf extends de{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(c){de.call(this),this.h=c,this.g={}}N(Na,de);var Di=[];function an(c){J(c.g,function(y,E){this.g.hasOwnProperty(E)&&Hr(y)},c),c.g={}}Na.prototype.N=function(){Na.aa.N.call(this),an(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=d.JSON.stringify,yr=d.JSON.parse,hn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Lo(){}Lo.prototype.h=null;function Tu(c){return c.h||(c.h=c.i())}function Su(){}var vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){ue.call(this,"d")}N(Ii,ue);function ir(){ue.call(this,"c")}N(ir,ue);var zn={},Oi=null;function ps(){return Oi=Oi||new we}zn.La="serverreachability";function ko(c){ue.call(this,zn.La,c)}N(ko,ue);function Vi(c){const y=ps();ft(y,new ko(y))}zn.STAT_EVENT="statevent";function gs(c,y){ue.call(this,zn.STAT_EVENT,c),this.stat=y}N(gs,ue);function At(c){const y=ps();ft(y,new gs(y,c))}zn.Ma="timingevent";function bu(c,y){ue.call(this,zn.Ma,c),this.size=y}N(bu,ue);function ji(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function Au(c,y,E,R,F,K){c.info(function(){if(c.g)if(K)for(var ce="",He=K.split("&"),Mt=0;Mt<He.length;Mt++){var qe=He[Mt].split("=");if(1<qe.length){var Ht=qe[0];qe=qe[1];var Lt=Ht.split("_");ce=2<=Lt.length&&Lt[1]=="type"?ce+(Ht+"="+qe+"&"):ce+(Ht+"=redacted&")}}else ce=null;else ce=K;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+E+`
`+ce})}function wu(c,y,E,R,F,K,ce){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+E+`
`+K+" "+ce})}function Li(c,y,E,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bt(c,E)+(R?" "+R:"")})}function _r(c,y){c.info(function(){return"TIMEOUT: "+y})}Mi.prototype.info=function(){};function Bt(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var R=E[c];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var K=F[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ce=1;ce<F.length;ce++)F[ce]=""}}}}return Mo(E)}catch{return y}}var jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Da;function ys(){}N(ys,Lo),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},Da=new ys;function Er(c,y,E,R){this.j=c,this.i=y,this.l=E,this.R=R||1,this.U=new Na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uo}function Uo(){this.i=null,this.g="",this.h=!1}var ki={},Ia={};function ar(c,y,E){c.L=1,c.v=ja(Et(y)),c.m=E,c.P=!0,Fr(c,null)}function Fr(c,y){c.F=Date.now(),mt(c),c.A=Et(c.v);var E=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Qr(E.i,"t",R),c.C=0,E=c.j.J,c.h=new Uo,c.g=Pu(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Zf(A(c.Y,c,c.g),c.O)),y=c.U,E=c.g,R=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Di[0]=F.toString()),F=Di);for(var K=0;K<F.length;K++){var ce=vn(E,F[K],R||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vi(),Au(c.i,c.u,c.A,c.l,c.R,c.m)}Er.prototype.ca=function(c){c=c.target;const y=this.M;y&&Gn(c)==3?y.j():this.Y(c)},Er.prototype.Y=function(c){try{if(c==this.g)e:{const Lt=Gn(this.g);var y=this.g.Ba();const Zr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||Lt!=4||y==7||(y==8||0>=Zr?Vi(3):Vi(2)),vs(this);var E=this.g.Z();this.X=E;t:if(Ui(this)){var R=Iu(this.g);c="";var F=R.length,K=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Cn(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(K&&y==F-1)});R.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,wu(this.i,this.u,this.A,this.l,this.R,Lt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Mt=this.g;if((He=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(He)){var qe=He;break t}}qe=null}if(E=qe)Li(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xn(this,E);else{this.o=!1,this.s=3,At(12),_n(this),Cn(this);break e}}if(this.P){E=!0;let Yt;for(;!this.J&&this.C<ce.length;)if(Yt=Pi(this,ce),Yt==Ia){Lt==4&&(this.s=4,At(14),E=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==ki){this.s=4,At(15),Li(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else Li(this.i,this.l,Yt,null),xn(this,Yt);if(Ui(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ce.length!=0||this.h.h||(this.s=1,At(16),E=!1),this.o=this.o&&E,!E)Li(this.i,this.l,ce,"[Invalid Chunked Response]"),_n(this),Cn(this);else if(0<ce.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),za(Ht),Ht.M=!0,At(11))}}else Li(this.i,this.l,ce,null),xn(this,ce);Lt==4&&_n(this),this.o&&!this.J&&(Lt==4?Lu(this.j,this):(this.o=!1,mt(this)))}else rh(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),_n(this),Cn(this)}}}catch{}finally{}};function Ui(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pi(c,y){var E=c.C,R=y.indexOf(`
`,E);return R==-1?Ia:(E=Number(y.substring(E,R)),isNaN(E)?ki:(R+=1,R+E>y.length?Ia:(y=y.slice(R,R+E),c.C=R+E,y)))}Er.prototype.cancel=function(){this.J=!0,_n(this)};function mt(c){c.S=Date.now()+c.I,Po(c,c.I)}function Po(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ji(A(c.ba,c),y)}function vs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Er.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_r(this.i,this.A),this.L!=2&&(Vi(),At(17)),_n(this),this.s=2,Cn(this)):Po(this,this.S-c)};function Cn(c){c.j.G==0||c.J||Lu(c.j,c)}function _n(c){vs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,an(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function xn(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||Bi(E.h,c))){if(!c.K&&Bi(E.h,c)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)xs(E),Rs(E);else break e;Xo(E),At(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=ji(A(E.Za,E),6e3));if(1>=Ru(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Xr(E,11)}else if((c.K||E.g==c)&&xs(E),!Y(y))for(F=E.Da.g.parse(y),y=0;y<F.length;y++){let qe=F[y];if(E.T=qe[0],qe=qe[1],E.G==2)if(qe[0]=="c"){E.K=qe[1],E.ia=qe[2];const Ht=qe[3];Ht!=null&&(E.la=Ht,E.j.info("VER="+E.la));const Lt=qe[4];Lt!=null&&(E.Aa=Lt,E.j.info("SVER="+E.Aa));const Zr=qe[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(R=1.5*Zr,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Yt=c.g;if(Yt){const Cr=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var K=R.h;K.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(zi(K,K.h),K.h=null))}if(R.D){const Wo=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(R.ya=Wo,Xe(R.I,R.D,Wo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ce=c;if(R.qa=Uu(R,R.J?R.ia:null,R.W),ce.K){Hn(R.h,ce);var He=ce,Mt=R.L;Mt&&(He.I=Mt),He.B&&(vs(He),mt(He)),R.g=ce}else ju(R);0<E.i.length&&Cs(E)}else qe[0]!="stop"&&qe[0]!="close"||Xr(E,7);else E.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Xr(E,7):Ko(E):qe[0]!="noop"&&E.l&&E.l.ta(qe),E.v=0)}}Vi(4)}catch{}}var Wf=class{constructor(c,y){this.g=c,this.map=y}};function Bo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ru(c){return c.h?1:c.g?c.g.size:0}function Bi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function zi(c,y){c.g?c.g.add(y):c.h=y}function Hn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bo.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return z(c.i)}function Cu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],E=c.length,R=0;R<E;R++)y.push(c[R]);return y}y=[],E=0;for(R in c)y[E++]=c[R];return y}function Jf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const R in c)y[E++]=R;return y}}}function Oa(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Jf(c),R=Cu(c),F=R.length,K=0;K<F;K++)y.call(void 0,R[K],E&&E[K],c)}var Ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _s(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var R=c[E].indexOf("="),F=null;if(0<=R){var K=c[E].substring(0,R);F=c[E].substring(R+1)}else K=c[E];y(K,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,Hi(this,c.j),this.o=c.o,this.g=c.g,Va(this,c.s),this.l=c.l;var y=c.i,E=new Tr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Es(this,E),this.m=c.m}else c&&(y=String(c).match(Ho))?(this.h=!1,Hi(this,y[1]||"",!0),this.o=qi(y[2]||""),this.g=qi(y[3]||"",!0),Va(this,y[4]),this.l=qi(y[5]||"",!0),Es(this,y[6]||"",!0),this.m=qi(y[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}$r.prototype.toString=function(){var c=[],y=this.j;y&&c.push(qn(y,qo,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(qn(y,qo,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(qn(E,E.charAt(0)=="/"?Fo:xu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",qn(E,nh)),c.join("")};function Et(c){return new $r(c)}function Hi(c,y,E){c.j=E?qi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Va(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Es(c,y,E){y instanceof Tr?(c.i=y,$o(c.i,c.h)):(E||(y=qn(y,th)),c.i=new Tr(y,c.h))}function Xe(c,y,E){c.i.set(y,E)}function ja(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qn(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,eh),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function eh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,xu=/[#\?:]/g,Fo=/[#\?]/g,th=/[#\?@]/g,nh=/#/g;function Tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Fn(c){c.g||(c.g=new Map,c.h=0,c.i&&_s(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Tr.prototype,i.add=function(c,y){Fn(this),this.i=null,c=Kr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Ts(c,y){Fn(c),y=Kr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gr(c,y){return Fn(c),y=Kr(c,y),c.g.has(y)}i.forEach=function(c,y){Fn(this),this.g.forEach(function(E,R){E.forEach(function(F){c.call(y,F,R,this)},this)},this)},i.na=function(){Fn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const F=c[R];for(let K=0;K<F.length;K++)E.push(y[R])}return E},i.V=function(c){Fn(this);let y=[];if(typeof c=="string")Gr(this,c)&&(y=y.concat(this.g.get(Kr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},i.set=function(c,y){return Fn(this),this.i=null,c=Kr(this,c),Gr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Qr(c,y,E){Ts(c,y),0<E.length&&(c.i=null,c.g.set(Kr(c,y),z(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const K=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var F=K;ce[R]!==""&&(F+="="+encodeURIComponent(String(ce[R]))),c.push(F)}}return this.i=c.join("&")};function Kr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function $o(c,y){y&&!c.j&&(Fn(c),c.i=null,c.g.forEach(function(E,R){var F=R.toLowerCase();R!=F&&(Ts(this,R),Qr(this,F,E))},c)),c.j=y}function Nu(c,y){const E=new Mi;if(d.Image){const R=new Image;R.onload=D($n,E,"TestLoadImage: loaded",!0,y,R),R.onerror=D($n,E,"TestLoadImage: error",!1,y,R),R.onabort=D($n,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=D($n,E,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function Ma(c,y){const E=new Mi,R=new AbortController,F=setTimeout(()=>{R.abort(),$n(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(K=>{clearTimeout(F),K.ok?$n(E,"TestPingServer: ok",!0,y):$n(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),$n(E,"TestPingServer: error",!1,y)})}function $n(c,y,E,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(E)}catch{}}function La(){this.g=new hn}function Sr(c,y,E){const R=E||"";try{Oa(c,function(F,K){let ce=F;g(F)&&(ce=Mo(F)),y.push(R+K+"="+encodeURIComponent(ce))})}catch(F){throw y.push(R+"type="+encodeURIComponent("_badmap")),F}}function Fi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Fi,Lo),Fi.prototype.g=function(){return new Yr(this.l,this.j)},Fi.prototype.i=function(c){return function(){return c}}({});function Yr(c,y){we.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Yr,we),i=Yr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ar(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?br(this):Ar(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,br(this))},i.Qa=function(c){this.g&&(this.response=c,br(this))},i.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ar(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return J(c,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function zt(c,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Qo(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Xe(c,y,E))}function et(c){we.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(et,we);var Ss=/^https?$/i,ka=["POST","PUT"];i=et.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Da.g(),this.v=this.o?Tu(this.o):Tu(Da),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Du(this,K);return}if(c=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)E.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())E.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ka,y,void 0))||R||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of E)this.g.setRequestHeader(K,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ua(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Du(this,K)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,bs(c),wr(c)}function bs(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),wr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),et.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?As(this):this.bb())},i.bb=function(){As(this)};function As(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)Eu(c.Ea,0,c);else if(ft(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=ce===0){var F=String(c.D).match(Ho)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),R=!Ss.test(F?F.toLowerCase():"")}E=R}if(E)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var K=2<Gn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",bs(c)}}finally{wr(c)}}}}function wr(c,y){if(c.g){Ua(c);const E=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||ft(c,"ready");try{E.onreadystatechange=R}catch{}}}function Ua(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),yr(y)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rh(c){const y={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(Y(c[R]))continue;var E=L(c[R]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[F]||[];y[F]=K,K.push(E)}I(y,function(R){return R.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function ws(c){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,c),this.cb=Pa("retryDelaySeedMs",1e4,c),this.Wa=Pa("forwardChannelMaxRetries",2,c),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(c&&c.concurrentRequestLimit),this.Da=new La,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ws.prototype,i.la=8,i.G=1,i.connect=function(c,y,E,R){At(0),this.W=c,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Uu(this,null,this.W),Cs(this)};function Ko(c){if(Ou(c),c.G==3){var y=c.U++,E=Et(c.I);if(Xe(E,"SID",c.K),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Ba(c,E),y=new Er(c,c.j,y),y.L=2,y.v=ja(Et(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Pu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),mt(y)}ku(c)}function Rs(c){c.g&&(za(c),c.g.cancel(),c.g=null)}function Ou(c){Rs(c),c.u&&(d.clearTimeout(c.u),c.u=null),xs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Cs(c){if(!zo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ve||M(),he||(ve(),he=!0),Ve.add(y,c),c.B=0}}function ih(c,y){return Ru(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ji(A(c.Ga,c,y),Zo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Er(this,this.j,c);let K=this.o;if(this.S&&(K?(K=x(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(F.H=K,K=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Vu(this,F,y),E=Et(this.I),Xe(E,"RID",c),Xe(E,"CVER",22),this.D&&Xe(E,"X-HTTP-Session-Id",this.D),Ba(this,E),K&&(this.O?y="headers="+encodeURIComponent(String(Qo(K)))+"&"+y:this.m&&zt(E,this.m,K)),zi(this.h,F),this.Ua&&Xe(E,"TYPE","init"),this.P?(Xe(E,"$req",y),Xe(E,"SID","null"),F.T=!0,ar(F,E,null)):ar(F,E,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||zo(this.h)||Yo(this))};function Yo(c,y){var E;y?E=y.l:E=c.U++;const R=Et(c.I);Xe(R,"SID",c.K),Xe(R,"RID",E),Xe(R,"AID",c.T),Ba(c,R),c.m&&c.o&&zt(R,c.m,c.o),E=new Er(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Vu(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zi(c.h,E),ar(E,R,y)}function Ba(c,y){c.H&&J(c.H,function(E,R){Xe(y,R,E)}),c.l&&Oa({},function(E,R){Xe(y,R,E)})}function Vu(c,y,E){E=Math.min(c.i.length,E);var R=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let K=-1;for(;;){const ce=["count="+E];K==-1?0<E?(K=F[0].g,ce.push("ofs="+K)):K=0:ce.push("ofs="+K);let He=!0;for(let Mt=0;Mt<E;Mt++){let qe=F[Mt].g;const Ht=F[Mt].map;if(qe-=K,0>qe)K=Math.max(0,F[Mt].g-100),He=!1;else try{Sr(Ht,ce,"req"+qe+"_")}catch{R&&R(Ht)}}if(He){R=ce.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,R}function ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ve||M(),he||(ve(),he=!0),Ve.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ji(A(c.Fa,c),Zo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ji(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Rs(this),Mu(this))};function za(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new Er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Et(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Ba(c,y),c.m&&c.o&&zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=ja(Et(y)),E.m=null,E.P=!0,Fr(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Rs(this),Xo(this),At(19))};function xs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Lu(c,y){var E=null;if(c.g==y){xs(c),za(c),c.g=null;var R=2}else if(Bi(c.h,y))E=y.D,Hn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;R=ps(),ft(R,new bu(R,E)),Cs(c)}else ju(c);else if(F=y.s,F==3||F==0&&0<y.X||!(R==1&&ih(c,y)||R==2&&Xo(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),F){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function Zo(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Xr(c,y){if(c.j.info("Error code "+y),y==2){var E=A(c.fb,c),R=c.Xa;const F=!R;R=new $r(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hi(R,"https"),ja(R),F?Nu(R.toString(),E):Ma(R.toString(),E)}else At(2);c.G=0,c.l&&c.l.sa(y),ku(c),Ou(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const y=dn(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Uu(c,y,E){var R=E instanceof $r?Et(E):new $r(E);if(R.g!="")y&&(R.g=y+"."+R.g),Va(R,R.s);else{var F=d.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var K=new $r(null);R&&Hi(K,R),y&&(K.g=y),F&&Va(K,F),E&&(K.l=E),R=K}return E=c.D,y=c.ya,E&&y&&Xe(R,E,y),Xe(R,"VER",c.la),Ba(c,R),R}function Pu(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new et(new Fi({eb:E})):new et(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}i=Bu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ns(){}Ns.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){we.call(this),this.g=new ws(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Rr(this)}N(mn,we),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ko(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Mo(c),c=E);y.i.push(new Wf(y.Ya++,c)),y.G==3&&Cs(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,mn.aa.N.call(this)};function zu(c){Ii.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(zu,Ii);function Hu(){ir.call(this),this.status=1}N(Hu,ir);function Rr(c){this.g=c}N(Rr,Bu),Rr.prototype.ua=function(){ft(this.g,"a")},Rr.prototype.ta=function(c){ft(this.g,new zu(c))},Rr.prototype.sa=function(c){ft(this.g,new Hu)},Rr.prototype.ra=function(){ft(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,k0=function(){return new Ns},L0=function(){return ps()},M0=zn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,Xc=jt,qr.COMPLETE="complete",j0=qr,Su.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",we.prototype.listen=we.prototype.K,Hl=Su,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,V0=et}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",z_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new R0("@firebase/firestore");function io(){return cs.logLevel}function me(i,...e){if(cs.logLevel<=Ge.DEBUG){const n=e.map(fp);cs.debug(`Firestore (${Ao}): ${i}`,...n)}}function Si(i,...e){if(cs.logLevel<=Ge.ERROR){const n=e.map(fp);cs.error(`Firestore (${Ao}): ${i}`,...n)}}function fo(i,...e){if(cs.logLevel<=Ge.WARN){const n=e.map(fp);cs.warn(`Firestore (${Ao}): ${i}`,...n)}}function fp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+i;throw Si(e),new Error(e)}function tt(i,e){i||xe()}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class fx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hx{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string"),new U0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new cn(e)}}class dx{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mx{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new dx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class px{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,QC(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new H_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string"),this.R=n.token,new H_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=gx(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Be(i,e){return i<e?-1:i>e?1:0}function ho(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-62135596800,F_=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*F_);return new Vt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q_)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Vt(0,0))}static max(){return new Ne(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__name__";class jr{constructor(e,n,a){n===void 0?n=0:n>e.length&&xe(),a===void 0?a=e.length-n:a>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=jr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=jr.isNumericId(e),o=jr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?jr.extractNumericId(e).compare(jr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class ht extends jr{construct(e,n,a){return new ht(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends jr{construct(e,n,a){return new nn(e,n,a)}static isValidIdentifier(e){return yx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$_}static keyField(){return new nn([$_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function vx(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(a===1e9?new Vt(n+1,0):new Vt(n,a));return new _a(o,Se.empty(),e)}function _x(i){return new _a(i.readTime,i.key,tu)}class _a{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new _a(Ne.min(),Se.empty(),tu)}static max(){return new _a(Ne.max(),Se.empty(),tu)}}function Ex(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(i.documentKey,e.documentKey),n!==0?n:Be(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==Tx)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,a)=>{n(e)})}static reject(e){return new ne((n,a)=>{a(e)})}static waitFor(e){return new ne((n,a)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&n()},p=>a(p))}),h=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next(o=>o?ne.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ne((a,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(_=>{h[g]=_,++d,d===u&&a(h)},_=>o(_))}})}static doWhile(e,n){return new ne((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function bx(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Cf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=-1;function xf(i){return i==null}function lf(i){return i===0&&1/i==-1/0}function Ax(i){return typeof i=="number"&&Number.isInteger(i)&&!lf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="";function wx(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=G_(e)),e=Rx(i.get(n),e);return G_(e)}function Rx(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case B0:n+="";break;default:n+=u}}return n}function G_(i){return i+B0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ra(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function z0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new tn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,a,o,u){return this}insert(e,n,a){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Pt(nn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new H0("Invalid base64 string: "+u):u}}(e);return new rn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const Cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(i){if(tt(!!i),typeof i=="string"){let e=0;const n=Cx.exec(i);if(tt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ta(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="server_timestamp",F0="__type__",$0="__previous_value__",G0="__local_write_time__";function dp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[F0])===null||n===void 0?void 0:n.stringValue)===q0}function Nf(i){const e=i.mapValue.fields[$0];return dp(e)?Nf(e):e}function nu(i){const e=Ea(i.mapValue.fields[G0].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,a,o,u,h,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const uf="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||uf}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===uf}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="__type__",Nx="__max__",qc={mapValue:{}},K0="__vector__",cf="value";function Sa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?dp(i)?4:Ix(i)?9007199254740991:Dx(i)?10:11:xe()}function Br(i,e){if(i===e)return!0;const n=Sa(i);if(n!==Sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ea(o.timestampValue),d=Ea(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Ta(o.bytesValue).isEqual(Ta(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Rt(o.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Rt(o.integerValue)===Rt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Rt(o.doubleValue),d=Rt(u.doubleValue);return h===d?lf(h)===lf(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return ho(i.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(Q_(h)!==Q_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Br(h[p],d[p])))return!1;return!0}(i,e);default:return xe()}}function iu(i,e){return(i.values||[]).find(n=>Br(n,e))!==void 0}function mo(i,e){if(i===e)return 0;const n=Sa(i),a=Sa(e);if(n!==a)return Be(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Rt(u.integerValue||u.doubleValue),p=Rt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return Y_(i.timestampValue,e.timestampValue);case 4:return Y_(nu(i),nu(e));case 5:return Be(i.stringValue,e.stringValue);case 6:return function(u,h){const d=Ta(u),p=Ta(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Be(d[g],p[g]);if(_!==0)return _}return Be(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Be(Rt(u.latitude),Rt(h.latitude));return d!==0?d:Be(Rt(u.longitude),Rt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return X_(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,_;const b=u.fields||{},A=h.fields||{},D=(d=b[cf])===null||d===void 0?void 0:d.arrayValue,N=(p=A[cf])===null||p===void 0?void 0:p.arrayValue,z=Be(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:X_(D,N)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===qc.mapValue&&h===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(h===qc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const A=Be(p[b],_[b]);if(A!==0)return A;const D=mo(d[p[b]],g[_[b]]);if(D!==0)return D}return Be(p.length,_.length)}(i.mapValue,e.mapValue);default:throw xe()}}function Y_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const n=Ea(i),a=Ea(e),o=Be(n.seconds,a.seconds);return o!==0?o:Be(n.nanos,a.nanos)}function X_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=mo(n[o],a[o]);if(u)return u}return Be(n.length,a.length)}function po(i){return Om(i)}function Om(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Ea(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Ta(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Se.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Om(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Om(n.fields[h])}`;return o+"}"}(i.mapValue):xe()}function Zc(i){switch(Sa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(i);return e?16+Zc(e):16;case 5:return 2*i.stringValue.length;case 6:return Ta(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Zc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return Ra(a.fields,(u,h)=>{o+=u.length+Zc(h)}),o}(i.mapValue);default:throw xe()}}function Z_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Vm(i){return!!i&&"integerValue"in i}function mp(i){return!!i&&"arrayValue"in i}function W_(i){return!!i&&"nullValue"in i}function J_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Wc(i){return!!i&&"mapValue"in i}function Dx(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q0])===null||n===void 0?void 0:n.stringValue)===K0}function Kl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ra(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Kl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ix(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Nx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=nn.emptyPath(),a={},o=[];e.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=d.popLast()}h?a[d.lastSegment()]=Kl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ra(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new bn(Kl(this.value))}}function Y0(i){const e=[];return Ra(i.fields,(n,a)=>{const o=new nn([n]);if(Wc(a)){const u=Y0(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,a,o,u,h,d){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,Ne.min(),Ne.min(),Ne.min(),bn.empty(),0)}static newFoundDocument(e,n,a,o){return new fn(e,1,n,Ne.min(),a,o,0)}static newNoDocument(e,n){return new fn(e,2,n,Ne.min(),Ne.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ne.min(),Ne.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.position=e,this.inclusive=n}}function eE(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?a=Se.comparator(Se.fromName(h.referenceValue),n.key):a=mo(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function tE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Br(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ox(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{}class Ot extends X0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new jx(e,n,a):n==="array-contains"?new kx(e,a):n==="in"?new Ux(e,a):n==="not-in"?new Px(e,a):n==="array-contains-any"?new Bx(e,a):new Ot(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new Mx(e,a):new Lx(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&Sa(this.value)===Sa(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends X0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new mr(e,n)}matches(e){return Z0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Z0(i){return i.op==="and"}function W0(i){return Vx(i)&&Z0(i)}function Vx(i){for(const e of i.filters)if(e instanceof mr)return!1;return!0}function jm(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+po(i.value);if(W0(i))return i.filters.map(e=>jm(e)).join(",");{const e=i.filters.map(n=>jm(n)).join(",");return`${i.op}(${e})`}}function J0(i,e){return i instanceof Ot?function(a,o){return o instanceof Ot&&a.op===o.op&&a.field.isEqual(o.field)&&Br(a.value,o.value)}(i,e):i instanceof mr?function(a,o){return o instanceof mr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&J0(h,o.filters[d]),!0):!1}(i,e):void xe()}function eT(i){return i instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(i):i instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"}(i):"Filter"}class jx extends Ot{constructor(e,n,a){super(e,n,a),this.key=Se.fromName(a.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mx extends Ot{constructor(e,n){super(e,"in",n),this.keys=tT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lx extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=tT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Se.fromName(a.referenceValue))}class kx extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mp(n)&&iu(n.arrayValue,this.value)}}class Ux extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class Px extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class Bx extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>iu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n=null,a=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function nE(i,e=null,n=[],a=[],o=null,u=null,h=null){return new zx(i,e,n,a,o,u,h)}function pp(i){const e=Ie(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>jm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>po(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>po(a)).join(",")),e.le=n}return e.le}function gp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Ox(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!J0(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tE(i.startAt,e.startAt)&&tE(i.endAt,e.endAt)}function Mm(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n=null,a=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Hx(i,e,n,a,o,u,h,d){return new cu(i,e,n,a,o,u,h,d)}function yp(i){return new cu(i)}function rE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nT(i){return i.collectionGroup!==null}function Yl(i){const e=Ie(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Pt(nn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new hf(u,a))}),n.has(nn.keyField().canonicalString())||e.he.push(new hf(nn.keyField(),a))}return e.he}function Ur(i){const e=Ie(i);return e.Pe||(e.Pe=qx(e,Yl(i))),e.Pe}function qx(i,e){if(i.limitType==="F")return nE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hf(o.field,u)});const n=i.endAt?new ff(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new ff(i.startAt.position,i.startAt.inclusive):null;return nE(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Lm(i,e){const n=i.filters.concat([e]);return new cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function km(i,e,n){return new cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Df(i,e){return gp(Ur(i),Ur(e))&&i.limitType===e.limitType}function rT(i){return`${pp(Ur(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>eT(o)).join(", ")}]`),xf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>po(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>po(o)).join(",")),`Target(${a})`}(Ur(i))}; limitType=${i.limitType})`}function If(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Se.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Yl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(h,d,p){const g=eE(h,d,p);return h.inclusive?g<=0:g<0}(a.startAt,Yl(a),o)||a.endAt&&!function(h,d,p){const g=eE(h,d,p);return h.inclusive?g>=0:g>0}(a.endAt,Yl(a),o))}(i,e)}function Fx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function iT(i){return(e,n)=>{let a=!1;for(const o of Yl(i)){const u=$x(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function $x(i,e,n){const a=i.field.isKeyField()?Se.comparator(e.key,n.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?mo(p,g):xe()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new _t(Se.comparator);function bi(){return Gx}const aT=new _t(Se.comparator);function ql(...i){let e=aT;for(const n of i)e=e.insert(n.key,n);return e}function sT(i){let e=aT;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ls(){return Xl()}function oT(){return Xl()}function Xl(){return new hs(i=>i.toString(),(i,e)=>i.isEqual(e))}const Qx=new _t(Se.comparator),Kx=new Pt(Se.comparator);function Ue(...i){let e=Kx;for(const n of i)e=e.add(n);return e}const Yx=new Pt(Be);function Xx(){return Yx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(e)?"-0":e}}function lT(i){return{integerValue:""+i}}function Zx(i,e){return Ax(e)?lT(e):vp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function Wx(i,e,n){return i instanceof df?function(o,u){const h={fields:{[F0]:{stringValue:q0},[G0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dp(u)&&(u=Nf(u)),u&&(h.fields[$0]=u),{mapValue:h}}(n,e):i instanceof au?cT(i,e):i instanceof su?fT(i,e):function(o,u){const h=uT(o,u),d=iE(h)+iE(o.Ie);return Vm(h)&&Vm(o.Ie)?lT(d):vp(o.serializer,d)}(i,e)}function Jx(i,e,n){return i instanceof au?cT(i,e):i instanceof su?fT(i,e):n}function uT(i,e){return i instanceof mf?function(a){return Vm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class df extends Of{}class au extends Of{constructor(e){super(),this.elements=e}}function cT(i,e){const n=hT(e);for(const a of i.elements)n.some(o=>Br(o,a))||n.push(a);return{arrayValue:{values:n}}}class su extends Of{constructor(e){super(),this.elements=e}}function fT(i,e){let n=hT(e);for(const a of i.elements)n=n.filter(o=>!Br(o,a));return{arrayValue:{values:n}}}class mf extends Of{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function iE(i){return Rt(i.integerValue||i.doubleValue)}function hT(i){return mp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function e1(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof au&&o instanceof au||a instanceof su&&o instanceof su?ho(a.elements,o.elements,Br):a instanceof mf&&o instanceof mf?Br(a.Ie,o.Ie):a instanceof df&&o instanceof df}(i.transform,e.transform)}class t1{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Vf{}function dT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new _p(i.key,hr.none()):new fu(i.key,i.data,hr.none());{const n=i.data,a=bn.empty();let o=new Pt(nn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Ca(i.key,a,new Ln(o.toArray()),hr.none())}}function n1(i,e,n){i instanceof fu?function(o,u,h){const d=o.value.clone(),p=sE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,n):i instanceof Ca?function(o,u,h){if(!Jc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=sE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(mT(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Zl(i,e,n,a){return i instanceof fu?function(u,h,d,p){if(!Jc(u.precondition,h))return d;const g=u.value.clone(),_=oE(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,a):i instanceof Ca?function(u,h,d,p){if(!Jc(u.precondition,h))return d;const g=oE(u.fieldTransforms,p,h),_=h.data;return _.setAll(mT(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,n,a):function(u,h,d){return Jc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,n)}function r1(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=uT(a.transform,o||null);u!=null&&(n===null&&(n=bn.empty()),n.set(a.field,u))}return n||null}function aE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ho(a,o,(u,h)=>e1(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fu extends Vf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ca extends Vf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function sE(i,e,n){const a=new Map;tt(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);a.set(u.field,Jx(h,d,n[o]))}return a}function oE(i,e,n){const a=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);a.set(o.field,Wx(u,h,e))}return a}class _p extends Vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i1 extends Vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&n1(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Zl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Zl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=oT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(o.key)?null:d;const p=dT(h,d);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ne.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,a)=>aE(n,a))&&ho(this.baseMutations,e.baseMutations,(n,a)=>aE(n,a))}}class Ep{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){tt(e.mutations.length===a.length);let o=function(){return Qx}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Ep(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,$e;function l1(i){switch(i){case re.OK:return xe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe()}}function pT(i){if(i===void 0)return Si("GRPC error has no .code"),re.UNKNOWN;switch(i){case It.OK:return re.OK;case It.CANCELLED:return re.CANCELLED;case It.UNKNOWN:return re.UNKNOWN;case It.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case It.INTERNAL:return re.INTERNAL;case It.UNAVAILABLE:return re.UNAVAILABLE;case It.UNAUTHENTICATED:return re.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case It.NOT_FOUND:return re.NOT_FOUND;case It.ALREADY_EXISTS:return re.ALREADY_EXISTS;case It.PERMISSION_DENIED:return re.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case It.ABORTED:return re.ABORTED;case It.OUT_OF_RANGE:return re.OUT_OF_RANGE;case It.UNIMPLEMENTED:return re.UNIMPLEMENTED;case It.DATA_LOSS:return re.DATA_LOSS;default:return xe()}}($e=It||(It={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new ya([4294967295,4294967295],0);function lE(i){const e=u1().encode(i),n=new O0;return n.update(e),new Uint8Array(n.digest())}function uE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ya([n,a],0),new ya([o,u],0)]}class Tp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(a<0)throw new Fl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ya.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(ya.fromNumber(a)));return o.compare(c1)===1&&(o=new ya([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=lE(e),[a,o]=uE(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Tp(u,o,n);return a.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const n=lE(e),[a,o]=uE(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new jf(Ne.min(),o,new _t(Be),bi(),Ue())}}class hu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new hu(a,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class gT{constructor(e,n){this.targetId=e,this.ge=n}}class yT{constructor(e,n,a=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class cE{constructor(){this.pe=0,this.ye=fE(),this.we=rn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),a=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:xe()}}),new hu(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=fE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,tt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class f1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bi(),this.$e=Fc(),this.Ke=Fc(),this.Ue=new _t(Be)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Mm(u))if(a===0){const h=new Se(u.path);this.ze(n,h,fn.newNoDocument(h,Ne.min()))}else tt(a===1);else{const h=this.et(n);if(h!==a){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,d;try{h=Ta(a).toUint8Array()}catch(p){if(p instanceof H0)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Tp(h,o,u)}catch(p){return fo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&Mm(d.target)){const p=new Se(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,fn.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let a=Ue();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new jf(e,n,this.Ue,this.Qe,a);return this.Qe=bi(),this.$e=Fc(),this.Ke=Fc(),this.Ue=new _t(Be),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new cE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Pt(Be),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Pt(Be),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new _t(Se.comparator)}function fE(){return new _t(Se.comparator)}const h1={asc:"ASCENDING",desc:"DESCENDING"},d1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m1={and:"AND",or:"OR"};class p1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(i,e){return i.useProto3Json||xf(e)?e:{value:e}}function pf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function g1(i,e){return pf(i,e.toTimestamp())}function Pr(i){return tt(!!i),Ne.fromTimestamp(function(n){const a=Ea(n);return new Vt(a.seconds,a.nanos)}(i))}function Sp(i,e){return Pm(i,e).canonicalString()}function Pm(i,e){const n=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function _T(i){const e=ht.fromString(i);return tt(AT(e)),e}function Bm(i,e){return Sp(i.databaseId,e.path)}function sm(i,e){const n=_T(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Se(TT(n))}function ET(i,e){return Sp(i.databaseId,e)}function y1(i){const e=_T(i);return e.length===4?ht.emptyPath():TT(e)}function zm(i){return new ht(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function TT(i){return tt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function hE(i,e,n){return{name:Bm(i,e),fields:n.value.mapValue.fields}}function v1(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(tt(_===void 0||typeof _=="string"),rn.fromBase64String(_||"")):(tt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),rn.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?re.UNKNOWN:pT(g.code);return new pe(_,g.message||"")}(h);n=new yT(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=sm(i,a.document.name),u=Pr(a.document.updateTime),h=a.document.createTime?Pr(a.document.createTime):Ne.min(),d=new bn({mapValue:{fields:a.document.fields}}),p=fn.newFoundDocument(o,u,h,d),g=a.targetIds||[],_=a.removedTargetIds||[];n=new ef(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=sm(i,a.document),u=a.readTime?Pr(a.readTime):Ne.min(),h=fn.newNoDocument(o,u),d=a.removedTargetIds||[];n=new ef([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=sm(i,a.document),u=a.removedTargetIds||[];n=new ef([],u,o,null)}else{if(!("filter"in e))return xe();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new o1(o,u),d=a.targetId;n=new gT(d,h)}}return n}function _1(i,e){let n;if(e instanceof fu)n={update:hE(i,e.key,e.value)};else if(e instanceof _p)n={delete:Bm(i,e.key)};else if(e instanceof Ca)n={update:hE(i,e.key,e.data),updateMask:x1(e.fieldMask)};else{if(!(e instanceof i1))return xe();n={verify:Bm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof df)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof mf)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw xe()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:g1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe()}(i,e.precondition)),n}function E1(i,e){return i&&i.length>0?(tt(e!==void 0),i.map(n=>function(o,u){let h=o.updateTime?Pr(o.updateTime):Pr(u);return h.isEqual(Ne.min())&&(h=Pr(u)),new t1(h,o.transformResults||[])}(n,e))):[]}function T1(i,e){return{documents:[ET(i,e.path)]}}function S1(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=ET(i,o);const u=function(g){if(g.length!==0)return bT(mr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(A){return{field:so(A.field),direction:w1(A.dir)}}(_))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=Um(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function b1(i){let e=y1(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){tt(a===1);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(b){const A=ST(b);return A instanceof mr&&W0(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(A=>function(N){return new hf(oo(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(n.orderBy));let d=null;n.limit&&(d=function(b){let A;return A=typeof b=="object"?b.value:b,xf(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(b){const A=!!b.before,D=b.values||[];return new ff(D,A)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const A=!b.before,D=b.values||[];return new ff(D,A)}(n.endAt)),Hx(e,o,h,u,d,"F",p,g)}function A1(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=oo(n.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(i):i.fieldFilter!==void 0?function(n){return Ot.create(oo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(a=>ST(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(i):xe()}function w1(i){return h1[i]}function R1(i){return d1[i]}function C1(i){return m1[i]}function so(i){return{fieldPath:i.canonicalString()}}function oo(i){return nn.fromServerFormat(i.fieldPath)}function bT(i){return i instanceof Ot?function(n){if(n.op==="=="){if(J_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(W_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(W_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:R1(n.op),value:n.value}}}(i):i instanceof mr?function(n){const a=n.getFilters().map(o=>bT(o));return a.length===1?a[0]:{compositeFilter:{op:C1(n.op),filters:a}}}(i):xe()}function x1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,a,o,u=Ne.min(),h=Ne.min(),d=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.Tt=e}}function D1(i){const e=b1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.Tn=new O1}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(_a.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class O1{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Pt(ht.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Pt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wT=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(wT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new go(0)}static Un(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",V1=1048576;function pE([i,e],[n,a]){const o=Be(i,n);return o===0?Be(e,a):o}class j1{constructor(e){this.Hn=e,this.buffer=new Pt(pE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();pE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M1{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(mE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?me(mE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.er(3e5)})}}class L1{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Cf.ae);const a=new j1(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(dE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,d=Date.now(),this.removeTargets(e,a,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),io()<=Ge.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function k1(i,e){return new L1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.changes=new hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Zl(a.mutation,o,Ln.empty(),Vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ue()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ue()){const o=ls();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let h=ql();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=ls();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ue()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(e,n,a,o){let u=bi();const h=Xl(),d=function(){return Xl()}();return n.forEach((p,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Ca)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Zl(_.mutation,g,_.mutation.getFieldMask(),Vt.now())):h.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),n.forEach((g,_)=>{var b;return d.set(g,new P1(_,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,n){const a=Xl();let o=new _t((h,d)=>h-d),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let _=a.get(p)||Ln.empty();_=d.applyToLocalView(g,_),a.set(p,_);const b=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,b=oT();_.forEach(A=>{if(!u.has(A)){const D=dT(n.get(A),a.get(A));D!==null&&b.set(A,D),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(h){return Se.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ne.resolve(ls());let d=tu,p=u;return h.next(g=>ne.forEach(g,(_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{p=p.insert(_,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(_=>({batchId:d,changes:sT(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(a=>{let o=ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=ql();return this.indexManager.getCollectionParents(e,u).next(d=>ne.forEach(d,p=>{const g=function(b,A){return new cu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(_=>{_.forEach((b,A)=>{h=h.insert(b,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,fn.newInvalidDocument(_)))});let d=ql();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&Zl(_.mutation,g,Ln.empty(),Vt.now()),If(n,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:D1(o.bundledQuery),readTime:Pr(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.overlays=new _t(Se.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ls();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const o=ls(),u=n.length+1,h=new Se(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new _t((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=ls(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ls(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ne.resolve(d)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new s1(n,a));let u=this.Rr.get(n);u===void 0&&(u=Ue(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.Vr=new Pt(Gt.mr),this.gr=new Pt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Gt(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Gt(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new Se(new ht([])),a=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Se(new ht([])),a=new Gt(n,e),o=new Gt(n,e+1);let u=Ue();return this.gr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Gt(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Gt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Se.comparator(e.key,n.key)||Be(e.Cr,n.Cr)}static pr(e,n){return Be(e.Cr,n.Cr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Pt(Gt.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new a1(u,n,a,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Gt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?hp:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],h=>{const d=this.Or(h.Cr);u.push(d)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Pt(Be);return n.forEach(o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{a=a.add(d.Cr)})}),ne.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Se.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new Se(u),0);let d=new Pt(Be);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),ne.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){tt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ne.forEach(n.mutations,o=>{const u=new Gt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Gt(n,0),o=this.Mr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.kr=e,this.docs=function(){return new _t(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let a=bi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))}),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=bi();const h=n.path,d=new Se(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||Ex(_x(_),a)<=0||(o.has(_.key)||If(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,a,o){xe()}qr(e,n){return ne.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new G1(this)}getSize(e){return ne.resolve(this.size)}}class G1 extends U1{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.persistence=e,this.Qr=new hs(n=>pp(n),gp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new bp,this.targetCount=0,this.Ur=go.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new go(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Cf(0),this.zr=!1,this.zr=!0,this.jr=new q1,this.referenceDelegate=e(this),this.Hr=new Q1(this),this.indexManager=new I1,this.remoteDocumentCache=function(o){return new $1(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new N1(n),this.Yr=new z1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new F1(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const o=new K1(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ne.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class K1 extends Sx{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.ti=new bp,this.ni=null}static ri(e){return new Ap(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,a=>{const o=Se.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ne.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class gf{constructor(e,n){this.persistence=e,this.oi=new hs(a=>wx(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=k1(this,n)}static ri(e,n){return new gf(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(d=>{d||(a++,u.removeEntry(h,Ne.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}ar(e,n,a){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return FR()?8:bx(HR())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Y1;return this._s(e,n,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,n,h,d.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(io()<=Ge.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(io()<=Ge.DEBUG&&me("QueryEngine","Query:",ao(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(io()<=Ge.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):ne.resolve())}rs(e,n){if(rE(n))return ne.resolve(null);let a=Ur(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),a=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=Ue(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.cs(n,d);return this.ls(n,g,h,p.readTime)?this.rs(e,km(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,a,o){return rE(n)||o.isEqual(Ne.min())?ne.resolve(null):this.ns.getDocuments(e,a).next(u=>{const h=this.cs(n,u);return this.ls(n,h,a,o)?ne.resolve(null):(io()<=Ge.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.hs(e,h,n,vx(o,tu)).next(d=>d))})}cs(e,n){let a=new Pt(iT(e));return n.forEach((o,u)=>{If(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return io()<=Ge.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ns.getDocumentsMatchingQuery(e,n,_a.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="LocalStore",Z1=3e8;class W1{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new _t(Be),this.Is=new hs(u=>pp(u),gp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function J1(i,e,n,a){return new W1(i,e,n,a)}async function CT(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function e2(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const b=g.batch,A=b.keys();let D=ne.resolve();return A.forEach(N=>{D=D.next(()=>_.getEntry(p,N)).next(z=>{const k=g.docVersions.get(N);tt(k!==null),z.version.compareTo(k)<0&&(b.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function xT(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function t2(i,e){const n=Ie(i),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const d=[];e.targetChanges.forEach((_,b)=>{const A=o.get(b);if(!A)return;d.push(n.Hr.removeMatchingKeys(u,_.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,_.addedDocuments,b)));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(rn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,a)),o=o.insert(b,D),function(z,k,q){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=Z1?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,D,_)&&d.push(n.Hr.updateTargetData(u,D))});let p=bi(),g=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(n2(u,h,e.documentUpdates).next(_=>{p=_.Vs,g=_.fs})),!a.isEqual(Ne.min())){const _=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(_)}return ne.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function n2(i,e,n){let a=Ue(),o=Ue();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let h=bi();return n.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):me(Rp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function r2(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=hp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function i2(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,ne.resolve(o)):n.Hr.allocateTargetId(a).next(h=>(o=new da(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Hm(i,e,n){const a=Ie(i),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ro(h))throw h;me(Rp,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function gE(i,e,n){const a=Ie(i);let o=Ne.min(),u=Ue();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const b=Ie(p),A=b.Is.get(_);return A!==void 0?ne.resolve(b.Ts.get(A)):b.Hr.getTargetData(g,_)}(a,h,Ur(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,e,n?o:Ne.min(),n?u:Ue())).next(d=>(a2(a,Fx(e),d),{documents:d,gs:u})))}function a2(i,e,n){let a=i.Es.get(e)||Ne.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(e,a)}class yE{constructor(){this.activeTargetIds=Xx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s2{constructor(){this.ho=new yE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="ConnectivityMonitor";class _E{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(vE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(vE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function qm(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",l2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===uf?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(e,n,a,o,u){const h=qm(),d=this.So(e,n.toUriEncodedString());me(om,`Sending RPC '${e}' ${h}:`,d,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,a).then(g=>(me(om,`Received RPC '${e}' ${h}: `,g),g),g=>{throw fo(om,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",a),g})}Co(e,n,a,o,u,h){return this.bo(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}So(e,n){const a=l2[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class f2 extends u2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=qm();return new Promise((h,d)=>{const p=new V0;p.setWithCredentials(!0),p.listenOnce(j0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xc.NO_ERROR:const _=p.getResponseJson();me(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Xc.TIMEOUT:me(ln,`RPC '${e}' ${u} timed out`),d(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const b=p.getStatus();if(me(ln,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const N=function(k){const q=k.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(q)>=0?q:re.UNKNOWN}(D.status);d(new pe(N,D.message))}else d(new pe(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new pe(re.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{me(ln,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);me(ln,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,a,15)})}Wo(e,n,a){const o=qm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=k0(),d=L0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const _=u.join("");me(ln,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=h.createWebChannel(_,p);let A=!1,D=!1;const N=new c2({Fo:k=>{D?me(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(A||(me(ln,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),me(ln,`RPC '${e}' stream ${o} sending:`,k),b.send(k))},Mo:()=>b.close()}),z=(k,q,Y)=>{k.listen(q,G=>{try{Y(G)}catch(W){setTimeout(()=>{throw W},0)}})};return z(b,Hl.EventType.OPEN,()=>{D||(me(ln,`RPC '${e}' stream ${o} transport opened.`),N.Qo())}),z(b,Hl.EventType.CLOSE,()=>{D||(D=!0,me(ln,`RPC '${e}' stream ${o} transport closed`),N.Ko())}),z(b,Hl.EventType.ERROR,k=>{D||(D=!0,fo(ln,`RPC '${e}' stream ${o} transport errored:`,k),N.Ko(new pe(re.UNAVAILABLE,"The operation could not be completed")))}),z(b,Hl.EventType.MESSAGE,k=>{var q;if(!D){const Y=k.data[0];tt(!!Y);const G=Y,W=(G==null?void 0:G.error)||((q=G[0])===null||q===void 0?void 0:q.error);if(W){me(ln,`RPC '${e}' stream ${o} received error:`,W);const ie=W.status;let J=function(C){const O=It[C];if(O!==void 0)return pT(O)}(ie),I=W.message;J===void 0&&(J=re.INTERNAL,I="Unknown error status: "+ie+" with message "+W.message),D=!0,N.Ko(new pe(J,I)),b.close()}else me(ln,`RPC '${e}' stream ${o} received:`,Y),N.Uo(Y)}}),z(d,M0.STAT_EVENT,k=>{k.stat===Im.PROXY?me(ln,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Im.NOPROXY&&me(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(i){return new p1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class DT{constructor(e,n,a,o,u,h,d,p){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new NT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new pe(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h2 extends DT{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=v1(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ne.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ne.min():h.readTime?Pr(h.readTime):Ne.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=zm(this.serializer),n.addTarget=function(u,h){let d;const p=h.target;if(d=Mm(p)?{documents:T1(u,p)}:{query:S1(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=vT(u,h.resumeToken);const g=Um(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ne.min())>0){d.readTime=pf(u,h.snapshotVersion.toTimestamp());const g=Um(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=A1(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.I_(n)}}class d2 extends DT{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return tt(!!e.streamToken),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=E1(e.writeResults,e.commitTime),a=Pr(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=zm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>_1(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{}class p2 extends m2{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Pm(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(re.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Pm(n,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(re.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class g2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Si(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="RemoteStore";class y2{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{a.enqueueAndForget(async()=>{ds(this)&&(me(fs,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.W_.add(4),await du(g),g.j_.set("Unknown"),g.W_.delete(4),await Lf(g)}(this))})}),this.j_=new g2(a,o)}}async function Lf(i){if(ds(i))for(const e of i.G_)await e(!0)}async function du(i){for(const e of i.G_)await e(!1)}function IT(i,e){const n=Ie(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Dp(n)?Np(n):Co(n).c_()&&xp(n,e))}function Cp(i,e){const n=Ie(i),a=Co(n);n.U_.delete(e),a.c_()&&OT(n,e),n.U_.size===0&&(a.c_()?a.P_():ds(n)&&n.j_.set("Unknown"))}function xp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(i).y_(e)}function OT(i,e){i.H_.Ne(e),Co(i).w_(e)}function Np(i){i.H_=new f1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Co(i).start(),i.j_.B_()}function Dp(i){return ds(i)&&!Co(i).u_()&&i.U_.size>0}function ds(i){return Ie(i).W_.size===0}function VT(i){i.H_=void 0}async function v2(i){i.j_.set("Online")}async function _2(i){i.U_.forEach((e,n)=>{xp(i,e)})}async function E2(i,e){VT(i),Dp(i)?(i.j_.q_(e),Np(i)):i.j_.set("Unknown")}async function T2(i,e,n){if(i.j_.set("Online"),e instanceof yT&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(a){me(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yf(i,a)}else if(e instanceof ef?i.H_.We(e):e instanceof gT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ne.min()))try{const a=await xT(i.localStore);n.compareTo(a)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.U_.get(g);_&&u.U_.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=u.U_.get(p);if(!_)return;u.U_.set(p,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),OT(u,p);const b=new da(_.target,p,g,_.sequenceNumber);xp(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(a){me(fs,"Failed to raise snapshot:",a),await yf(i,a)}}async function yf(i,e,n){if(!Ro(e))throw e;i.W_.add(1),await du(i),i.j_.set("Offline"),n||(n=()=>xT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(fs,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Lf(i)})}function jT(i,e){return e().catch(n=>yf(i,n,e))}async function kf(i){const e=Ie(i),n=ba(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:hp;for(;S2(e);)try{const o=await r2(e.localStore,a);if(o===null){e.K_.length===0&&n.P_();break}a=o.batchId,b2(e,o)}catch(o){await yf(e,o)}MT(e)&&LT(e)}function S2(i){return ds(i)&&i.K_.length<10}function b2(i,e){i.K_.push(e);const n=ba(i);n.c_()&&n.b_&&n.S_(e.mutations)}function MT(i){return ds(i)&&!ba(i).u_()&&i.K_.length>0}function LT(i){ba(i).start()}async function A2(i){ba(i).C_()}async function w2(i){const e=ba(i);for(const n of i.K_)e.S_(n.mutations)}async function R2(i,e,n){const a=i.K_.shift(),o=Ep.from(a,e,n);await jT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await kf(i)}async function C2(i,e){e&&ba(i).b_&&await async function(a,o){if(function(h){return l1(h)&&h!==re.ABORTED}(o.code)){const u=a.K_.shift();ba(a).h_(),await jT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await kf(a)}}(i,e),MT(i)&&LT(i)}async function TE(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),me(fs,"RemoteStore received new credentials");const a=ds(n);n.W_.add(3),await du(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Lf(n)}async function x2(i,e){const n=Ie(i);e?(n.W_.delete(2),await Lf(n)):e||(n.W_.add(2),await du(n),n.j_.set("Unknown"))}function Co(i){return i.J_||(i.J_=function(n,a,o){const u=Ie(n);return u.M_(),new h2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:v2.bind(null,i),No:_2.bind(null,i),Lo:E2.bind(null,i),p_:T2.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Dp(i)?Np(i):i.j_.set("Unknown")):(await i.J_.stop(),VT(i))})),i.J_}function ba(i){return i.Y_||(i.Y_=function(n,a,o){const u=Ie(n);return u.M_(),new d2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:A2.bind(null,i),Lo:C2.bind(null,i),D_:w2.bind(null,i),v_:R2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await kf(i)):(await i.Y_.stop(),i.K_.length>0&&(me(fs,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,d=new Ip(e,n,h,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(i,e){if(Si("AsyncQueue",`${e}: ${i}`),Ro(i))return new pe(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Se.comparator(n.key,a.key):(n,a)=>Se.comparator(n.key,a.key),this.keyedMap=ql(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new co;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.Z_=new _t(Se.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class yo{constructor(e,n,a,o,u,h,d,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new yo(e,n,co.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class D2{constructor(){this.queries=bE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=Ie(n),u=o.queries;o.queries=bE(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(a)})})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function bE(){return new hs(i=>rT(i),Df)}async function kT(i,e){const n=Ie(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new N2,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const d=Op(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Vp(n)}async function UT(i,e){const n=Ie(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function I2(i,e){const n=Ie(i);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(a=!0);h.ea=o}}a&&Vp(n)}function O2(i,e,n){const a=Ie(i),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function Vp(i){i.ia.forEach(e=>{e.next()})}var Fm,AE;(AE=Fm||(Fm={}))._a="default",AE.Cache="cache";class PT{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new yo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.key=e}}class zT{constructor(e){this.key=e}}class V2{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=iT(e),this.wa=new co(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new SE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,b)=>{const A=o.get(_),D=If(this.query,b)?b:null,N=!!A&&this.mutatedKeys.has(A.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;A&&D?A.data.isEqual(D.data)?N!==z&&(a.track({type:3,doc:D}),k=!0):this.va(A,D)||(a.track({type:2,doc:D}),k=!0,(p&&this.ya(D,p)>0||g&&this.ya(D,g)<0)&&(d=!0)):!A&&D?(a.track({type:0,doc:D}),k=!0):A&&!D&&(a.track({type:1,doc:A}),k=!0,(p||g)&&(d=!0)),k&&(D?(h=h.add(D),u=z?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{wa:h,Da:a,ls:d,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((_,b)=>function(D,N){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return z(D)-z(N)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(a),o=o!=null&&o;const d=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new yo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new SE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new zT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new BT(a))}),n}Oa(e){this.fa=e.gs,this.pa=Ue();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jp="SyncEngine";class j2{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class M2{constructor(e){this.key=e,this.Ba=!1}}class L2{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new hs(d=>rT(d),Df),this.qa=new Map,this.Qa=new Set,this.$a=new _t(Se.comparator),this.Ka=new Map,this.Ua=new bp,this.Wa={},this.Ga=new Map,this.za=go.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function k2(i,e,n=!0){const a=QT(i);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await HT(a,e,n,!0),o}async function U2(i,e){const n=QT(i);await HT(n,e,!0,!1)}async function HT(i,e,n,a){const o=await i2(i.localStore,Ur(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let d;return a&&(d=await P2(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&IT(i.remoteStore,o),d}async function P2(i,e,n,a,o){i.Ha=(b,A,D)=>async function(z,k,q,Y){let G=k.view.Sa(q);G.ls&&(G=await gE(z.localStore,k.query,!1).then(({documents:I})=>k.view.Sa(I,G)));const W=Y&&Y.targetChanges.get(k.targetId),ie=Y&&Y.targetMismatches.get(k.targetId)!=null,J=k.view.applyChanges(G,z.isPrimaryClient,W,ie);return RE(z,k.targetId,J.Ma),J.snapshot}(i,b,A,D);const u=await gE(i.localStore,e,!0),h=new V2(e,u.gs),d=h.Sa(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);RE(i,n,g.Ma);const _=new j2(e,n,h);return i.ka.set(e,_),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function B2(i,e,n){const a=Ie(i),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(h=>!Df(h,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Cp(a.remoteStore,o.targetId),$m(a,o.targetId)}).catch(wo)):($m(a,o.targetId),await Hm(a.localStore,o.targetId,!0))}async function z2(i,e){const n=Ie(i),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Cp(n.remoteStore,a.targetId))}async function H2(i,e,n){const a=Y2(i);try{const o=await function(h,d){const p=Ie(h),g=Vt.now(),_=d.reduce((D,N)=>D.add(N.key),Ue());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=bi(),z=Ue();return p.ds.getEntries(D,_).next(k=>{N=k,N.forEach((q,Y)=>{Y.isValidDocument()||(z=z.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,N)).next(k=>{b=k;const q=[];for(const Y of d){const G=r1(Y,b.get(Y.key).overlayedDocument);G!=null&&q.push(new Ca(Y.key,G,Y0(G.value.mapValue),hr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,q,d)}).next(k=>{A=k;const q=k.applyToLocalDocumentSet(b,z);return p.documentOverlayCache.saveOverlays(D,k.batchId,q)})}).then(()=>({batchId:A.batchId,changes:sT(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new _t(Be)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(a,o.batchId,n),await mu(a,o.changes),await kf(a.remoteStore)}catch(o){const u=Op(o,"Failed to persist write");n.reject(u)}}async function qT(i,e){const n=Ie(i);try{const a=await t2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ka.get(u);h&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?tt(h.Ba):o.removedDocuments.size>0&&(tt(h.Ba),h.Ba=!1))}),await mu(n,a,e)}catch(a){await wo(a)}}function wE(i,e,n){const a=Ie(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ie(h);p.onlineState=d;let g=!1;p.queries.forEach((_,b)=>{for(const A of b.ta)A.sa(d)&&(g=!0)}),g&&Vp(p)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function q2(i,e,n){const a=Ie(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ka.get(e),u=o&&o.key;if(u){let h=new _t(Se.comparator);h=h.insert(u,fn.newNoDocument(u,Ne.min()));const d=Ue().add(u),p=new jf(Ne.min(),new Map,new _t(Be),h,d);await qT(a,p),a.$a=a.$a.remove(u),a.Ka.delete(e),Mp(a)}else await Hm(a.localStore,e,!1).then(()=>$m(a,e,n)).catch(wo)}async function F2(i,e){const n=Ie(i),a=e.batch.batchId;try{const o=await e2(n.localStore,e);$T(n,a,null),FT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await mu(n,o)}catch(o){await wo(o)}}async function $2(i,e,n){const a=Ie(i);try{const o=await function(h,d){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(tt(b!==null),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(a.localStore,e);$T(a,e,n),FT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await mu(a,o)}catch(o){await wo(o)}}function FT(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function $T(i,e,n){const a=Ie(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function $m(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.qa.get(e))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(a=>{i.Ua.containsKey(a)||GT(i,a)})}function GT(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Cp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),Mp(i))}function RE(i,e,n){for(const a of n)a instanceof BT?(i.Ua.addReference(a.key,e),G2(i,a)):a instanceof zT?(me(jp,"Document no longer in limbo: "+a.key),i.Ua.removeReference(a.key,e),i.Ua.containsKey(a.key)||GT(i,a.key)):xe()}function G2(i,e){const n=e.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(me(jp,"New document in limbo: "+n),i.Qa.add(a),Mp(i))}function Mp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Se(ht.fromString(e)),a=i.za.next();i.Ka.set(a,new M2(n)),i.$a=i.$a.insert(n,a),IT(i.remoteStore,new da(Ur(yp(n.path)),a,"TargetPurposeLimboResolution",Cf.ae))}}async function mu(i,e,n){const a=Ie(i),o=[],u=[],h=[];a.ka.isEmpty()||(a.ka.forEach((d,p)=>{h.push(a.Ha(p,e,n).then(g=>{var _;if((g||n)&&a.isPrimaryClient){const b=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=wp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(h),a.La.p_(o),await async function(p,g){const _=Ie(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(g,A=>ne.forEach(A.Hi,D=>_.persistence.referenceDelegate.addReference(b,A.targetId,D)).next(()=>ne.forEach(A.Ji,D=>_.persistence.referenceDelegate.removeReference(b,A.targetId,D)))))}catch(b){if(!Ro(b))throw b;me(Rp,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const D=_.Ts.get(A),N=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(N);_.Ts=_.Ts.insert(A,z)}}}(a.localStore,u))}async function Q2(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){me(jp,"User change. New user:",e.toKey());const a=await CT(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new pe(re.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await mu(n,a.Rs)}}function K2(i,e){const n=Ie(i),a=n.Ka.get(e);if(a&&a.Ba)return Ue().add(a.key);{let o=Ue();const u=n.qa.get(e);if(!u)return o;for(const h of u){const d=n.ka.get(h);o=o.unionWith(d.view.ba)}return o}}function QT(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q2.bind(null,e),e.La.p_=I2.bind(null,e.eventManager),e.La.Ja=O2.bind(null,e.eventManager),e}function Y2(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$2.bind(null,e),e}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return J1(this.persistence,new X1,e.initialUser,this.serializer)}Xa(e){return new RT(Ap.ri,this.serializer)}Za(e){return new s2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class X2 extends vf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){tt(this.persistence.referenceDelegate instanceof gf);const a=this.persistence.referenceDelegate.garbageCollector;return new M1(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new RT(a=>gf.ri(a,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q2.bind(null,this.syncEngine),await x2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D2}()}createDatastore(e){const n=Mf(e.databaseInfo.databaseId),a=function(u){return new f2(u)}(e.databaseInfo);return function(u,h,d,p){return new p2(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,h,d){return new y2(a,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,n=>wE(this.syncEngine,n,0),function(){return _E.D()?new _E:new o2}())}createSyncEngine(e,n){return function(o,u,h,d,p,g,_){const b=new L2(o,u,h,d,p,g);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);me(fs,"RemoteStore shutting down."),u.W_.add(5),await du(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="FirestoreClient";class Z2{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=P0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{me(Aa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(me(Aa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Op(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function um(i,e){i.asyncQueue.verifyOperationInProgress(),me(Aa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await CT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function CE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await W2(i);me(Aa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>TE(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>TE(e.remoteStore,o)),i._onlineComponents=e}async function W2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(Aa,"Using user provided OfflineComponentProvider");try{await um(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await um(i,new vf)}}else me(Aa,"Using default OfflineComponentProvider"),await um(i,new X2(void 0));return i._offlineComponents}async function YT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(Aa,"Using user provided OnlineComponentProvider"),await CE(i,i._uninitializedComponentsProvider._online)):(me(Aa,"Using default OnlineComponentProvider"),await CE(i,new Gm))),i._onlineComponents}function J2(i){return YT(i).then(e=>e.syncEngine)}async function XT(i){const e=await YT(i),n=e.eventManager;return n.onListen=k2.bind(null,e.syncEngine),n.onUnlisten=B2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=U2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z2.bind(null,e.syncEngine),n}function eN(i,e,n={}){const a=new yi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new KT({next:A=>{_.su(),h.enqueueAndForget(()=>UT(u,b));const D=A.docs.has(d);!D&&A.fromCache?g.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&p&&p.source==="server"?g.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new PT(yp(d.path),_,{includeMetadataChanges:!0,Ta:!0});return kT(u,b)}(await XT(i),i.asyncQueue,e,n,a)),a.promise}function tN(i,e,n={}){const a=new yi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new KT({next:A=>{_.su(),h.enqueueAndForget(()=>UT(u,b)),A.fromCache&&p.source==="server"?g.reject(new pe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new PT(d,_,{includeMetadataChanges:!0,Ta:!0});return kT(u,b)}(await XT(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(i,e,n){if(!n)throw new pe(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nN(i,e,n,a){if(e===!0&&a===!0)throw new pe(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function NE(i){if(!Se.isDocumentKey(i))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function DE(i){if(Se.isDocumentKey(i))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Uf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe()}function Ai(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uf(i);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="firestore.googleapis.com",IE=!0;class OE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JT,this.ssl=IE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:IE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V1)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new cx;switch(a.type){case"firstParty":return new mx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=xE.get(n);a&&(me("ComponentProvider","Removing Datastore"),xE.delete(n),a.terminate())}(this),Promise.resolve()}}function rN(i,e,n,a={}){var o;const u=(i=Ai(i,Pf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${n}`;u.host!==JT&&u.host!==d&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!af(p,h)&&(i._setSettings(p),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=cn.MOCK_USER;else{g=zR(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new cn(b)}i._authCredentials=new fx(new U0(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class wn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class va extends xo{constructor(e,n,a){super(e,n,yp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Se(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function jn(i,e,...n){if(i=Ei(i),WT("collection","path",e),i instanceof Pf){const a=ht.fromString(e,...n);return DE(a),new va(i,null,a)}{if(!(i instanceof wn||i instanceof va))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ht.fromString(e,...n));return DE(a),new va(i.firestore,null,a)}}function $l(i,e,...n){if(i=Ei(i),arguments.length===1&&(e=P0.newId()),WT("doc","path",e),i instanceof Pf){const a=ht.fromString(e,...n);return NE(a),new wn(i,null,new Se(a))}{if(!(i instanceof wn||i instanceof va))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ht.fromString(e,...n));return NE(a),new wn(i.firestore,i instanceof va?i.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new NT(this,"async_queue_retry"),this.bu=()=>{const a=lm();a&&me(VE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new yi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ro(e))throw e;me(VE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(a);throw Si("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Ip.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class No extends Pf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new jE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function iN(i,e){const n=typeof i=="object"?i:ZC(),a=typeof i=="string"?i:uf,o=GC(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=PR("firestore");u&&rN(o,...u)}return o}function Lp(i){if(i._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||aN(i),i._firestoreClient}function aN(i){var e,n,a;const o=i._freezeSettings(),u=function(d,p,g,_){return new xx(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,ZT(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Z2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(rn.fromBase64String(e))}catch(n){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^__.*__$/;class oN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class eS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Bp{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _f(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(tS(this.Lu)&&sN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class lN{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Mf(e)}ju(e,n,a,o=!1){return new Bp({Lu:e,methodName:n,zu:a,path:nn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zp(i){const e=i._freezeSettings(),n=Mf(i._databaseId);return new lN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function uN(i,e,n,a,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,o);Hp("Data must be an object, but it was:",h,a);const d=nS(a,h);let p,g;if(u.merge)p=new Ln(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const A=Qm(e,b,n);if(!h.contains(A))throw new pe(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);iS(_,A)||_.push(A)}p=new Ln(_),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new oN(new bn(d),p,g)}class zf extends kp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function cN(i,e,n,a){const o=i.ju(1,e,n);Hp("Data must be an object, but it was:",o,a);const u=[],h=bn.empty();Ra(a,(p,g)=>{const _=qp(e,p,n);g=Ei(g);const b=o.Ku(_);if(g instanceof zf)u.push(_);else{const A=pu(g,b);A!=null&&(u.push(_),h.set(_,A))}});const d=new Ln(u);return new eS(h,d,o.fieldTransforms)}function fN(i,e,n,a,o,u){const h=i.ju(1,e,n),d=[Qm(e,a,n)],p=[o];if(u.length%2!=0)throw new pe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(Qm(e,u[A])),p.push(u[A+1]);const g=[],_=bn.empty();for(let A=d.length-1;A>=0;--A)if(!iS(g,d[A])){const D=d[A];let N=p[A];N=Ei(N);const z=h.Ku(D);if(N instanceof zf)g.push(D);else{const k=pu(N,z);k!=null&&(g.push(D),_.set(D,k))}}const b=new Ln(g);return new eS(_,b,h.fieldTransforms)}function hN(i,e,n,a=!1){return pu(n,i.ju(a?4:3,e))}function pu(i,e){if(rS(i=Ei(i)))return Hp("Unsupported field value:",e,i),nS(i,e);if(i instanceof kp)return function(a,o){if(!tS(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let p=pu(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=Ei(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Zx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Vt.fromDate(a);return{timestampValue:pf(o.serializer,u)}}if(a instanceof Vt){const u=new Vt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:pf(o.serializer,u)}}if(a instanceof Up)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vo)return{bytesValue:vT(o.serializer,a._byteString)};if(a instanceof wn){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Pp)return function(h,d){return{mapValue:{fields:{[Q0]:{stringValue:K0},[cf]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return vp(d.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Uf(a)}`)}(i,e)}function nS(i,e){const n={};return z0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(i,(a,o)=>{const u=pu(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function rS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Vt||i instanceof Up||i instanceof vo||i instanceof wn||i instanceof kp||i instanceof Pp)}function Hp(i,e,n){if(!rS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Uf(n);throw a==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+a)}}function Qm(i,e,n){if((e=Ei(e))instanceof Bf)return e._internalPath;if(typeof e=="string")return qp(i,e);throw _f("Field path arguments must be of type string or ",i,!1,void 0,n)}const dN=new RegExp("[~\\*/\\[\\]]");function qp(i,e,n){if(e.search(dN)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Bf(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function _f(i,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new pe(re.INVALID_ARGUMENT,d+i+p)}function iS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mN extends aS{data(){return super.data()}}function Fp(i,e){return typeof e=="string"?qp(i,e):e instanceof Bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class gN extends $p{}function fa(i,e,...n){let a=[];e instanceof $p&&a.push(e),a=a.concat(n),function(u){const h=u.filter(p=>p instanceof Gp).length,d=u.filter(p=>p instanceof Hf).length;if(h>1||h>0&&d>0)throw new pe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class Hf extends gN{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Hf(e,n,a)}_apply(e){const n=this._parse(e);return sS(e._query,n),new xo(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=zp(e.firestore);return function(u,h,d,p,g,_,b){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){LE(b,_);const N=[];for(const z of b)N.push(ME(p,u,z));A={arrayValue:{values:N}}}else A=ME(p,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||LE(b,_),A=hN(d,h,b,_==="in"||_==="not-in");return Ot.create(g,_,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function di(i,e,n){const a=e,o=Fp("where",i);return Hf._create(o,a,n)}class Gp extends $p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)sS(h,p),h=Lm(h,p)}(e._query,n),new xo(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ME(i,e,n){if(typeof(n=Ei(n))=="string"){if(n==="")throw new pe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nT(e)&&n.indexOf("/")!==-1)throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(ht.fromString(n));if(!Se.isDocumentKey(a))throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Z_(i,new Se(a))}if(n instanceof wn)return Z_(i,n._key);throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(n)}.`)}function LE(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sS(i,e){const n=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yN{convertValue(e,n="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ra(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[cf].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>Rt(h.doubleValue));return new Pp(u)}convertGeoPoint(e){return new Up(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Nf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Ea(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ht.fromString(e);tt(AT(a));const o=new ru(a.get(1),a.get(3)),u=new Se(a.popFirst(5));return o.isEqual(n)||Si(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oS extends aS{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Fp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class tf extends oS{data(e={}){return super.data(e)}}class _N{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new tf(this._firestore,this._userDataWriter,a.key,a,new Gl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new tf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Gl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new tf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Gl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:EN(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(i){i=Ai(i,wn);const e=Ai(i.firestore,No);return eN(Lp(e),i._key).then(n=>SN(e,i,n))}class lS extends yN{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Vr(i){i=Ai(i,xo);const e=Ai(i.firestore,No),n=Lp(e),a=new lS(e);return pN(i._query),tN(n,i._query).then(o=>new _N(e,a,i,o))}function cm(i,e,n,...a){i=Ai(i,wn);const o=Ai(i.firestore,No),u=zp(o);let h;return h=typeof(e=Ei(e))=="string"||e instanceof Bf?fN(u,"updateDoc",i._key,e,n,a):cN(u,"updateDoc",i._key,e),Qp(o,[h.toMutation(i._key,hr.exists(!0))])}function TN(i){return Qp(Ai(i.firestore,No),[new _p(i._key,hr.none())])}function fm(i,e){const n=Ai(i.firestore,No),a=$l(i),o=vN(i.converter,e);return Qp(n,[uN(zp(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,hr.exists(!1))]).then(()=>a)}function Qp(i,e){return function(a,o){const u=new yi;return a.asyncQueue.enqueueAndForget(async()=>H2(await J2(a),o,u)),u.promise}(Lp(i),e)}function SN(i,e,n){const a=n.docs.get(e._key),o=new lS(i);return new oS(i,o,e._key,a,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ao=o})(XC),of(new Jl("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new No(new hx(a.getProvider("auth-internal")),new px(h,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),uo(B_,z_,e),uo(B_,z_,"esm2017")})();const en=[];for(let i=0;i<256;++i)en.push((i+256).toString(16).slice(1));function bN(i,e=0){return(en[i[e+0]]+en[i[e+1]]+en[i[e+2]]+en[i[e+3]]+"-"+en[i[e+4]]+en[i[e+5]]+"-"+en[i[e+6]]+en[i[e+7]]+"-"+en[i[e+8]]+en[i[e+9]]+"-"+en[i[e+10]]+en[i[e+11]]+en[i[e+12]]+en[i[e+13]]+en[i[e+14]]+en[i[e+15]]).toLowerCase()}let hm;const AN=new Uint8Array(16);function wN(){if(!hm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hm=crypto.getRandomValues.bind(crypto)}return hm(AN)}const RN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UE={randomUUID:RN};function CN(i,e,n){var o;if(UE.randomUUID&&!i)return UE.randomUUID();i=i||{};const a=i.random??((o=i.rng)==null?void 0:o.call(i))??wN();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,bN(a)}const xN={apiKey:"AIzaSyA67A7ayCDrq7EgUFOqDZSEzYEczILWbw0",authDomain:"prototipo-lab-de-engenharia.firebaseapp.com",projectId:"prototipo-lab-de-engenharia",storageBucket:"prototipo-lab-de-engenharia.firebasestorage.app",messagingSenderId:"742651026121",appId:"1:742651026121:web:de5c9bf660b79596430b18"},NN=N0(xN),Jt=iN(NN);function Km(i){return btoa(i)}function PE(i,e){return Km(i)===e}let BE=["Cincia da Computao","Engenharia de Software","Sistemas de Informao","Anlise e Desenvolvimento de Sistemas"];async function un(i){const{url:e,method:n,body:a}=i;try{return await fetch(`api/v1${e}`,{body:a,method:n})}catch(o){return{ok:!1,status:404,json:async()=>({message:o}),text:async()=>o.toString()}}if(e==="/courses"){if(n==="GET"){const o=localStorage.getItem("courses"),u=o?JSON.parse(o):BE;return{ok:!0,status:200,json:async()=>u}}else if(n==="PUT")return localStorage.setItem("courses",JSON.stringify(a)),BE=a,{ok:!0,status:200,json:async()=>{}}}if(e.startsWith("/egressos")){if(n==="GET"){const o=e.split("/");if(o.length===3){const u=o[2],h=$l(Jt,"egressos",u),d=await kE(h);return d.exists()?{ok:!0,status:200,json:async()=>({...d.data(),id:d.id})}:{ok:!1,status:404,json:async()=>({message:"Egresso not found"}),text:async()=>"Egresso not found"}}else{const h=new URL(e,"http://example.com").searchParams.get("username");if(h){const d=jn(Jt,"egressos"),p=fa(d,di("username","==",h)),g=await Vr(p);if(g.empty)return{ok:!1,status:404,json:async()=>({message:"Egresso not found"}),text:async()=>"Egresso not found"};{const _=g.docs[0];return{ok:!0,status:200,json:async()=>({..._.data(),id:_.id})}}}else{const p=(await Vr(jn(Jt,"egressos"))).docs.map(g=>({...g.data(),id:g.id}));return{ok:!0,status:200,json:async()=>p}}}}else if(n==="POST"){const{inviteCode:o,...u}=a,h=jn(Jt,"invites"),d=fa(h,di("code","==",o),di("used","==",!1)),p=await Vr(d);if(p.empty)return{ok:!1,status:400,json:async()=>({message:"Invalid or used invite code."}),text:async()=>"Invalid or used invite code."};const g=p.docs[0],_=fa(jn(Jt,"egressos"),di("username","==",u.username));if(!(await Vr(_)).empty)return{ok:!1,status:409,json:async()=>({message:"Username already exists for another egresso."}),text:async()=>"Username already exists for another egresso."};const A=await fm(jn(Jt,"egressos"),{...u,passwordHash:Km(u.passwordHash)});return await cm(g.ref,{used:!0}),{ok:!0,status:201,json:async()=>({...u,id:A.id})}}else if(n==="PUT"){const o=e.split("/")[2],u=$l(Jt,"egressos",o),h={...a};return console.log("id:",o),console.log("docRef:",u),console.log("updates:",h),await cm(u,h),{ok:!0,status:200,json:async()=>({...h,id:o})}}else if(n==="DELETE"){const o=e.split("/")[2],u=$l(Jt,"egressos",o);return await TN(u),{ok:!0,status:204,json:async()=>({})}}}else if(e.startsWith("/admins")){if(n==="GET"){const o=e.split("/");if(o.length===3){const u=o[2],h=$l(Jt,"admins",u),d=await kE(h);return d.exists()?{ok:!0,status:200,json:async()=>({...d.data(),id:d.id})}:{ok:!1,status:404,json:async()=>({message:"Admin not found"}),text:async()=>"Admin not found"}}else{const h=new URL(e,"http://example.com").searchParams.get("username");if(h){const d=jn(Jt,"admins"),p=fa(d,di("username","==",h)),g=await Vr(p);if(!g.empty){const _=g.docs[0];return{ok:!0,status:200,json:async()=>({..._.data(),id:_.id})}}return{ok:!1,status:404,json:async()=>({message:"Admin not found"}),text:async()=>"Admin not found"}}}return{ok:!1,status:400,json:async()=>({message:"Invalid Get request to /admins"}),text:async()=>"Invalid Get request to /admins"}}else if(n==="POST"){const o=a,u=fa(jn(Jt,"admins"),di("username","==",o.username));if(!(await Vr(u)).empty)return{ok:!1,status:409,json:async()=>({message:"Username already exists for another admin."}),text:async()=>"Username already exists for another admin."};const d=await fm(jn(Jt,"admins"),{...o,passwordHash:Km(o.passwordHash)});return{ok:!0,status:201,json:async()=>({...o,id:d.id})}}}else if(e.startsWith("/invites")){if(n==="GET"){const o=jn(Jt,"invites"),h=(await Vr(o)).docs.map(d=>({...d.data(),id:d.id}));return{ok:!0,status:200,json:async()=>h}}else if(n==="POST"){const{adminId:o}=a,u=CN(),h=jn(Jt,"invites");return await fm(h,{code:u,used:!1,createdBy:o,createdAt:Vt.now()}),{ok:!0,status:201,json:async()=>({code:u})}}else if(n==="PUT"){const{code:o}=a,u=jn(Jt,"invites"),h=fa(u,di("code","==",o)),d=await Vr(h);if(!d.empty){const p=d.docs[0];return await cm(p.ref,{used:!0}),{ok:!0,status:200,json:async()=>({})}}return{ok:!1,status:404,json:async()=>({message:"Invite not found"}),text:async()=>"Invite not found"}}}else if(e==="/login/egresso"){if(n==="POST"){const{username:o,password:u}=a,h=jn(Jt,"egressos"),d=fa(h,di("username","==",o)),p=await Vr(d);if(!p.empty){const g=p.docs[0],_=g.data();if(PE(u,_.passwordHash))return{ok:!0,status:200,json:async()=>({..._,id:g.id})}}return{ok:!1,status:401,json:async()=>({message:"Invalid credentials"}),text:async()=>"Invalid credentials"}}}else if(e==="/login/admin"&&n==="POST"){const{username:o,password:u}=a,h=jn(Jt,"admins"),d=fa(h,di("username","==",o)),p=await Vr(d);if(!p.empty){const g=p.docs[0],_=g.data();if(PE(u,_.passwordHash))return{ok:!0,status:200,json:async()=>({..._,id:g.id})}}return{ok:!1,status:401,json:async()=>({message:"Invalid credentials"}),text:async()=>"Invalid credentials"}}return{ok:!1,status:404,json:async()=>({message:"Route not found"}),text:async()=>"Route not found"}}class Sn{constructor(e){Dt(this,"name");Dt(this,"profileImage");Dt(this,"faceImage");Dt(this,"facePoints");Dt(this,"course");Dt(this,"graduationYear");Dt(this,"personalDescription");Dt(this,"contactLinks");Dt(this,"verified");Dt(this,"username");Dt(this,"passwordHash");Dt(this,"id");Dt(this,"careerDescription");Dt(this,"termsAccepted");this.name=(e==null?void 0:e.name)||"",this.profileImage=(e==null?void 0:e.profileImage)||"",this.faceImage=(e==null?void 0:e.faceImage)||"",this.facePoints=(e==null?void 0:e.facePoints)||"",this.course=e==null?void 0:e.course,this.graduationYear=e==null?void 0:e.graduationYear,this.personalDescription=(e==null?void 0:e.personalDescription)||"",this.contactLinks=(e==null?void 0:e.contactLinks)||[],this.verified=(e==null?void 0:e.verified)??!1,this.username=(e==null?void 0:e.username)||"",this.passwordHash=(e==null?void 0:e.passwordHash)||"",this.id=e==null?void 0:e.id,this.careerDescription=(e==null?void 0:e.careerDescription)||"",this.termsAccepted=(e==null?void 0:e.termsAccepted)??!1}static async getEgresso(e){const n=await un({url:`/egressos/${e}`,method:"GET"});if(n.ok){const a=await n.json();return new Sn({...a,id:a.id})}else return null}static async getEgressos(){const e=await un({url:"/egressos",method:"GET"});return e.ok?(await e.json()).map(a=>new Sn(a)):[]}static async getEgressosByUsername(e){const n=await un({url:`/egressos?username=${e}`,method:"GET"});if(n.ok){const a=await n.json();return new Sn({...a,id:a.id})}else return null}async save(){return this.id&&(await un({url:`/egressos/${this.id}`,method:"PUT",body:this.toJson()})).ok?this:null}static async deleteEgresso(e){return(await un({url:`/egressos/${e}`,method:"DELETE"})).ok}toJson(){const e={name:this.name,profileImage:this.profileImage,faceImage:this.faceImage,facePoints:this.facePoints,course:this.course,graduationYear:this.graduationYear,personalDescription:this.personalDescription,contactLinks:this.contactLinks,verified:this.verified,username:this.username,passwordHash:this.passwordHash,careerDescription:this.careerDescription,termsAccepted:this.termsAccepted};return this.id&&(e.id=this.id),e}static fromJson(e){return new Sn(e)}}class us{constructor(e){Dt(this,"name");Dt(this,"username");Dt(this,"role");Dt(this,"passwordHash");Dt(this,"id");this.name=e.name||"",this.username=e.username||"",this.role=e.role||"",this.passwordHash=e.passwordHash||"",this.id=e.id}static async getAdmin(e){const n=await un({url:`/admins/${e}`,method:"GET"});if(n.ok){const a=await n.json();return new us({...a,id:a.id})}return null}static async getAdminByUsername(e){const n=await un({url:`/admins?username=${e}`,method:"GET"});if(n.ok){const a=await n.json();return new us({...a,id:a.id})}return null}async save(){return null}toJson(){const e={name:this.name,username:this.username,role:this.role,passwordHash:this.passwordHash};return this.id&&(e.id=this.id),e}}const yt={createUser:async(i,e)=>{const n=await un({url:"/egressos",method:"POST",body:{...i,inviteCode:e}});if(n.ok){const a=await n.json();return new Sn({...a,id:a.id})}else return null},loginUser:async(i,e)=>{const n=await un({url:"/login/egresso",method:"POST",body:{username:i,password:e}});if(n.ok){const a=await n.json();return new Sn(a)}else return null},getEgresso:Sn.getEgresso,getEgressos:Sn.getEgressos,deleteEgresso:Sn.deleteEgresso,updateEgresso:async(i,e)=>{const n=await Sn.getEgresso(i);return n?await new Sn({...n,...e,id:n.id}).save():null},createAdmin:async i=>{const e=await un({url:"/admins",method:"POST",body:i});if(e.ok){const n=await e.json();return new us({...n,id:n.id})}else return null},loginAdmin:async(i,e)=>{const n=await un({url:"/login/admin",method:"POST",body:{username:i,password:e}});if(n.ok){const a=await n.json();return new us({...a,id:a.id})}else return null},getAdmin:us.getAdmin,createInvite:async i=>{const e=await un({url:"/invites",method:"POST",body:{adminId:i}});return e.ok?(await e.json()).code:null},getInvites:async()=>{const i=await un({url:"/invites",method:"GET"});return i.ok?await i.json():[]},cancelInvite:async i=>(await un({url:"/invites",method:"PUT",body:{code:i}})).ok,getCourses:async()=>{const i=await un({url:"/courses",method:"GET"});return i.ok?await i.json():(console.error("Error getting courses:",await i.text()),[])},saveCourses:async i=>{const e=await un({url:"/courses",method:"PUT",body:i});e.ok||console.error("Error saving courses:",await e.text())}};var dm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var zE;function DN(){return zE||(zE=1,function(i){(function(){var e={}.hasOwnProperty;function n(){for(var u="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(u=o(u,a(d)))}return u}function a(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var d in u)e.call(u,d)&&u[d]&&(h=o(h,d));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(dm)),dm.exports}var IN=DN();const ye=Af(IN);function Ym(){return Ym=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},Ym.apply(null,arguments)}function uS(i,e){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)!==-1)continue;n[a]=i[a]}return n}function HE(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function ON(i){var e=VN(i,"string");return typeof e=="symbol"?e:String(e)}function VN(i,e){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function jN(i,e,n){var a=S.useRef(i!==void 0),o=S.useState(e),u=o[0],h=o[1],d=i!==void 0,p=a.current;return a.current=d,!d&&p&&u!==e&&h(e),[d?i:u,S.useCallback(function(g){for(var _=arguments.length,b=new Array(_>1?_-1:0),A=1;A<_;A++)b[A-1]=arguments[A];n&&n.apply(void 0,[g].concat(b)),h(g)},[n])]}function qf(i,e){return Object.keys(e).reduce(function(n,a){var o,u=n,h=u[HE(a)],d=u[a],p=uS(u,[HE(a),a].map(ON)),g=e[a],_=jN(d,h,i[g]),b=_[0],A=_[1];return Ym({},p,(o={},o[a]=b,o[g]=A,o))},i)}function Xm(i,e){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xm(i,e)}function MN(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Xm(i,e)}const cS=["xxl","xl","lg","md","sm","xs"],fS="xs",gu=S.createContext({prefixes:{},breakpoints:cS,minBreakpoint:fS}),{Consumer:PI,Provider:BI}=gu;function Te(i,e){const{prefixes:n}=S.useContext(gu);return i||n[e]||e}function Kp(){const{breakpoints:i}=S.useContext(gu);return i}function Yp(){const{minBreakpoint:i}=S.useContext(gu);return i}function LN(){const{dir:i}=S.useContext(gu);return i==="rtl"}function Ff(i){return i&&i.ownerDocument||document}function kN(i){var e=Ff(i);return e&&e.defaultView||window}function UN(i,e){return kN(i).getComputedStyle(i,e)}var PN=/([A-Z])/g;function BN(i){return i.replace(PN,"-$1").toLowerCase()}var zN=/^ms-/;function Gc(i){return BN(i).replace(zN,"-ms-")}var HN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qN(i){return!!(i&&HN.test(i))}function vi(i,e){var n="",a="";if(typeof e=="string")return i.style.getPropertyValue(Gc(e))||UN(i).getPropertyValue(Gc(e));Object.keys(e).forEach(function(o){var u=e[o];!u&&u!==0?i.style.removeProperty(Gc(o)):qN(o)?a+=o+"("+u+") ":n+=Gc(o)+": "+u+";"}),a&&(n+="transform: "+a+";"),i.style.cssText+=";"+n}var mm={exports:{}},pm,qE;function FN(){if(qE)return pm;qE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pm=i,pm}var gm,FE;function $N(){if(FE)return gm;FE=1;var i=FN();function e(){}function n(){}return n.resetWarningCache=e,gm=function(){function a(h,d,p,g,_,b){if(b!==i){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}a.isRequired=a;function o(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},gm}var $E;function GN(){return $E||($E=1,mm.exports=$N()()),mm.exports}var QN=GN();const An=Af(QN),GE={disabled:!1},hS=kr.createContext(null);var KN=function(e){return e.scrollTop},Ql="unmounted",ha="exited",fr="entering",mi="entered",ou="exiting",Ri=function(i){MN(e,i);function e(a,o){var u;u=i.call(this,a,o)||this;var h=o,d=h&&!h.isMounting?a.enter:a.appear,p;return u.appearStatus=null,a.in?d?(p=ha,u.appearStatus=fr):p=mi:a.unmountOnExit||a.mountOnEnter?p=Ql:p=ha,u.state={status:p},u.nextCallback=null,u}e.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===Ql?{status:ha}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==fr&&h!==mi&&(u=fr):(h===fr||h===mi)&&(u=ou)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,h,d;return u=h=d=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:d}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===fr){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:lo.findDOMNode(this);h&&KN(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ha&&this.setState({status:Ql})},n.performEnter=function(o){var u=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[lo.findDOMNode(this),d],g=p[0],_=p[1],b=this.getTimeouts(),A=d?b.appear:b.enter;if(!o&&!h||GE.disabled){this.safeSetState({status:mi},function(){u.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:fr},function(){u.props.onEntering(g,_),u.onTransitionEnd(A,function(){u.safeSetState({status:mi},function(){u.props.onEntered(g,_)})})})},n.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:lo.findDOMNode(this);if(!u||GE.disabled){this.safeSetState({status:ha},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:ou},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:ha},function(){o.props.onExited(d)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:lo.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Ql)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var d=uS(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kr.createElement(hS.Provider,{value:null},typeof h=="function"?h(o,d):kr.cloneElement(kr.Children.only(h),d))},e}(kr.Component);Ri.contextType=hS;Ri.propTypes={};function no(){}Ri.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:no,onEntering:no,onEntered:no,onExit:no,onExiting:no,onExited:no};Ri.UNMOUNTED=Ql;Ri.EXITED=ha;Ri.ENTERING=fr;Ri.ENTERED=mi;Ri.EXITING=ou;function YN(i){return i.code==="Escape"||i.keyCode===27}function XN(){const i=S.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Do(i){if(!i||typeof i=="function")return null;const{major:e}=XN();return e>=19?i.props.ref:i.ref}const Io=!!(typeof window<"u"&&window.document&&window.document.createElement);var Zm=!1,Wm=!1;try{var ym={get passive(){return Zm=!0},get once(){return Wm=Zm=!0}};Io&&(window.addEventListener("test",ym,ym),window.removeEventListener("test",ym,!0))}catch{}function dS(i,e,n,a){if(a&&typeof a!="boolean"&&!Wm){var o=a.once,u=a.capture,h=n;!Wm&&o&&(h=n.__once||function d(p){this.removeEventListener(e,d,u),n.call(this,p)},n.__once=h),i.addEventListener(e,h,Zm?a:u)}i.addEventListener(e,n,a)}function Jm(i,e,n,a){var o=a&&typeof a!="boolean"?a.capture:a;i.removeEventListener(e,n,o),n.__once&&i.removeEventListener(e,n.__once,o)}function Ef(i,e,n,a){return dS(i,e,n,a),function(){Jm(i,e,n,a)}}function ZN(i,e,n,a){if(a===void 0&&(a=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,n,a),i.dispatchEvent(o)}}function WN(i){var e=vi(i,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function JN(i,e,n){n===void 0&&(n=5);var a=!1,o=setTimeout(function(){a||ZN(i,"transitionend",!0)},e+n),u=Ef(i,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(o),u()}}function mS(i,e,n,a){n==null&&(n=WN(i)||0);var o=JN(i,n,a),u=Ef(i,"transitionend",e);return function(){o(),u()}}function QE(i,e){const n=vi(i,e)||"",a=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*a}function Xp(i,e){const n=QE(i,"transitionDuration"),a=QE(i,"transitionDelay"),o=mS(i,u=>{u.target===i&&(o(),e(u))},n+a)}function zl(...i){return i.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...o){e.apply(this,o),n.apply(this,o)}},null)}function pS(i){i.offsetHeight}const KE=i=>!i||typeof i=="function"?i:e=>{i.current=e};function eD(i,e){const n=KE(i),a=KE(e);return o=>{n&&n(o),a&&a(o)}}function gS(i,e){return S.useMemo(()=>eD(i,e),[i,e])}function tD(i){return i&&"setState"in i?lo.findDOMNode(i):i??null}const Zp=kr.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:a,onExiting:o,onExited:u,addEndListener:h,children:d,childRef:p,...g},_)=>{const b=S.useRef(null),A=gS(b,p),D=J=>{A(tD(J))},N=J=>I=>{J&&b.current&&J(b.current,I)},z=S.useCallback(N(i),[i]),k=S.useCallback(N(e),[e]),q=S.useCallback(N(n),[n]),Y=S.useCallback(N(a),[a]),G=S.useCallback(N(o),[o]),W=S.useCallback(N(u),[u]),ie=S.useCallback(N(h),[h]);return v.jsx(Ri,{ref:_,...g,onEnter:z,onEntered:q,onEntering:k,onExit:Y,onExited:W,onExiting:G,addEndListener:ie,nodeRef:b,children:typeof d=="function"?(J,I)=>d(J,{...I,ref:D}):kr.cloneElement(d,{ref:D})})}),nD={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function rD(i,e){const n=`offset${i[0].toUpperCase()}${i.slice(1)}`,a=e[n],o=nD[i];return a+parseInt(vi(e,o[0]),10)+parseInt(vi(e,o[1]),10)}const iD={[ha]:"collapse",[ou]:"collapsing",[fr]:"collapsing",[mi]:"collapse show"},aD=kr.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:a,onExiting:o,className:u,children:h,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:b=!1,appear:A=!1,getDimensionValue:D=rD,...N},z)=>{const k=typeof d=="function"?d():d,q=S.useMemo(()=>zl(J=>{J.style[k]="0"},i),[k,i]),Y=S.useMemo(()=>zl(J=>{const I=`scroll${k[0].toUpperCase()}${k.slice(1)}`;J.style[k]=`${J[I]}px`},e),[k,e]),G=S.useMemo(()=>zl(J=>{J.style[k]=null},n),[k,n]),W=S.useMemo(()=>zl(J=>{J.style[k]=`${D(k,J)}px`,pS(J)},a),[a,D,k]),ie=S.useMemo(()=>zl(J=>{J.style[k]=null},o),[k,o]);return v.jsx(Zp,{ref:z,addEndListener:Xp,...N,"aria-expanded":N.role?p:null,onEnter:q,onEntering:Y,onEntered:G,onExit:W,onExiting:ie,childRef:Do(h),in:p,timeout:g,mountOnEnter:_,unmountOnExit:b,appear:A,children:(J,I)=>kr.cloneElement(h,{...I,className:ye(u,h.props.className,iD[J],k==="width"&&"collapse-horizontal")})})});function sD(i){const e=S.useRef(i);return S.useEffect(()=>{e.current=i},[i]),e}function wa(i){const e=sD(i);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const yu=i=>S.forwardRef((e,n)=>v.jsx("div",{...e,ref:n,className:ye(e.className,i)})),yS=yu("h4");yS.displayName="DivStyledAsH4";const vS=S.forwardRef(({className:i,bsPrefix:e,as:n=yS,...a},o)=>(e=Te(e,"alert-heading"),v.jsx(n,{ref:o,className:ye(i,e),...a})));vS.displayName="AlertHeading";function oD(i){const e=S.useRef(i);return S.useEffect(()=>{e.current=i},[i]),e}function pi(i){const e=oD(i);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function lD(){const i=S.useRef(!0),e=S.useRef(()=>i.current);return S.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function uD(i){const e=S.useRef(null);return S.useEffect(()=>{e.current=i}),e.current}const cD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",fD=typeof document<"u",YE=fD||cD?S.useLayoutEffect:S.useEffect,hD=["as","disabled"];function dD(i,e){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function mD(i){return!i||i.trim()==="#"}function Wp({tagName:i,disabled:e,href:n,target:a,rel:o,role:u,onClick:h,tabIndex:d=0,type:p}){i||(n!=null||a!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const _=A=>{if((e||i==="a"&&mD(n))&&A.preventDefault(),e){A.stopPropagation();return}h==null||h(A)},b=A=>{A.key===" "&&(A.preventDefault(),_(A))};return i==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:d,href:n,target:i==="a"?a:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:_,onKeyDown:b},g]}const _S=S.forwardRef((i,e)=>{let{as:n,disabled:a}=i,o=dD(i,hD);const[u,{tagName:h}]=Wp(Object.assign({tagName:n,disabled:a},o));return v.jsx(h,Object.assign({},o,u,{ref:e}))});_S.displayName="Button";const pD=["onKeyDown"];function gD(i,e){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function yD(i){return!i||i.trim()==="#"}const Jp=S.forwardRef((i,e)=>{let{onKeyDown:n}=i,a=gD(i,pD);const[o]=Wp(Object.assign({tagName:"a"},a)),u=pi(h=>{o.onKeyDown(h),n==null||n(h)});return yD(a.href)||a.role==="button"?v.jsx("a",Object.assign({ref:e},a,o,{onKeyDown:u})):v.jsx("a",Object.assign({ref:e},a,{onKeyDown:n}))});Jp.displayName="Anchor";const ES=S.forwardRef(({className:i,bsPrefix:e,as:n=Jp,...a},o)=>(e=Te(e,"alert-link"),v.jsx(n,{ref:o,className:ye(i,e),...a})));ES.displayName="AlertLink";const vD={[fr]:"show",[mi]:"show"},_o=S.forwardRef(({className:i,children:e,transitionClasses:n={},onEnter:a,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=S.useCallback((p,g)=>{pS(p),a==null||a(p,g)},[a]);return v.jsx(Zp,{ref:u,addEndListener:Xp,...h,onEnter:d,childRef:Do(e),children:(p,g)=>S.cloneElement(e,{...g,className:ye("fade",i,e.props.className,vD[p],n[p])})})});_o.displayName="Fade";const _D={"aria-label":An.string,onClick:An.func,variant:An.oneOf(["white"])},$f=S.forwardRef(({className:i,variant:e,"aria-label":n="Close",...a},o)=>v.jsx("button",{ref:o,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,i),"aria-label":n,...a}));$f.displayName="CloseButton";$f.propTypes=_D;const TS=S.forwardRef((i,e)=>{const{bsPrefix:n,show:a=!0,closeLabel:o="Close alert",closeVariant:u,className:h,children:d,variant:p="primary",onClose:g,dismissible:_,transition:b=_o,...A}=qf(i,{show:"onClose"}),D=Te(n,"alert"),N=wa(q=>{g&&g(!1,q)}),z=b===!0?_o:b,k=v.jsxs("div",{role:"alert",...z?void 0:A,ref:e,className:ye(h,D,p&&`${D}-${p}`,_&&`${D}-dismissible`),children:[_&&v.jsx($f,{onClick:N,"aria-label":o,variant:u}),d]});return z?v.jsx(z,{unmountOnExit:!0,...A,ref:void 0,in:a,children:k}):a?k:null});TS.displayName="Alert";const SS=Object.assign(TS,{Link:ES,Heading:vS}),bS=S.forwardRef(({bsPrefix:i,bg:e="primary",pill:n=!1,text:a,className:o,as:u="span",...h},d)=>{const p=Te(i,"badge");return v.jsx(u,{ref:d,...h,className:ye(o,p,n&&"rounded-pill",a&&`text-${a}`,e&&`bg-${e}`)})});bS.displayName="Badge";const ze=S.forwardRef(({as:i,bsPrefix:e,variant:n="primary",size:a,active:o=!1,disabled:u=!1,className:h,...d},p)=>{const g=Te(e,"btn"),[_,{tagName:b}]=Wp({tagName:i,disabled:u,...d}),A=b;return v.jsx(A,{..._,...d,ref:p,disabled:u,className:ye(h,g,o&&"active",n&&`${g}-${n}`,a&&`${g}-${a}`,d.href&&u&&"disabled")})});ze.displayName="Button";const eg=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...a},o)=>(e=Te(e,"card-body"),v.jsx(n,{ref:o,className:ye(i,e),...a})));eg.displayName="CardBody";const AS=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...a},o)=>(e=Te(e,"card-footer"),v.jsx(n,{ref:o,className:ye(i,e),...a})));AS.displayName="CardFooter";const tg=S.createContext(null);tg.displayName="CardHeaderContext";const wS=S.forwardRef(({bsPrefix:i,className:e,as:n="div",...a},o)=>{const u=Te(i,"card-header"),h=S.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return v.jsx(tg.Provider,{value:h,children:v.jsx(n,{ref:o,...a,className:ye(e,u)})})});wS.displayName="CardHeader";const RS=S.forwardRef(({bsPrefix:i,className:e,variant:n,as:a="img",...o},u)=>{const h=Te(i,"card-img");return v.jsx(a,{ref:u,className:ye(n?`${h}-${n}`:h,e),...o})});RS.displayName="CardImg";const CS=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...a},o)=>(e=Te(e,"card-img-overlay"),v.jsx(n,{ref:o,className:ye(i,e),...a})));CS.displayName="CardImgOverlay";const xS=S.forwardRef(({className:i,bsPrefix:e,as:n="a",...a},o)=>(e=Te(e,"card-link"),v.jsx(n,{ref:o,className:ye(i,e),...a})));xS.displayName="CardLink";const ED=yu("h6"),NS=S.forwardRef(({className:i,bsPrefix:e,as:n=ED,...a},o)=>(e=Te(e,"card-subtitle"),v.jsx(n,{ref:o,className:ye(i,e),...a})));NS.displayName="CardSubtitle";const DS=S.forwardRef(({className:i,bsPrefix:e,as:n="p",...a},o)=>(e=Te(e,"card-text"),v.jsx(n,{ref:o,className:ye(i,e),...a})));DS.displayName="CardText";const TD=yu("h5"),IS=S.forwardRef(({className:i,bsPrefix:e,as:n=TD,...a},o)=>(e=Te(e,"card-title"),v.jsx(n,{ref:o,className:ye(i,e),...a})));IS.displayName="CardTitle";const OS=S.forwardRef(({bsPrefix:i,className:e,bg:n,text:a,border:o,body:u=!1,children:h,as:d="div",...p},g)=>{const _=Te(i,"card");return v.jsx(d,{ref:g,...p,className:ye(e,_,n&&`bg-${n}`,a&&`text-${a}`,o&&`border-${o}`),children:u?v.jsx(eg,{children:h}):h})});OS.displayName="Card";const Qt=Object.assign(OS,{Img:RS,Title:IS,Subtitle:NS,Body:eg,Link:xS,Text:DS,Header:wS,Footer:AS,ImgOverlay:CS});function SD(i){const e=S.useRef(i);return e.current=i,e}function bD(i){const e=SD(i);S.useEffect(()=>()=>e.current(),[])}function AD(i,e){return S.Children.toArray(i).some(n=>S.isValidElement(n)&&n.type===e)}function wD({as:i,bsPrefix:e,className:n,...a}){e=Te(e,"col");const o=Kp(),u=Yp(),h=[],d=[];return o.forEach(p=>{const g=a[p];delete a[p];let _,b,A;typeof g=="object"&&g!=null?{span:_,offset:b,order:A}=g:_=g;const D=p!==u?`-${p}`:"";_&&h.push(_===!0?`${e}${D}`:`${e}${D}-${_}`),A!=null&&d.push(`order${D}-${A}`),b!=null&&d.push(`offset${D}-${b}`)}),[{...a,className:ye(n,...h,...d)},{as:i,bsPrefix:e,spans:h}]}const vt=S.forwardRef((i,e)=>{const[{className:n,...a},{as:o="div",bsPrefix:u,spans:h}]=wD(i);return v.jsx(o,{...a,ref:e,className:ye(n,!h.length&&u)})});vt.displayName="Col";const Pn=S.forwardRef(({bsPrefix:i,fluid:e=!1,as:n="div",className:a,...o},u)=>{const h=Te(i,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return v.jsx(n,{ref:u,...o,className:ye(a,e?`${h}${d}`:h)})});Pn.displayName="Container";var RD=Function.prototype.bind.call(Function.prototype.call,[].slice);function os(i,e){return RD(i.querySelectorAll(e))}function CD(){const[,i]=S.useReducer(e=>e+1,0);return i}function XE(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}const Tf=S.createContext(null),Gf=(i,e=null)=>i!=null?String(i):e||null,ng=S.createContext(null);ng.displayName="NavContext";const xD="data-rr-ui-",ND="rrUi";function Qf(i){return`${xD}${i}`}function DD(i){return`${ND}${i}`}const VS=S.createContext(Io?window:void 0);VS.Provider;function rg(){return S.useContext(VS)}const ID=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",OD=typeof document<"u",VD=OD||ID?S.useLayoutEffect:S.useEffect,jS=S.createContext(null);jS.displayName="InputGroupContext";const Oo=S.createContext(null);Oo.displayName="NavbarContext";An.string,An.bool,An.bool,An.bool,An.bool;const ig=S.forwardRef(({bsPrefix:i,className:e,fluid:n=!1,rounded:a=!1,roundedCircle:o=!1,thumbnail:u=!1,...h},d)=>(i=Te(i,"img"),v.jsx("img",{ref:d,...h,className:ye(e,n&&`${i}-fluid`,a&&"rounded",o&&"rounded-circle",u&&`${i}-thumbnail`)})));ig.displayName="Image";const jD={type:An.string,tooltip:An.bool,as:An.elementType},Kf=S.forwardRef(({as:i="div",className:e,type:n="valid",tooltip:a=!1,...o},u)=>v.jsx(i,{...o,ref:u,className:ye(e,`${n}-${a?"tooltip":"feedback"}`)}));Kf.displayName="Feedback";Kf.propTypes=jD;const wi=S.createContext({}),vu=S.forwardRef(({id:i,bsPrefix:e,className:n,type:a="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...d},p)=>{const{controlId:g}=S.useContext(wi);return e=Te(e,"form-check-input"),v.jsx(h,{...d,ref:p,type:a,id:i||g,className:ye(n,e,o&&"is-valid",u&&"is-invalid")})});vu.displayName="FormCheckInput";const Sf=S.forwardRef(({bsPrefix:i,className:e,htmlFor:n,...a},o)=>{const{controlId:u}=S.useContext(wi);return i=Te(i,"form-check-label"),v.jsx("label",{...a,ref:o,htmlFor:n||u,className:ye(e,i)})});Sf.displayName="FormCheckLabel";const MS=S.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:n,inline:a=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:b,style:A,title:D="",type:N="checkbox",label:z,children:k,as:q="input",...Y},G)=>{e=Te(e,"form-check"),n=Te(n,"form-switch");const{controlId:W}=S.useContext(wi),ie=S.useMemo(()=>({controlId:i||W}),[W,i]),J=!k&&z!=null&&z!==!1||AD(k,Sf),I=v.jsx(vu,{...Y,type:N==="switch"?"checkbox":N,ref:G,isValid:h,isInvalid:d,disabled:u,as:q});return v.jsx(wi.Provider,{value:ie,children:v.jsx("div",{style:A,className:ye(b,J&&e,a&&`${e}-inline`,o&&`${e}-reverse`,N==="switch"&&n),children:k||v.jsxs(v.Fragment,{children:[I,J&&v.jsx(Sf,{title:D,children:z}),g&&v.jsx(Kf,{type:_,tooltip:p,children:g})]})})})});MS.displayName="FormCheck";const bf=Object.assign(MS,{Input:vu,Label:Sf}),LS=S.forwardRef(({bsPrefix:i,type:e,size:n,htmlSize:a,id:o,className:u,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:_="input",...b},A)=>{const{controlId:D}=S.useContext(wi);return i=Te(i,"form-control"),v.jsx(_,{...b,type:e,size:a,ref:A,readOnly:g,id:o||D,className:ye(u,p?`${i}-plaintext`:i,n&&`${i}-${n}`,e==="color"&&`${i}-color`,h&&"is-valid",d&&"is-invalid")})});LS.displayName="FormControl";const MD=Object.assign(LS,{Feedback:Kf}),kS=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...a},o)=>(e=Te(e,"form-floating"),v.jsx(n,{ref:o,className:ye(i,e),...a})));kS.displayName="FormFloating";const ag=S.forwardRef(({controlId:i,as:e="div",...n},a)=>{const o=S.useMemo(()=>({controlId:i}),[i]);return v.jsx(wi.Provider,{value:o,children:v.jsx(e,{...n,ref:a})})});ag.displayName="FormGroup";const US=S.forwardRef(({as:i="label",bsPrefix:e,column:n=!1,visuallyHidden:a=!1,className:o,htmlFor:u,...h},d)=>{const{controlId:p}=S.useContext(wi);e=Te(e,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const _=ye(o,e,a&&"visually-hidden",n&&g);return u=u||p,n?v.jsx(vt,{ref:d,as:"label",className:_,htmlFor:u,...h}):v.jsx(i,{ref:d,className:_,htmlFor:u,...h})});US.displayName="FormLabel";const PS=S.forwardRef(({bsPrefix:i,className:e,id:n,...a},o)=>{const{controlId:u}=S.useContext(wi);return i=Te(i,"form-range"),v.jsx("input",{...a,type:"range",ref:o,className:ye(e,i),id:n||u})});PS.displayName="FormRange";const BS=S.forwardRef(({bsPrefix:i,size:e,htmlSize:n,className:a,isValid:o=!1,isInvalid:u=!1,id:h,...d},p)=>{const{controlId:g}=S.useContext(wi);return i=Te(i,"form-select"),v.jsx("select",{...d,size:n,ref:p,className:ye(a,i,e&&`${i}-${e}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});BS.displayName="FormSelect";const zS=S.forwardRef(({bsPrefix:i,className:e,as:n="small",muted:a,...o},u)=>(i=Te(i,"form-text"),v.jsx(n,{...o,ref:u,className:ye(e,i,a&&"text-muted")})));zS.displayName="FormText";const HS=S.forwardRef((i,e)=>v.jsx(bf,{...i,ref:e,type:"switch"}));HS.displayName="Switch";const LD=Object.assign(HS,{Input:bf.Input,Label:bf.Label}),qS=S.forwardRef(({bsPrefix:i,className:e,children:n,controlId:a,label:o,...u},h)=>(i=Te(i,"form-floating"),v.jsxs(ag,{ref:h,className:ye(e,i),controlId:a,...u,children:[n,v.jsx("label",{htmlFor:a,children:o})]})));qS.displayName="FloatingLabel";const kD={_ref:An.any,validated:An.bool,as:An.elementType},sg=S.forwardRef(({className:i,validated:e,as:n="form",...a},o)=>v.jsx(n,{...a,ref:o,className:ye(i,e&&"was-validated")}));sg.displayName="Form";sg.propTypes=kD;const fe=Object.assign(sg,{Group:ag,Control:MD,Floating:kS,Check:bf,Switch:LD,Label:US,Text:zS,Range:PS,Select:BS,FloatingLabel:qS}),Yf=S.forwardRef(({className:i,bsPrefix:e,as:n="span",...a},o)=>(e=Te(e,"input-group-text"),v.jsx(n,{ref:o,className:ye(i,e),...a})));Yf.displayName="InputGroupText";const UD=i=>v.jsx(Yf,{children:v.jsx(vu,{type:"checkbox",...i})}),PD=i=>v.jsx(Yf,{children:v.jsx(vu,{type:"radio",...i})}),FS=S.forwardRef(({bsPrefix:i,size:e,hasValidation:n,className:a,as:o="div",...u},h)=>{i=Te(i,"input-group");const d=S.useMemo(()=>({}),[]);return v.jsx(jS.Provider,{value:d,children:v.jsx(o,{ref:h,...u,className:ye(a,i,e&&`${i}-${e}`,n&&"has-validation")})})});FS.displayName="InputGroup";const _u=Object.assign(FS,{Text:Yf,Radio:PD,Checkbox:UD}),ZE=i=>!i||typeof i=="function"?i:e=>{i.current=e};function BD(i,e){const n=ZE(i),a=ZE(e);return o=>{n&&n(o),a&&a(o)}}function Xf(i,e){return S.useMemo(()=>BD(i,e),[i,e])}const $S=S.createContext(null),zD=["as","active","eventKey"];function HD(i,e){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function og({key:i,onClick:e,active:n,id:a,role:o,disabled:u}){const h=S.useContext(Tf),d=S.useContext(ng),p=S.useContext($S);let g=n;const _={role:o};if(d){!o&&d.role==="tablist"&&(_.role="tab");const b=d.getControllerId(i??null),A=d.getControlledId(i??null);_[Qf("event-key")]=i,_.id=b||a,g=n==null&&i!=null?d.activeKey===i:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=A)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),u&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=pi(b=>{u||(e==null||e(b),i!=null&&h&&!b.isPropagationStopped()&&h(i,b))}),[_,{isActive:g}]}const GS=S.forwardRef((i,e)=>{let{as:n=_S,active:a,eventKey:o}=i,u=HD(i,zD);const[h,d]=og(Object.assign({key:Gf(o,u.href),active:a},u));return h[Qf("active")]=d.isActive,v.jsx(n,Object.assign({},u,h,{ref:e}))});GS.displayName="NavItem";const qD=["as","onSelect","activeKey","role","onKeyDown"];function FD(i,e){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}const WE=()=>{},JE=Qf("event-key"),QS=S.forwardRef((i,e)=>{let{as:n="div",onSelect:a,activeKey:o,role:u,onKeyDown:h}=i,d=FD(i,qD);const p=CD(),g=S.useRef(!1),_=S.useContext(Tf),b=S.useContext($S);let A,D;b&&(u=u||"tablist",o=b.activeKey,A=b.getControlledId,D=b.getControllerId);const N=S.useRef(null),z=G=>{const W=N.current;if(!W)return null;const ie=os(W,`[${JE}]:not([aria-disabled=true])`),J=W.querySelector("[aria-selected=true]");if(!J||J!==document.activeElement)return null;const I=ie.indexOf(J);if(I===-1)return null;let x=I+G;return x>=ie.length&&(x=0),x<0&&(x=ie.length-1),ie[x]},k=(G,W)=>{G!=null&&(a==null||a(G,W),_==null||_(G,W))},q=G=>{if(h==null||h(G),!b)return;let W;switch(G.key){case"ArrowLeft":case"ArrowUp":W=z(-1);break;case"ArrowRight":case"ArrowDown":W=z(1);break;default:return}W&&(G.preventDefault(),k(W.dataset[DD("EventKey")]||null,G),g.current=!0,p())};S.useEffect(()=>{if(N.current&&g.current){const G=N.current.querySelector(`[${JE}][aria-selected=true]`);G==null||G.focus()}g.current=!1});const Y=Xf(e,N);return v.jsx(Tf.Provider,{value:k,children:v.jsx(ng.Provider,{value:{role:u,activeKey:Gf(o),getControlledId:A||WE,getControllerId:D||WE},children:v.jsx(n,Object.assign({},d,{onKeyDown:q,ref:Y,role:u}))})})});QS.displayName="Nav";const KS=Object.assign(QS,{Item:GS}),YS=S.forwardRef(({bsPrefix:i,active:e,disabled:n,eventKey:a,className:o,variant:u,action:h,as:d,...p},g)=>{i=Te(i,"list-group-item");const[_,b]=og({key:Gf(a,p.href),active:e,...p}),A=wa(N=>{if(n){N.preventDefault(),N.stopPropagation();return}_.onClick(N)});n&&p.tabIndex===void 0&&(p.tabIndex=-1,p["aria-disabled"]=!0);const D=d||(h?p.href?"a":"button":"div");return v.jsx(D,{ref:g,...p,..._,onClick:A,className:ye(o,i,b.isActive&&"active",n&&"disabled",u&&`${i}-${u}`,h&&`${i}-action`)})});YS.displayName="ListGroupItem";const XS=S.forwardRef((i,e)=>{const{className:n,bsPrefix:a,variant:o,horizontal:u,numbered:h,as:d="div",...p}=qf(i,{activeKey:"onSelect"}),g=Te(a,"list-group");let _;return u&&(_=u===!0?"horizontal":`horizontal-${u}`),v.jsx(KS,{ref:e,...p,as:d,className:ye(n,g,o&&`${g}-${o}`,_&&`${g}-${_}`,h&&`${g}-numbered`)})});XS.displayName="ListGroup";const e0=Object.assign(XS,{Item:YS});var Qc;function t0(i){if((!Qc&&Qc!==0||i)&&Io){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qc}function $D(){return S.useState(null)}function vm(i){i===void 0&&(i=Ff());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function GD(i){const e=S.useRef(i);return e.current=i,e}function QD(i){const e=GD(i);S.useEffect(()=>()=>e.current(),[])}function KD(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const n0=Qf("modal-open");class lg{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:a=!1}={}){this.handleContainerOverflow=n,this.isRTL=a,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return KD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[a]:o.style[a]},e.scrollBarWidth&&(n[a]=`${parseInt(vi(o,a)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(n0,""),vi(o,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(n0),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const _m=(i,e)=>Io?i==null?(e||Ff()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function YD(i,e){const n=rg(),[a,o]=S.useState(()=>_m(i,n==null?void 0:n.document));if(!a){const u=_m(i);u&&o(u)}return S.useEffect(()=>{},[e,a]),S.useEffect(()=>{const u=_m(i);u!==a&&o(u)},[i,a]),a}function XD({children:i,in:e,onExited:n,mountOnEnter:a,unmountOnExit:o}){const u=S.useRef(null),h=S.useRef(e),d=pi(n);S.useEffect(()=>{e?h.current=!0:d(u.current)},[e,d]);const p=Xf(u,Do(i)),g=S.cloneElement(i,{ref:p});return e?g:o||!h.current&&a?null:g}const ZD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function WD(i,e){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function JD(i){let{onEnter:e,onEntering:n,onEntered:a,onExit:o,onExiting:u,onExited:h,addEndListener:d,children:p}=i,g=WD(i,ZD);const _=S.useRef(null),b=Xf(_,Do(p)),A=W=>ie=>{W&&_.current&&W(_.current,ie)},D=S.useCallback(A(e),[e]),N=S.useCallback(A(n),[n]),z=S.useCallback(A(a),[a]),k=S.useCallback(A(o),[o]),q=S.useCallback(A(u),[u]),Y=S.useCallback(A(h),[h]),G=S.useCallback(A(d),[d]);return Object.assign({},g,{nodeRef:_},e&&{onEnter:D},n&&{onEntering:N},a&&{onEntered:z},o&&{onExit:k},u&&{onExiting:q},h&&{onExited:Y},d&&{addEndListener:G},{children:typeof p=="function"?(W,ie)=>p(W,Object.assign({},ie,{ref:b})):S.cloneElement(p,{ref:b})})}const eI=["component"];function tI(i,e){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}const nI=S.forwardRef((i,e)=>{let{component:n}=i,a=tI(i,eI);const o=JD(a);return v.jsx(n,Object.assign({ref:e},o))});function rI({in:i,onTransition:e}){const n=S.useRef(null),a=S.useRef(!0),o=pi(e);return YE(()=>{if(!n.current)return;let u=!1;return o({in:i,element:n.current,initial:a.current,isStale:()=>u}),()=>{u=!0}},[i,o]),YE(()=>(a.current=!1,()=>{a.current=!0}),[]),n}function iI({children:i,in:e,onExited:n,onEntered:a,transition:o}){const[u,h]=S.useState(!e);e&&u&&h(!1);const d=rI({in:!!e,onTransition:g=>{const _=()=>{g.isStale()||(g.in?a==null||a(g.element,g.initial):(h(!0),n==null||n(g.element)))};Promise.resolve(o(g)).then(_,b=>{throw g.in||h(!0),b})}}),p=Xf(d,Do(i));return u&&!e?null:S.cloneElement(i,{ref:p})}function r0(i,e,n){return i?v.jsx(nI,Object.assign({},n,{component:i})):e?v.jsx(iI,Object.assign({},n,{transition:e})):v.jsx(XD,Object.assign({},n))}const aI=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function sI(i,e){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}let Em;function oI(i){return Em||(Em=new lg({ownerDocument:i==null?void 0:i.document})),Em}function lI(i){const e=rg(),n=i||oI(e),a=S.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>n.add(a.current),remove:()=>n.remove(a.current),isTopModal:()=>n.isTopModal(a.current),setDialogRef:S.useCallback(o=>{a.current.dialog=o},[]),setBackdropRef:S.useCallback(o=>{a.current.backdrop=o},[])})}const ZS=S.forwardRef((i,e)=>{let{show:n=!1,role:a="dialog",className:o,style:u,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:b,runTransition:A,backdropTransition:D,runBackdropTransition:N,autoFocus:z=!0,enforceFocus:k=!0,restoreFocus:q=!0,restoreFocusOptions:Y,renderDialog:G,renderBackdrop:W=Ke=>v.jsx("div",Object.assign({},Ke)),manager:ie,container:J,onShow:I,onHide:x=()=>{},onExit:C,onExited:O,onExiting:L,onEnter:B,onEntering:j,onEntered:nt}=i,rt=sI(i,aI);const oe=rg(),ve=YD(J),he=lI(ie),Ve=lD(),M=uD(n),[ae,de]=S.useState(!n),ue=S.useRef(null);S.useImperativeHandle(e,()=>he,[he]),Io&&!M&&n&&(ue.current=vm(oe==null?void 0:oe.document)),n&&ae&&de(!1);const le=pi(()=>{if(he.add(),te.current=Ef(document,"keydown",Me),Je.current=Ef(document,"focus",()=>setTimeout(Ce),!0),I&&I(),z){var Ke,vn;const rr=vm((Ke=(vn=he.dialog)==null?void 0:vn.ownerDocument)!=null?Ke:oe==null?void 0:oe.document);he.dialog&&rr&&!XE(he.dialog,rr)&&(ue.current=rr,he.dialog.focus())}}),be=pi(()=>{if(he.remove(),te.current==null||te.current(),Je.current==null||Je.current(),q){var Ke;(Ke=ue.current)==null||Ke.focus==null||Ke.focus(Y),ue.current=null}});S.useEffect(()=>{!n||!ve||le()},[n,ve,le]),S.useEffect(()=>{ae&&be()},[ae,be]),QD(()=>{be()});const Ce=pi(()=>{if(!k||!Ve()||!he.isTopModal())return;const Ke=vm(oe==null?void 0:oe.document);he.dialog&&Ke&&!XE(he.dialog,Ke)&&he.dialog.focus()}),st=pi(Ke=>{Ke.target===Ke.currentTarget&&(g==null||g(Ke),d===!0&&x())}),Me=pi(Ke=>{p&&YN(Ke)&&he.isTopModal()&&(_==null||_(Ke),Ke.defaultPrevented||x())}),Je=S.useRef(),te=S.useRef(),Ae=(...Ke)=>{de(!0),O==null||O(...Ke)};if(!ve)return null;const Ye=Object.assign({role:a,ref:he.setDialogRef,"aria-modal":a==="dialog"?!0:void 0},rt,{style:u,className:o,tabIndex:-1});let Qe=G?G(Ye):v.jsx("div",Object.assign({},Ye,{children:S.cloneElement(h,{role:"document"})}));Qe=r0(b,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:C,onExiting:L,onExited:Ae,onEnter:B,onEntering:j,onEntered:nt,children:Qe});let lt=null;return d&&(lt=W({ref:he.setBackdropRef,onClick:st}),lt=r0(D,N,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:lt})),v.jsx(v.Fragment,{children:lo.createPortal(v.jsxs(v.Fragment,{children:[lt,Qe]}),ve)})});ZS.displayName="Modal";const WS=Object.assign(ZS,{Manager:lg});function uI(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function cI(i,e){i.classList?i.classList.add(e):uI(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function i0(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fI(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=i0(i.className,e):i.setAttribute("class",i0(i.className&&i.className.baseVal||"",e))}const ro={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class JS extends lg{adjustAndStore(e,n,a){const o=n.style[e];n.dataset[e]=o,vi(n,{[e]:`${parseFloat(vi(n,e))+a}px`})}restore(e,n){const a=n.dataset[e];a!==void 0&&(delete n.dataset[e],vi(n,{[e]:a}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(cI(n,"modal-open"),!e.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";os(n,ro.FIXED_CONTENT).forEach(u=>this.adjustAndStore(a,u,e.scrollBarWidth)),os(n,ro.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-e.scrollBarWidth)),os(n,ro.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();fI(n,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";os(n,ro.FIXED_CONTENT).forEach(u=>this.restore(a,u)),os(n,ro.STICKY_CONTENT).forEach(u=>this.restore(o,u)),os(n,ro.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Tm;function eb(i){return Tm||(Tm=new JS(i)),Tm}const tb=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...a},o)=>(e=Te(e,"modal-body"),v.jsx(n,{ref:o,className:ye(i,e),...a})));tb.displayName="ModalBody";const ug=S.createContext({onHide(){}}),cg=S.forwardRef(({bsPrefix:i,className:e,contentClassName:n,centered:a,size:o,fullscreen:u,children:h,scrollable:d,...p},g)=>{i=Te(i,"modal");const _=`${i}-dialog`,b=typeof u=="string"?`${i}-fullscreen-${u}`:`${i}-fullscreen`;return v.jsx("div",{...p,ref:g,className:ye(_,e,o&&`${i}-${o}`,a&&`${_}-centered`,d&&`${_}-scrollable`,u&&b),children:v.jsx("div",{className:ye(`${i}-content`,n),children:h})})});cg.displayName="ModalDialog";const nb=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...a},o)=>(e=Te(e,"modal-footer"),v.jsx(n,{ref:o,className:ye(i,e),...a})));nb.displayName="ModalFooter";const rb=S.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:n=!1,onHide:a,children:o,...u},h)=>{const d=S.useContext(ug),p=wa(()=>{d==null||d.onHide(),a==null||a()});return v.jsxs("div",{ref:h,...u,children:[o,n&&v.jsx($f,{"aria-label":i,variant:e,onClick:p})]})}),ib=S.forwardRef(({bsPrefix:i,className:e,closeLabel:n="Close",closeButton:a=!1,...o},u)=>(i=Te(i,"modal-header"),v.jsx(rb,{ref:u,...o,className:ye(e,i),closeLabel:n,closeButton:a})));ib.displayName="ModalHeader";const hI=yu("h4"),ab=S.forwardRef(({className:i,bsPrefix:e,as:n=hI,...a},o)=>(e=Te(e,"modal-title"),v.jsx(n,{ref:o,className:ye(i,e),...a})));ab.displayName="ModalTitle";function dI(i){return v.jsx(_o,{...i,timeout:null})}function mI(i){return v.jsx(_o,{...i,timeout:null})}const sb=S.forwardRef(({bsPrefix:i,className:e,style:n,dialogClassName:a,contentClassName:o,children:u,dialogAs:h=cg,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":_,show:b=!1,animation:A=!0,backdrop:D=!0,keyboard:N=!0,onEscapeKeyDown:z,onShow:k,onHide:q,container:Y,autoFocus:G=!0,enforceFocus:W=!0,restoreFocus:ie=!0,restoreFocusOptions:J,onEntered:I,onExit:x,onExiting:C,onEnter:O,onEntering:L,onExited:B,backdropClassName:j,manager:nt,...rt},oe)=>{const[ve,he]=S.useState({}),[Ve,M]=S.useState(!1),ae=S.useRef(!1),de=S.useRef(!1),ue=S.useRef(null),[le,be]=$D(),Ce=gS(oe,be),st=wa(q),Me=LN();i=Te(i,"modal");const Je=S.useMemo(()=>({onHide:st}),[st]);function te(){return nt||eb({isRTL:Me})}function Ae(we){if(!Io)return;const ft=te().getScrollbarWidth()>0,Bn=we.scrollHeight>Ff(we).documentElement.clientHeight;he({paddingRight:ft&&!Bn?t0():void 0,paddingLeft:!ft&&Bn?t0():void 0})}const Ye=wa(()=>{le&&Ae(le.dialog)});bD(()=>{Jm(window,"resize",Ye),ue.current==null||ue.current()});const Qe=()=>{ae.current=!0},lt=we=>{ae.current&&le&&we.target===le.dialog&&(de.current=!0),ae.current=!1},Ke=()=>{M(!0),ue.current=mS(le.dialog,()=>{M(!1)})},vn=we=>{we.target===we.currentTarget&&Ke()},rr=we=>{if(D==="static"){vn(we);return}if(de.current||we.target!==we.currentTarget){de.current=!1;return}q==null||q()},Ci=we=>{N?z==null||z(we):(we.preventDefault(),D==="static"&&Ke())},xi=(we,ft)=>{we&&Ae(we),O==null||O(we,ft)},Hr=we=>{ue.current==null||ue.current(),x==null||x(we)},Ni=(we,ft)=>{L==null||L(we,ft),dS(window,"resize",Ye)},Vo=we=>{we&&(we.style.display=""),B==null||B(we),Jm(window,"resize",Ye)},xa=S.useCallback(we=>v.jsx("div",{...we,className:ye(`${i}-backdrop`,j,!A&&"show")}),[A,j,i]),Kt={...n,...ve};Kt.display="block";const ms=we=>v.jsx("div",{role:"dialog",...we,style:Kt,className:ye(e,i,Ve&&`${i}-static`,!A&&"show"),onClick:D?rr:void 0,onMouseUp:lt,"data-bs-theme":d,"aria-label":_,"aria-labelledby":p,"aria-describedby":g,children:v.jsx(h,{...rt,onMouseDown:Qe,className:a,contentClassName:o,children:u})});return v.jsx(ug.Provider,{value:Je,children:v.jsx(WS,{show:b,ref:Ce,backdrop:D,container:Y,keyboard:!0,autoFocus:G,enforceFocus:W,restoreFocus:ie,restoreFocusOptions:J,onEscapeKeyDown:Ci,onShow:k,onHide:q,onEnter:xi,onEntering:Ni,onEntered:I,onExit:Hr,onExiting:C,onExited:Vo,manager:te(),transition:A?dI:void 0,backdropTransition:A?mI:void 0,renderBackdrop:xa,renderDialog:ms})})});sb.displayName="Modal";const Mr=Object.assign(sb,{Body:tb,Header:ib,Title:ab,Footer:nb,Dialog:cg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),ob=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...a},o)=>(e=Te(e,"nav-item"),v.jsx(n,{ref:o,className:ye(i,e),...a})));ob.displayName="NavItem";const lb=S.forwardRef(({bsPrefix:i,className:e,as:n=Jp,active:a,eventKey:o,disabled:u=!1,...h},d)=>{i=Te(i,"nav-link");const[p,g]=og({key:Gf(o,h.href),active:a,disabled:u,...h});return v.jsx(n,{...h,...p,ref:d,disabled:u,className:ye(e,i,u&&"disabled",g.isActive&&"active")})});lb.displayName="NavLink";const ub=S.forwardRef((i,e)=>{const{as:n="div",bsPrefix:a,variant:o,fill:u=!1,justify:h=!1,navbar:d,navbarScroll:p,className:g,activeKey:_,...b}=qf(i,{activeKey:"onSelect"}),A=Te(a,"nav");let D,N,z=!1;const k=S.useContext(Oo),q=S.useContext(tg);return k?(D=k.bsPrefix,z=d??!0):q&&({cardHeaderBsPrefix:N}=q),v.jsx(KS,{as:n,ref:e,activeKey:_,className:ye(g,{[A]:!z,[`${D}-nav`]:z,[`${D}-nav-scroll`]:z&&p,[`${N}-${o}`]:!!N,[`${A}-${o}`]:!!o,[`${A}-fill`]:u,[`${A}-justified`]:h}),...b})});ub.displayName="Nav";const Lr=Object.assign(ub,{Item:ob,Link:lb}),cb=S.forwardRef(({bsPrefix:i,className:e,as:n,...a},o)=>{i=Te(i,"navbar-brand");const u=n||(a.href?"a":"span");return v.jsx(u,{...a,ref:o,className:ye(e,i)})});cb.displayName="NavbarBrand";const fb=S.forwardRef(({children:i,bsPrefix:e,...n},a)=>{e=Te(e,"navbar-collapse");const o=S.useContext(Oo);return v.jsx(aD,{in:!!(o&&o.expanded),...n,children:v.jsx("div",{ref:a,className:e,children:i})})});fb.displayName="NavbarCollapse";const hb=S.forwardRef(({bsPrefix:i,className:e,children:n,label:a="Toggle navigation",as:o="button",onClick:u,...h},d)=>{i=Te(i,"navbar-toggler");const{onToggle:p,expanded:g}=S.useContext(Oo)||{},_=wa(b=>{u&&u(b),p&&p()});return o==="button"&&(h.type="button"),v.jsx(o,{...h,ref:d,onClick:_,"aria-label":a,className:ye(e,i,!g&&"collapsed"),children:n||v.jsx("span",{className:`${i}-icon`})})});hb.displayName="NavbarToggle";const ep=new WeakMap,a0=(i,e)=>{if(!i||!e)return;const n=ep.get(e)||new Map;ep.set(e,n);let a=n.get(i);return a||(a=e.matchMedia(i),a.refCount=0,n.set(a.media,a)),a};function pI(i,e=typeof window>"u"?void 0:window){const n=a0(i,e),[a,o]=S.useState(()=>n?n.matches:!1);return VD(()=>{let u=a0(i,e);if(!u)return o(!1);let h=ep.get(e);const d=()=>{o(u.matches)};return u.refCount++,u.addListener(d),d(),()=>{u.removeListener(d),u.refCount--,u.refCount<=0&&(h==null||h.delete(u.media)),u=void 0}},[i]),a}function gI(i){const e=Object.keys(i);function n(d,p){return d===p?p:d?`${d} and ${p}`:p}function a(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function o(d){const p=a(d);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(d){let p=i[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(d,p,g){let _;typeof d=="object"?(_=d,g=p,p=!0):(p=p||!0,_={[d]:p});let b=S.useMemo(()=>Object.entries(_).reduce((A,[D,N])=>((N==="up"||N===!0)&&(A=n(A,u(D))),(N==="down"||N===!0)&&(A=n(A,o(D))),A),""),[JSON.stringify(_)]);return pI(b,g)}return h}const yI=gI({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),db=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...a},o)=>(e=Te(e,"offcanvas-body"),v.jsx(n,{ref:o,className:ye(i,e),...a})));db.displayName="OffcanvasBody";const vI={[fr]:"show",[mi]:"show"},mb=S.forwardRef(({bsPrefix:i,className:e,children:n,in:a=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:h=!1,...d},p)=>(i=Te(i,"offcanvas"),v.jsx(Zp,{ref:p,addEndListener:Xp,in:a,mountOnEnter:o,unmountOnExit:u,appear:h,...d,childRef:Do(n),children:(g,_)=>S.cloneElement(n,{..._,className:ye(e,n.props.className,(g===fr||g===ou)&&`${i}-toggling`,vI[g])})})));mb.displayName="OffcanvasToggling";const pb=S.forwardRef(({bsPrefix:i,className:e,closeLabel:n="Close",closeButton:a=!1,...o},u)=>(i=Te(i,"offcanvas-header"),v.jsx(rb,{ref:u,...o,className:ye(e,i),closeLabel:n,closeButton:a})));pb.displayName="OffcanvasHeader";const _I=yu("h5"),gb=S.forwardRef(({className:i,bsPrefix:e,as:n=_I,...a},o)=>(e=Te(e,"offcanvas-title"),v.jsx(n,{ref:o,className:ye(i,e),...a})));gb.displayName="OffcanvasTitle";function EI(i){return v.jsx(mb,{...i})}function TI(i){return v.jsx(_o,{...i})}const yb=S.forwardRef(({bsPrefix:i,className:e,children:n,"aria-labelledby":a,placement:o="start",responsive:u,show:h=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:b,onHide:A,container:D,autoFocus:N=!0,enforceFocus:z=!0,restoreFocus:k=!0,restoreFocusOptions:q,onEntered:Y,onExit:G,onExiting:W,onEnter:ie,onEntering:J,onExited:I,backdropClassName:x,manager:C,renderStaticNode:O=!1,...L},B)=>{const j=S.useRef();i=Te(i,"offcanvas");const[nt,rt]=S.useState(!1),oe=wa(A),ve=yI(u||"xs","up");S.useEffect(()=>{rt(u?h&&!ve:h)},[h,u,ve]);const he=S.useMemo(()=>({onHide:oe}),[oe]);function Ve(){return C||(g?(j.current||(j.current=new JS({handleContainerOverflow:!1})),j.current):eb())}const M=(le,...be)=>{le&&(le.style.visibility="visible"),ie==null||ie(le,...be)},ae=(le,...be)=>{le&&(le.style.visibility=""),I==null||I(...be)},de=S.useCallback(le=>v.jsx("div",{...le,className:ye(`${i}-backdrop`,x)}),[x,i]),ue=le=>v.jsx("div",{...le,...L,className:ye(e,u?`${i}-${u}`:i,`${i}-${o}`),"aria-labelledby":a,children:n});return v.jsxs(v.Fragment,{children:[!nt&&(u||O)&&ue({}),v.jsx(ug.Provider,{value:he,children:v.jsx(WS,{show:nt,ref:B,backdrop:d,container:D,keyboard:p,autoFocus:N,enforceFocus:z&&!g,restoreFocus:k,restoreFocusOptions:q,onEscapeKeyDown:_,onShow:b,onHide:oe,onEnter:M,onEntering:J,onEntered:Y,onExit:G,onExiting:W,onExited:ae,manager:Ve(),transition:EI,backdropTransition:TI,renderBackdrop:de,renderDialog:ue})})]})});yb.displayName="Offcanvas";const SI=Object.assign(yb,{Body:db,Header:pb,Title:gb}),vb=S.forwardRef(({onHide:i,...e},n)=>{const a=S.useContext(Oo),o=wa(()=>{a==null||a.onToggle==null||a.onToggle(),i==null||i()});return v.jsx(SI,{ref:n,show:!!(a!=null&&a.expanded),...e,renderStaticNode:!0,onHide:o})});vb.displayName="NavbarOffcanvas";const _b=S.forwardRef(({className:i,bsPrefix:e,as:n="span",...a},o)=>(e=Te(e,"navbar-text"),v.jsx(n,{ref:o,className:ye(i,e),...a})));_b.displayName="NavbarText";const Eb=S.forwardRef((i,e)=>{const{bsPrefix:n,expand:a=!0,variant:o="light",bg:u,fixed:h,sticky:d,className:p,as:g="nav",expanded:_,onToggle:b,onSelect:A,collapseOnSelect:D=!1,...N}=qf(i,{expanded:"onToggle"}),z=Te(n,"navbar"),k=S.useCallback((...G)=>{A==null||A(...G),D&&_&&(b==null||b(!1))},[A,D,_,b]);N.role===void 0&&g!=="nav"&&(N.role="navigation");let q=`${z}-expand`;typeof a=="string"&&(q=`${q}-${a}`);const Y=S.useMemo(()=>({onToggle:()=>b==null?void 0:b(!_),bsPrefix:z,expanded:!!_,expand:a}),[z,_,a,b]);return v.jsx(Oo.Provider,{value:Y,children:v.jsx(Tf.Provider,{value:k,children:v.jsx(g,{ref:e,...N,className:ye(p,z,a&&q,o&&`${z}-${o}`,u&&`bg-${u}`,d&&`sticky-${d}`,h&&`fixed-${h}`)})})})});Eb.displayName="Navbar";const ma=Object.assign(Eb,{Brand:cb,Collapse:fb,Offcanvas:vb,Text:_b,Toggle:hb}),kn=S.forwardRef(({bsPrefix:i,className:e,as:n="div",...a},o)=>{const u=Te(i,"row"),h=Kp(),d=Yp(),p=`${u}-cols`,g=[];return h.forEach(_=>{const b=a[_];delete a[_];let A;b!=null&&typeof b=="object"?{cols:A}=b:A=b;const D=_!==d?`-${_}`:"";A!=null&&g.push(`${p}${D}-${A}`)}),v.jsx(n,{ref:o,...a,className:ye(e,u,...g)})});kn.displayName="Row";function bI(i,e=cS,n=fS){const a=[];return Object.entries(i).forEach(([o,u])=>{u!=null&&(typeof u=="object"?e.forEach(h=>{const d=u[h];if(d!=null){const p=h!==n?`-${h}`:"";a.push(`${o}${p}-${d}`)}}):a.push(`${o}-${u}`))}),a}const Tb=S.forwardRef(({as:i="div",bsPrefix:e,className:n,direction:a,gap:o,...u},h)=>{e=Te(e,a==="horizontal"?"hstack":"vstack");const d=Kp(),p=Yp();return v.jsx(i,{...u,ref:h,className:ye(n,e,...bI({gap:o},d,p))})});Tb.displayName="Stack";const Sm=S.forwardRef(({bsPrefix:i,className:e,striped:n,bordered:a,borderless:o,hover:u,size:h,variant:d,responsive:p,...g},_)=>{const b=Te(i,"table"),A=ye(e,b,d&&`${b}-${d}`,h&&`${b}-${h}`,n&&`${b}-${typeof n=="string"?`striped-${n}`:"striped"}`,a&&`${b}-bordered`,o&&`${b}-borderless`,u&&`${b}-hover`),D=v.jsx("table",{...g,className:A,ref:_});if(p){let N=`${b}-responsive`;return typeof p=="string"&&(N=`${N}-${p}`),v.jsx("div",{className:N,children:D})}return D}),Sb=S.createContext(void 0),AI=({children:i})=>{const[e,n]=S.useState(!1),[a,o]=S.useState(!1),[u,h]=S.useState(null),[d,p]=S.useState(null),[g,_]=S.useState(!1),[b,A]=S.useState([]),[D,N]=S.useState(!1);S.useEffect(()=>{const G=localStorage.getItem("egressoUser"),W=localStorage.getItem("adminUser"),ie=localStorage.getItem("firstLogin");G&&W?(localStorage.removeItem("adminUser"),h(new Sn(JSON.parse(G))),n(!0),ie&&N(JSON.parse(ie))):G?(h(new Sn(JSON.parse(G))),n(!0),ie&&N(JSON.parse(ie))):W&&(p(new us(JSON.parse(W))),o(!0))},[]);const z=S.useCallback((G,W=!1)=>{d&&(p(null),o(!1),localStorage.removeItem("adminUser")),h(G),n(!0),localStorage.setItem("egressoUser",JSON.stringify(G.toJson())),N(W),localStorage.setItem("firstLogin",JSON.stringify(W))},[d]),k=S.useCallback(G=>{u&&(h(null),n(!1),localStorage.removeItem("egressoUser")),p(G),o(!0),localStorage.setItem("adminUser",JSON.stringify(G.toJson()))},[u]),q=S.useCallback(()=>{h(null),p(null),n(!1),o(!1),N(!1),localStorage.removeItem("egressoUser"),localStorage.removeItem("adminUser"),localStorage.removeItem("firstLogin")},[]),Y={isLoggedIn:e,isAdminLoggedIn:a,egressoUser:u,adminUser:d,loginEgresso:z,loginAdmin:k,logout:q,loading:g,setLoading:_,courses:b,setCourses:A,firstLogin:D,setFirstLogin:N};return v.jsx(Sb.Provider,{value:Y,children:i})},zr=()=>{const i=S.useContext(Sb);if(!i)throw new Error("useAppContext must be used within an AppProvider");return i},wI=({showAlert:i})=>{const[e,n]=S.useState(""),[a,o]=S.useState(""),[u,h]=S.useState(""),[d,p]=S.useState(!1),g=Rn(),_=Un(),{loginEgresso:b,loading:A,setLoading:D,firstLogin:N}=zr(),[z,k]=S.useState(!1),q=async Y=>{var G,W;Y.preventDefault(),h(""),k(!0),D(!0);try{const ie=await yt.loginUser(e,a);if(ie){const I=new URLSearchParams(_.search).get("firstLogin")==="true";if(b(ie,I),I)g("/edit-profile",{replace:!0});else{const x=((W=(G=_.state)==null?void 0:G.from)==null?void 0:W.pathname)||"/home";g(x,{replace:!0})}}else h("Falha no login. Nome de usurio ou senha invlidos."),i("Falha no login. Nome de usurio ou senha invlidos.","danger")}finally{k(!1),D(!1)}};return v.jsx(Pn,{className:"d-flex justify-content-center align-items-center vh-100",children:A?v.jsx("div",{children:"Carregando..."}):v.jsx(kn,{className:"justify-content-center w-100",children:v.jsx(vt,{xs:12,sm:10,md:8,lg:6,children:v.jsx(Qt,{children:v.jsxs(Qt.Body,{children:[v.jsx("h2",{className:"text-center mb-4",children:"Entrar"}),u&&v.jsx("p",{className:"text-danger text-center",children:u}),v.jsxs(fe,{onSubmit:q,children:[v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicUsername",children:[v.jsx(fe.Label,{children:"Nome de Usurio"}),v.jsx(fe.Control,{type:"text",placeholder:"Digite seu nome de usurio",value:e,onChange:Y=>n(Y.target.value)})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicPassword",children:[v.jsx(fe.Label,{children:"Senha"}),v.jsxs(_u,{children:[v.jsx(fe.Control,{type:d?"text":"password",placeholder:"Senha",value:a,onChange:Y=>o(Y.target.value)}),v.jsx(ze,{variant:"outline-secondary",onClick:()=>p(!d),children:d?"Ocultar":"Mostrar"})]})]}),v.jsxs("div",{className:"d-grid gap-2",children:[v.jsx(ze,{variant:"primary",type:"submit",disabled:z,children:z?"Entrando...":"Entrar"}),v.jsx(ze,{variant:"link",as:yn,to:"/create-account",className:"text-center",children:"Criar Conta"})]})]})]})})})})})},RI=({show:i,onHide:e})=>v.jsxs(Mr,{show:i,onHide:e,centered:!0,children:[v.jsx(Mr.Header,{closeButton:!0,children:v.jsx(Mr.Title,{children:"Termos de Consentimento"})}),v.jsxs(Mr.Body,{children:[v.jsx("p",{children:"Estes so os termos de consentimento para o uso de dados no projeto.  **Substitua este texto com os termos reais.**"}),v.jsx("p",{children:"Ao criar uma conta, voc concorda com a coleta, uso e compartilhamento de seus dados pessoais, conforme descrito nestes termos.  Seus dados sero usados para os seguintes propsitos:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Permitir que outros egressos encontrem voc."}),v.jsx("li",{children:"Melhorar a funcionalidade do aplicativo."}),v.jsx("li",{children:"Entrar em contato com voc sobre questes relacionadas ao aplicativo (opcional)."})]}),v.jsx("p",{children:"Voc tem o direito de acessar, corrigir e excluir seus dados a qualquer momento. Para mais informaes, entre em contato conosco."})]}),v.jsx(Mr.Footer,{children:v.jsx(ze,{variant:"secondary",onClick:e,children:"Fechar"})})]}),CI=({showAlert:i})=>{const[e,n]=S.useState({name:"",profileImage:"",faceImage:"",facePoints:"",course:"",graduationYear:"",personalDescription:"",contactLinks:[],verified:!1,username:"",passwordHash:"",careerDescription:"",termsAccepted:!1}),[a,o]=S.useState(""),[u,h]=S.useState(""),[d,p]=S.useState(!1),[g,_]=S.useState(""),[b,A]=S.useState(!1),[D,N]=S.useState(!1),z=Rn(),k=Un(),{loading:q,setLoading:Y}=zr();S.useEffect(()=>{const x=new URLSearchParams(k.search).get("invite");x&&h(x)},[k.search]);const G=I=>{n({...e,[I.target.name]:I.target.value})},W=I=>{_(I.target.value)},ie=I=>{n({...e,termsAccepted:I.target.checked})},J=async I=>{I.preventDefault(),o(""),N(!0),Y(!0);try{if(!e.username||!e.passwordHash||!e.name){o("Nome de usurio, senha e nome so obrigatrios."),i("Nome de usurio, senha e nome so obrigatrios.","danger");return}if(!e.termsAccepted){o("Voc deve aceitar os termos de consentimento."),i("Voc deve aceitar os termos de consentimento.","danger");return}if(!u){o("Um cdigo de convite  obrigatrio."),i("Um cdigo de convite  obrigatrio.","danger");return}if(e.passwordHash!==g){o("As senhas no coincidem."),i("As senhas no coincidem.","danger");return}await yt.createUser(e,u)?(i("Conta criada com sucesso! Redirecionando...","success"),z("/login?firstLogin=true",{replace:!0})):(o("Falha ao criar a conta."),i("Falha ao criar a conta.","danger"))}finally{N(!1),Y(!1)}};return v.jsxs(Pn,{className:"d-flex justify-content-center align-items-center vh-100",children:[q?v.jsx("div",{children:"Carregando..."}):v.jsx(kn,{className:"justify-content-center w-100",children:v.jsx(vt,{xs:12,sm:10,md:8,lg:6,children:v.jsx(Qt,{children:v.jsxs(Qt.Body,{children:[v.jsx("h2",{className:"text-center mb-4",children:"Criar Conta"}),a&&v.jsx("p",{className:"text-danger text-center",children:a}),v.jsxs(fe,{onSubmit:J,children:[v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicName",children:[v.jsx(fe.Label,{children:"Nome"}),v.jsx(fe.Control,{type:"text",name:"name",placeholder:"Seu Nome",value:e.name,onChange:G,required:!0})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicUsername",children:[v.jsxs(fe.Label,{children:["Nome de Usurio ",v.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"(Login Apenas)"})]}),v.jsx(fe.Control,{type:"text",name:"username",placeholder:"Nome de Usurio",value:e.username,onChange:G,required:!0})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicPassword",children:[v.jsx(fe.Label,{children:"Senha"}),v.jsxs(_u,{children:[v.jsx(fe.Control,{type:b?"text":"password",name:"passwordHash",placeholder:"Senha",value:e.passwordHash,onChange:G,required:!0}),v.jsx(ze,{variant:"outline-secondary",onClick:()=>A(!b),children:b?"Ocultar":"Mostrar"})]})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formConfirmPassword",children:[v.jsx(fe.Label,{children:"Confirmar Senha"}),v.jsx(fe.Control,{type:b?"text":"password",name:"confirmPassword",placeholder:"Confirme a Senha",value:g,onChange:W,required:!0})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicInviteCode",children:[v.jsx(fe.Label,{children:"Cdigo de Convite"}),v.jsx(fe.Control,{type:"text",name:"inviteCode",placeholder:"Cdigo de Convite",value:u,onChange:I=>h(I.target.value),required:!0})]}),v.jsx(fe.Group,{className:"mb-3",controlId:"formBasicTerms",children:v.jsx(fe.Check,{type:"checkbox",name:"termsAccepted",label:v.jsxs(v.Fragment,{children:["Eu concordo com os"," ",v.jsx("a",{href:"#!",onClick:I=>{I.preventDefault(),p(!0)},children:"Termos de Consentimento"})," ","para o uso dos meus dados neste projeto."]}),checked:e.termsAccepted,onChange:ie,required:!0})}),v.jsxs("div",{className:"d-grid gap-2",children:[v.jsx(ze,{variant:"success",type:"submit",disabled:D,children:D?"Criando...":"Criar Conta"}),v.jsx(ze,{variant:"link",as:yn,to:"/login",className:"text-center",children:"Entrar"})]})]})]})})})}),v.jsx(RI,{show:d,onHide:()=>p(!1)})]})},xI=()=>{const i=Rn(),{egressoUser:e,logout:n}=zr(),[a,o]=kr.useState(!1);if(!e)return i("/login"),null;const u=async()=>{if(window.confirm("Tem certeza que deseja deletar sua conta? Esta ao  irreversvel.")&&(o(!0),e&&e.id))try{await yt.deleteEgresso(e.id)?(n(),i("/login"),alert("Sua conta foi deletada com sucesso.")):alert("Falha ao deletar a conta. Tente novamente.")}finally{o(!1)}};return v.jsxs(Pn,{className:"p-4",children:[v.jsxs("h2",{children:["Bem-vindo(a), ",e.name,"!"]}),v.jsxs("p",{className:"mb-4",children:["Esta  a sua pgina inicial. Voc est logado como ",e.username,"."]}),v.jsxs(Tb,{direction:"horizontal",gap:3,className:"flex-wrap justify-content-center mb-4",children:[v.jsx(ze,{variant:"primary",onClick:()=>i("/search"),children:"Buscar Egressos"}),v.jsx(ze,{variant:"primary",onClick:()=>i(`/profile/${e.id}`),children:"Ver Meu Perfil"}),v.jsx(ze,{variant:"primary",onClick:()=>i("/edit-profile"),children:"Editar Meu Perfil"}),v.jsx(ze,{variant:"danger",onClick:u,disabled:a,children:a?"Deletando...":"Deletar Minha Conta"}),v.jsx(ze,{variant:"secondary",onClick:()=>{n(),i("/login")},children:"Sair"})]})]})},fg=()=>{const[i,e]=S.useState(!0);return Rn(),!i&&!e?v.jsx(v.Fragment,{}):v.jsxs(v.Fragment,{children:[v.jsx(ma,{expand:"lg",className:"bg-body-tertiary",fixed:"top",children:v.jsxs(Pn,{children:[v.jsx(ma.Brand,{as:yn,to:"/",children:"Carometro "}),v.jsx(ma.Toggle,{"aria-controls":"basic-navbar-nav-unlogged"}),v.jsxs(ma.Collapse,{id:"basic-navbar-nav-unlogged",children:[v.jsxs(Lr,{className:"me-auto",children:[v.jsx(Lr.Link,{as:yn,to:"/",children:"Incio"}),v.jsx(Lr.Link,{as:yn,to:"/search",children:"Buscar"})]}),v.jsx(Lr,{children:v.jsx(Lr.Link,{as:yn,to:"/login",children:"Entrar"})})]})]})}),v.jsx("div",{style:{marginBottom:50}})]})},NI=()=>{const[i,e]=S.useState([]),[n,a]=S.useState(""),[o,u]=S.useState(!0),h=Rn();S.useEffect(()=>{(async()=>{u(!0);try{const _=(await yt.getEgressos()).filter(b=>b.verified);_.sort((b,A)=>A.id>b.id?1:-1),e(_.slice(0,6))}catch(g){console.error("Error fetching recent egressos:",g)}finally{u(!1)}})()},[]);const d=p=>{p.preventDefault();const g=n.trim();g&&h(`/search?q=${encodeURIComponent(g)}`)};return v.jsxs(v.Fragment,{children:[v.jsx(fg,{}),v.jsxs(Pn,{className:"p-4",children:[v.jsx("h1",{className:"text-center mb-4",children:"Bem-vindo ao Carometro "}),v.jsx(fe,{onSubmit:d,className:"mb-4",children:v.jsxs(kn,{className:"justify-content-center",children:[v.jsx(vt,{xs:12,md:8,lg:6,children:v.jsx(fe.Control,{type:"text",placeholder:"Buscar egressos...",value:n,onChange:p=>a(p.target.value),size:"lg"})}),v.jsx(vt,{xs:"auto",children:v.jsx(ze,{variant:"primary",type:"submit",size:"lg",children:"Buscar"})})]})}),o&&v.jsx("div",{className:"loading-overlay",children:"Carregando..."}),!o&&v.jsxs(v.Fragment,{children:[v.jsx("h2",{children:"Egressos Verificados Recentemente"}),v.jsxs(kn,{xs:1,md:2,lg:3,className:"g-4",children:[i.map(p=>v.jsx(vt,{children:v.jsxs(Qt,{as:yn,to:`/profile/${p.id}`,className:"text-decoration-none",children:[v.jsx(Qt.Img,{variant:"top",src:p.profileImage||"/placeholder.png",style:{maxHeight:"300px",objectFit:"cover"}}),v.jsxs(Qt.Body,{children:[v.jsx(Qt.Title,{children:p.name}),v.jsxs(Qt.Text,{className:"text-muted",children:[p.course||"Curso no especificado"," - ",p.graduationYear||"Ano de formatura no especificado"]})]})]})},p.id)),i.length===0&&v.jsx(vt,{children:v.jsx("p",{className:"text-muted text-center",children:"Nenhum egresso verificado recentemente."})})]})]})]})]})},bb=({message:i,variant:e,onClose:n})=>v.jsx(SS,{variant:e,onClose:n,dismissible:!0,children:i}),bm=({isAdmin:i=!1})=>{const e=Un();Rn();const[n,a]=S.useState(""),[o,u]=S.useState(""),[h,d]=S.useState(""),[p,g]=S.useState([]),[_,b]=S.useState([]),[A,D]=S.useState(!0),[N,z]=S.useState(null),k=(W,ie="success")=>{z({message:W,variant:ie}),setTimeout(()=>z(null),5e3)},q=()=>{z(null)};S.useEffect(()=>{const W=new URLSearchParams(e.search),ie=W.get("q"),J=W.get("course"),I=W.get("year");a(ie||""),u(J||""),d(I||""),(async()=>{D(!0);try{const C=await yt.getEgressos();let O=C;i||(O=C.filter(L=>L.verified)),b(O),Y(ie||"",J||"",I||"",O)}catch(C){console.error("Error fetching egressos:",C),k("Erro ao buscar egressos.","danger")}finally{D(!1)}})()},[e.search,i]);const Y=(W,ie,J,I)=>{let x=[...I];if(W){const C=W.toLowerCase();x=x.filter(O=>O.name.toLowerCase().includes(C))}if(ie){const C=ie.toLowerCase();x=x.filter(O=>{var L;return(L=O.course)==null?void 0:L.toLowerCase().includes(C)})}if(J){const C=J.toLowerCase();x=x.filter(O=>{var L;return(L=O.graduationYear)==null?void 0:L.toLowerCase().includes(C)})}g(x)},G=W=>{const{name:ie,value:J}=W.target;switch(ie){case"searchTerm":a(J);break;case"searchCourse":u(J);break;case"searchGraduationYear":d(J);break}Y(n,o,h,_)};return v.jsxs(v.Fragment,{children:[v.jsx(fg,{}),v.jsxs(Pn,{className:"p-4",children:[v.jsx("h2",{children:i?"Buscar Egressos (Admin)":"Buscar Egressos"}),N&&v.jsx(bb,{message:N.message,variant:N.variant,onClose:q}),v.jsx(fe.Control,{type:"text",placeholder:"Buscar por nome",className:"mb-3",value:n,name:"searchTerm",onChange:G}),v.jsxs(kn,{children:[v.jsx(vt,{children:v.jsx(fe.Control,{type:"text",placeholder:"Buscar por curso",className:"mb-3",value:o,name:"searchCourse",onChange:G})}),v.jsx(vt,{children:v.jsx(fe.Control,{type:"text",placeholder:"Buscar por ano de formatura",className:"mb-3",value:h,name:"searchGraduationYear",onChange:G})})]}),A?v.jsx("div",{children:"Carregando..."}):v.jsxs(kn,{xs:1,md:2,lg:3,className:"g-4",children:[p.map(W=>v.jsx(vt,{children:v.jsxs(Qt,{as:yn,to:`/profile/${W.id}`,className:"text-decoration-none",children:[v.jsx(Qt.Img,{variant:"top",src:W.profileImage||"/placeholder.png",style:{maxHeight:"300px",objectFit:"cover"}}),v.jsxs(Qt.Body,{children:[v.jsx(Qt.Title,{children:W.name}),v.jsxs(Qt.Text,{className:"text-muted",children:[W.course||"Curso no especificado"," - ",W.graduationYear||"Ano de formatura no especificado"]})]})]})},W.id)),p.length===0&&(n||o||h)&&v.jsx(vt,{children:v.jsx("p",{className:"text-muted text-center",children:"Nenhum resultado encontrado."})}),p.length===0&&!A&&_.length===0&&!(n||o||h)&&v.jsx(vt,{children:v.jsx("p",{className:"text-muted text-center",children:"Nenhum egresso encontrado."})})]})]})]})},s0=()=>{const{id:i}=jw(),[e,n]=S.useState(null),[a,o]=S.useState(""),{egressoUser:u,adminUser:h}=zr(),d=Rn(),[p,g]=S.useState(!1),[_,b]=S.useState(!0);S.useEffect(()=>{(async()=>{b(!0);try{if(i){const N=await yt.getEgresso(i);N?N.verified||u&&N.id===u.id||h?n(N):(o("Voc no tem permisso para ver este perfil."),d("/search")):(o("Perfil no encontrado."),d("/search"))}else o("ID de perfil invlido."),d("/search")}catch{o("Erro ao carregar o perfil.")}finally{b(!1)}})()},[i,u,h,d]);const A=async()=>{if(h&&e){g(!0);try{await yt.updateEgresso(e.id,{verified:!e.verified})?n(N=>N?{...N,verified:!N.verified}:null):alert("Falha ao verificar/remover verificao.")}finally{g(!1)}}};return _?v.jsx("div",{children:"Carregando perfil..."}):a?v.jsx("div",{className:"text-danger",children:a}):e?v.jsxs(v.Fragment,{children:[v.jsx(fg,{}),v.jsxs(Pn,{className:"p-4",children:[v.jsxs(kn,{className:"mb-4 align-items-center",children:[v.jsx(vt,{xs:12,md:4,className:"text-center",children:v.jsx(ig,{src:e.profileImage||"/placeholder.png",roundedCircle:!0,fluid:!0,style:{width:"auto",height:"auto",objectFit:"cover"}})}),v.jsxs(vt,{xs:12,md:8,children:[v.jsx("h2",{children:e.name}),v.jsxs("p",{className:"text-muted",children:[e.course||"Curso no especificado"," -"," ",e.graduationYear||"Ano de formatura no especificado"]}),v.jsxs(bS,{pill:!0,bg:e.verified?"success":"danger",children:["Verificado: ",e.verified?"Sim":"No"]}),h&&v.jsx(ze,{variant:e.verified?"warning":"success",className:"ms-2",onClick:A,disabled:p,children:p?e.verified?"Removendo...":"Verificando...":e.verified?"Remover Verificao":"Verificar"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("h4",{children:"Descrio Pessoal"}),v.jsx("p",{children:e.personalDescription||"Nenhuma descrio pessoal fornecida."})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("h4",{children:"Descrio da Carreira"}),v.jsx("p",{children:e.careerDescription||"Nenhuma descrio de carreira fornecida."})]}),e.contactLinks&&e.contactLinks.length>0&&v.jsxs("div",{className:"mb-4",children:[v.jsx("h4",{children:"Links de Contato"}),v.jsx(e0,{children:e.contactLinks.map((D,N)=>v.jsx(e0.Item,{action:!0,href:D,target:"_blank",rel:"noopener noreferrer",children:D},N))})]}),!e.contactLinks||e.contactLinks.length===0&&v.jsxs("div",{className:"mb-4",children:[v.jsx("h4",{children:"Links de Contato"}),v.jsx("p",{children:"Nenhum link de contato fornecido."})]})]})]}):v.jsx("div",{children:"Erro ao carregar o perfil."})},DI=({showAlert:i})=>{var ie;const e=Rn(),[n,a]=S.useState({}),[o,u]=S.useState(null),[h,d]=S.useState(""),{egressoUser:p,courses:g,setCourses:_}=zr(),[b,A]=S.useState(!1),[D,N]=S.useState(!0);S.useEffect(()=>{if(!(p!=null&&p.id)){e("/login");return}(async()=>{N(!0);try{const I=await yt.getEgresso(p.id);I?(a(I.toJson()),u(I.profileImage||null)):(d("Falha ao carregar o perfil para edio."),i("Falha ao carregar o perfil para edio.","danger"));const x=await yt.getCourses();x?_(x):(d("Falha ao carregar os cursos disponiveis."),i("Falha ao carregar os cursos disponiveis.","danger"))}finally{N(!1)}})()},[e,p==null?void 0:p.id,i]);const z=J=>{a({...n,[J.target.name]:J.target.value})},k=(J,I)=>{const C=[...n.contactLinks||[]];C[J]=I,a({...n,contactLinks:C})},q=()=>{const J=n.contactLinks||[];a({...n,contactLinks:[...J,""]})},Y=J=>{const x=(n.contactLinks||[]).filter((C,O)=>O!==J);a({...n,contactLinks:x})},G=J=>{if(J.target.files&&J.target.files[0]){const I=J.target.files[0];if(I.size>1048487){i("A imagem  muito grande. O tamanho mximo permitido  1MB.","danger"),J.target.value="";return}const x=new FileReader;x.onloadend=()=>{const C=x.result;u(C),a({...n,profileImage:C,faceImage:C})},x.readAsDataURL(I)}},W=async J=>{if(J.preventDefault(),d(""),!!(p!=null&&p.id)){A(!0);try{await yt.updateEgresso(p.id,n)?(i("Perfil atualizado com sucesso!"),e(`/profile/${p.id}`)):(d("Falha ao atualizar o perfil."),i("Falha ao atualizar o perfil.","danger"))}catch(I){console.error("Error updating profile:",I),d("Erro ao atualizar o perfil."),i("Erro ao atualizar o perfil","danger")}finally{A(!1)}}};return v.jsxs(v.Fragment,{children:[D&&v.jsx("div",{className:"loading-overlay",children:"Carregando..."}),!D&&v.jsxs(Pn,{className:"p-4",children:[v.jsx("h2",{children:"Editar Perfil"}),h&&v.jsx("p",{className:"text-danger mb-2",children:h}),v.jsxs(fe,{onSubmit:W,children:[v.jsxs(kn,{children:[v.jsx(vt,{xs:12,md:6,children:v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicName",children:[v.jsx(fe.Label,{children:"Nome"}),v.jsx(fe.Control,{type:"text",name:"name",placeholder:"Seu Nome",value:n.name||"",onChange:z})]})}),v.jsx(vt,{xs:12,md:6,children:v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicCourse",children:[v.jsx(fe.Label,{children:"Curso"}),v.jsxs(fe.Select,{name:"course",value:n.course||"",onChange:z,children:[v.jsx("option",{value:"",children:"Selecione um curso"}),g.map(J=>v.jsx("option",{value:J,children:J},J))]})]})})]}),v.jsxs(kn,{children:[v.jsx(vt,{xs:12,md:6,children:v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicGraduationYear",children:[v.jsx(fe.Label,{children:"Ano de Formatura"}),v.jsx(fe.Control,{type:"text",name:"graduationYear",placeholder:"Ano de Formatura",value:n.graduationYear||"",onChange:z})]})}),v.jsx(vt,{xs:12,md:6,children:v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicProfileImage",children:[v.jsx(fe.Label,{children:"Imagem de Perfil"}),v.jsx(fe.Control,{type:"file",accept:"image/*",onChange:G}),o&&v.jsx(ig,{src:o||"/placeholder.png",thumbnail:!0,className:"mt-2",style:{maxWidth:"150px"}})]})})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicCareerDescription",children:[v.jsx(fe.Label,{children:"Descrio da Carreira"}),v.jsx(fe.Control,{as:"textarea",rows:3,name:"careerDescription",placeholder:"Descreva sua experincia profissional",value:n.careerDescription||"",onChange:z})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicDescription",children:[v.jsx(fe.Label,{children:"Descrio Pessoal"}),v.jsx(fe.Control,{as:"textarea",rows:3,name:"personalDescription",placeholder:"Descrio Pessoal",value:n.personalDescription||"",onChange:z})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicContactLinks",children:[v.jsx(fe.Label,{children:"Links de Contato"}),(ie=n.contactLinks)==null?void 0:ie.map((J,I)=>v.jsxs(kn,{className:"mb-2",children:[v.jsx(vt,{children:v.jsx(fe.Control,{type:"text",placeholder:"Link de Contato",value:J,onChange:x=>k(I,x.target.value)})}),v.jsx(vt,{xs:"auto",children:v.jsx(ze,{variant:"danger",onClick:()=>Y(I),children:"Remover"})})]},I)),v.jsx(ze,{variant:"secondary",onClick:q,children:"Adicionar Link de Contato"})]}),v.jsxs("div",{className:"d-flex justify-content-between",children:[v.jsx(ze,{variant:"primary",type:"submit",disabled:b,children:b?"Salvando...":"Salvar Perfil"}),v.jsx(ze,{variant:"secondary",onClick:()=>e(`/profile/${p==null?void 0:p.id}`),children:"Cancelar"})]})]})]})]})},II=({showAlert:i})=>{const[e,n]=S.useState([]),[a,o]=S.useState(""),[u,h]=S.useState([]),[d,p]=S.useState([]),[g,_]=S.useState(""),[b,A]=S.useState(""),D=Rn(),{adminUser:N,loading:z,setLoading:k,setCourses:q,courses:Y}=zr(),[G,W]=S.useState(!1),[ie,J]=S.useState("add"),[I,x]=S.useState(""),[C,O]=S.useState("");S.useEffect(()=>{if(!(N!=null&&N.id)){D("/admin-login");return}(async()=>{try{const Ae=await yt.getEgressos();n(Ae),h(Ae);const Ye=await yt.getCourses();q(Ye)}catch(Ae){console.error("Error fetching data:",Ae),i("Failed to load data.","danger")}})(),le()},[D,N==null?void 0:N.id,i,q]);const L=async()=>{if(C.trim()&&!Y.includes(C.trim())){const te=[...Y,C.trim()];await yt.saveCourses(te),q(te),O(""),W(!1)}else alert("O curso j existe ou  invlido.")},B=async()=>{if(C.trim()){const te=Y.map(Ae=>Ae===I?C.trim():Ae);await yt.saveCourses(te),q(te),O(""),x(""),W(!1)}},j=async te=>{if(window.confirm(`Tem certeza que deseja deletar o curso "${te}"?`)){const Ae=Y.filter(Ye=>Ye!==te);await yt.saveCourses(Ae),q(Ae)}},nt=te=>{const Ae=te.target.value.toLowerCase();o(Ae);const Ye=e.filter(Qe=>{var lt;return Qe.name.toLowerCase().includes(Ae)||Qe.username.toLowerCase().includes(Ae)||((lt=Qe.course)==null?void 0:lt.toLowerCase().includes(Ae))});h(Ye)},[rt,oe]=S.useState(null),ve=async te=>{if(window.confirm("Tem certeza que deseja deletar este usurio?")){oe(te);try{await yt.deleteEgresso(te)?(n(Ye=>Ye.filter(Qe=>Qe.id!==te)),h(Ye=>Ye.filter(Qe=>Qe.id!==te)),i("Usurio deletado com sucesso.")):i("Falha ao deletar usurio.","danger")}finally{oe(null)}}},[he,Ve]=S.useState(null),M=async(te,Ae)=>{Ve(te);try{await yt.updateEgresso(te,{verified:!Ae})?(n(Qe=>Qe.map(lt=>lt.id===te?{...lt,verified:!Ae}:lt)),h(Qe=>Qe.map(lt=>lt.id===te?{...lt,verified:!Ae}:lt)),i(`Usurio ${Ae?"no verificado":"verificado"} com sucesso.`)):i("Falha ao atualizar o status de verificao.","danger")}finally{Ve(null)}},[ae,de]=S.useState(!1),ue=async()=>{if(N&&N.id){de(!0);try{const te=await yt.createInvite(N.id);if(te){_(te);const Ae=`${window.location.origin}/create-account?invite=${te}`;A(`Cdigo de convite gerado: ${te} 
 Link: ${Ae}`)}else A("Erro ao gerar o cdigo de convite."),i("Erro ao gerar o cdigo de convite.","danger")}finally{de(!1)}}},le=async()=>{try{const te=await yt.getInvites(),Ae=await Promise.all(te.map(async Ye=>{const Qe=await yt.getAdmin(Ye.createdBy);return{...Ye,createdByName:Qe?Qe.name:"Unknown"}}));p(Ae)}catch(te){console.error("Error fetching invites:",te),i("Erro ao buscar convites.","danger")}},[be,Ce]=S.useState(null),st=async te=>{if(window.confirm("Tem certeza que deseja cancelar este convite?")){Ce(te);try{await yt.cancelInvite(te)?(await le(),i("Convite cancelado com sucesso.","success")):i("Falha ao cancelar convite.","danger")}catch(Ae){console.error("Error canceling invite:",Ae),i("Erro ao cancelar convite.","danger")}finally{Ce(null)}}},Me=()=>{const te=`${window.location.origin}/create-account?invite=${g}`;navigator.clipboard.writeText(te).then(()=>{i("Link de convite copiado para a rea de transferncia!","success")}).catch(Ae=>{console.error("Failed to copy invite link:",Ae),i("Erro ao copiar o link. Copie manualmente.","warning")})},Je=te=>{const Ae=`${window.location.origin}/create-account?invite=${te}`;navigator.clipboard.writeText(Ae).then(()=>{i("Link de convite copiado para a rea de transferncia!","success")}).catch(Ye=>{console.error("Failed to copy invite link:",Ye),i("Erro ao copiar o link. Copie manualmente.","warning")})};return v.jsxs(v.Fragment,{children:[v.jsxs(Pn,{className:"p-4",children:[v.jsx("h2",{children:"Painel de Administrao - Gerenciar Egressos"}),v.jsxs("div",{className:"mb-3",children:[v.jsx(ze,{variant:"info",onClick:ue,disabled:ae,children:ae?"Gerando...":"Gerar Cdigo de Convite"}),b&&v.jsxs(SS,{variant:"info",className:"mt-2",children:[v.jsx("p",{children:"Cdigo de convite gerado:"}),v.jsx("pre",{children:v.jsx("code",{children:g})}),v.jsx("p",{children:"Link de convite:"}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"text",className:"form-control",value:`${window.location.origin}/create-account?invite=${g}`,readOnly:!0,style:{marginRight:"10px"}}),v.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:Me,children:"Copiar Link"})]})]})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("h4",{children:"Gerenciar Cursos"}),v.jsx(ze,{variant:"primary",size:"sm",onClick:()=>{W(!0),J("add"),O("")},children:"Adicionar Curso"}),v.jsxs(Sm,{striped:!0,bordered:!0,hover:!0,responsive:!0,size:"sm",className:"mt-2",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Curso"}),v.jsx("th",{children:"Aes"})]})}),v.jsx("tbody",{children:Y.map(te=>v.jsxs("tr",{children:[v.jsx("td",{children:te}),v.jsxs("td",{children:[v.jsx(ze,{variant:"warning",size:"sm",className:"me-1",onClick:()=>{W(!0),J("edit"),x(te),O(te)},children:"Editar"}),v.jsx(ze,{variant:"danger",size:"sm",onClick:()=>j(te),children:"Deletar"})]})]},te))})]})]}),v.jsxs("div",{children:[v.jsx("h4",{children:"Convites Vlidos"}),v.jsxs(Sm,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Cdigo"}),v.jsx("th",{children:"Criado Por"}),v.jsx("th",{children:"Usado"}),v.jsx("th",{children:"Criado Em"}),v.jsx("th",{children:"Aes"})]})}),v.jsx("tbody",{children:d.map(te=>v.jsxs("tr",{children:[v.jsx("td",{children:v.jsxs(_u,{children:[v.jsx(fe.Control,{value:te.code,readOnly:!0,"aria-label":"Invite code"}),v.jsx(ze,{variant:"outline-secondary",onClick:()=>Je(te.code),id:`copy-button-${te.code}`,children:"Copiar"})]})}),v.jsx("td",{children:te.createdByName}),v.jsx("td",{children:te.used?"Sim":"No"}),v.jsx("td",{children:te.createdAt.toDate().toLocaleString()}),v.jsx("td",{children:v.jsx(ze,{variant:"danger",size:"sm",onClick:()=>st(te.code),disabled:te.used||be===te.code,children:be===te.code?"Cancelando...":"Cancelar"})})]},te.code))})]})]}),v.jsx(fe.Control,{type:"text",placeholder:"Buscar por nome, nome de usurio ou curso",className:"mb-3",value:a,onChange:nt}),v.jsxs(Sm,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Nome"}),v.jsx("th",{children:"Nome de Usurio"}),v.jsx("th",{children:"Curso"}),v.jsx("th",{children:"Verificado"}),v.jsx("th",{style:{whiteSpace:"nowrap"},children:"Aes"})]})}),v.jsxs("tbody",{children:[u.map(te=>v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx(yn,{to:`/profile/${te.id}`,children:te.name})}),v.jsx("td",{children:te.username}),v.jsx("td",{children:te.course||"N/A"}),v.jsx("td",{children:te.verified?"Sim":"No"}),v.jsxs("td",{children:[v.jsx(ze,{variant:te.verified?"warning":"success",className:"me-2",onClick:()=>M(te.id,te.verified),size:"sm",disabled:he===te.id,children:he===te.id?te.verified?"Removendo...":"Verificando...":te.verified?"Remover Verificao":"Verificar"}),v.jsx(ze,{variant:"danger",onClick:()=>ve(te.id),size:"sm",disabled:rt===te.id,children:rt===te.id?"Deletando...":"Deletar"})]})]},te.id)),u.length===0&&a&&v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"text-center text-muted py-3",children:"Nenhum egresso encontrado com a sua busca."})}),e.length===0&&!a&&v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"text-center text-muted py-3",children:"Nenhum dado de egresso disponvel."})})]})]})]}),v.jsxs(Mr,{show:G,onHide:()=>W(!1),children:[v.jsx(Mr.Header,{closeButton:!0,children:v.jsx(Mr.Title,{children:ie==="add"?"Adicionar Curso":"Editar Curso"})}),v.jsx(Mr.Body,{children:v.jsx(fe.Control,{type:"text",placeholder:ie==="add"?"Novo curso":"Editar curso",value:C,onChange:te=>O(te.target.value)})}),v.jsxs(Mr.Footer,{children:[v.jsx(ze,{variant:"secondary",onClick:()=>W(!1),children:"Cancelar"}),v.jsx(ze,{variant:"primary",onClick:ie==="add"?L:B,children:ie==="add"?"Adicionar":"Salvar"})]})]})]})},OI=({showAlert:i})=>{const e=Rn(),n=Un(),[a,o]=S.useState(""),{isLoggedIn:u,isAdminLoggedIn:h,logout:d}=zr();S.useEffect(()=>{const A=new URLSearchParams(n.search).get("q");A&&o(A)},[n.search]);const p=b=>{b.preventDefault();const A=a.trim();if(A){const D=h?`/admin-search?q=${encodeURIComponent(A)}`:`/search?q=${encodeURIComponent(A)}`;e(D)}else e(h?"/admin":"/search");o("")},g=()=>{d(),e("/login")},_=()=>{e(h?"/admin":u?"/home":"/")};return v.jsx(ma,{expand:"lg",className:"bg-body-tertiary",fixed:"top",children:v.jsxs(Pn,{children:[v.jsx(ma.Brand,{as:yn,to:"/",onClick:_,children:"Carometro "}),v.jsx(ma.Toggle,{"aria-controls":"basic-navbar-nav"}),v.jsxs(ma.Collapse,{id:"basic-navbar-nav",children:[v.jsxs(Lr,{className:"me-auto",children:[v.jsx(Lr.Link,{as:yn,to:"/",onClick:_,children:"Incio"}),v.jsx(Lr.Link,{as:yn,to:h?"/admin-search":"/search",children:"Buscar"})]}),v.jsxs(fe,{onSubmit:p,className:"d-flex",children:[v.jsx(fe.Control,{type:"search",placeholder:"Buscar...",className:"me-2","aria-label":"Search",value:a,onChange:b=>o(b.target.value)}),v.jsx(ze,{variant:"outline-success",type:"submit",children:"Buscar"})]}),v.jsx(Lr,{children:u||h?v.jsx(ze,{variant:"outline-secondary",onClick:g,children:"Sair"}):v.jsx(Lr.Link,{as:yn,to:"/login",children:"Entrar"})})]})]})})},VI=({showAlert:i})=>{const[e,n]=S.useState(""),[a,o]=S.useState(""),[u,h]=S.useState(""),[d,p]=S.useState(!1),g=Rn(),_=Un(),[b,A]=S.useState(!1),{loginAdmin:D,loading:N,setLoading:z}=zr(),k=async q=>{var Y,G;q.preventDefault(),h(""),A(!0),z(!0);try{const W=await yt.loginAdmin(e,a);if(W){D(W);const ie=((G=(Y=_.state)==null?void 0:Y.from)==null?void 0:G.pathname)||"/admin";g(ie,{replace:!0})}else h("Login de administrador falhou. Verifique nome de usurio e senha."),i("Login de administrador falhou. Verifique nome de usurio e senha.","danger")}finally{A(!1),z(!1)}};return v.jsx(Pn,{className:"d-flex justify-content-center align-items-center vh-100",children:N?v.jsx("div",{children:"Carregando..."}):v.jsx(kn,{className:"justify-content-center w-100",children:v.jsx(vt,{xs:12,sm:10,md:8,lg:6,children:v.jsx(Qt,{children:v.jsxs(Qt.Body,{children:[v.jsx("h2",{className:"text-center mb-4",children:"Admin Login"}),u&&v.jsx("p",{className:"text-danger text-center",children:u}),v.jsxs(fe,{onSubmit:k,children:[v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicUsername",children:[v.jsx(fe.Label,{children:"Nome de Usurio"}),v.jsx(fe.Control,{type:"text",placeholder:"Digite seu nome de usurio",value:e,onChange:q=>n(q.target.value)})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formBasicPassword",children:[v.jsx(fe.Label,{children:"Senha"}),v.jsxs(_u,{children:[v.jsx(fe.Control,{type:d?"text":"password",placeholder:"Senha",value:a,onChange:q=>o(q.target.value)}),v.jsx(ze,{variant:"outline-secondary",onClick:()=>p(!d),children:d?"Ocultar":"Mostrar"})]})]}),v.jsx("div",{className:"d-grid gap-2",children:v.jsx(ze,{variant:"primary",type:"submit",disabled:b,children:b?"Entrando...":"Entrar"})})]})]})})})})})},jI=({showAlert:i})=>{const[e,n]=S.useState({name:"",username:"",role:"",passwordHash:""}),[a,o]=S.useState(""),[u,h]=S.useState(!1),[d,p]=S.useState(""),g=Rn(),{loading:_,setLoading:b}=zr(),[A,D]=S.useState(!1),N=q=>{n({...e,[q.target.name]:q.target.value})},z=q=>{o(q.target.value)},k=async q=>{q.preventDefault(),p(""),D(!0),b(!0);try{if(!e.name||!e.username||!e.role||!e.passwordHash){p("Todos os campos so obrigatrios."),i("Todos os campos so obrigatrios.","danger");return}if(e.passwordHash!==a){p("As senhas no coincidem."),i("As senhas no coincidem.","danger");return}await yt.createAdmin(e)?(i("Administrador criado com sucesso!","success"),g("/admin")):(p("Falha ao criar administrador."),i("Falha ao criar administrador. ","danger"))}finally{D(!1),b(!1)}};return v.jsx(Pn,{className:"d-flex justify-content-center align-items-center vh-100",children:_?v.jsx("div",{children:"Carregando..."}):v.jsx(kn,{className:"justify-content-center w-100",children:v.jsx(vt,{xs:12,sm:10,md:8,lg:6,children:v.jsx(Qt,{children:v.jsxs(Qt.Body,{children:[v.jsx("h2",{className:"text-center mb-4",children:"Criar Conta de Administrador"}),d&&v.jsx("p",{className:"text-danger text-center",children:d}),v.jsxs(fe,{onSubmit:k,children:[v.jsxs(fe.Group,{className:"mb-3",controlId:"formAdminName",children:[v.jsx(fe.Label,{children:"Nome"}),v.jsx(fe.Control,{type:"text",name:"name",placeholder:"Nome do Administrador",value:e.name,onChange:N,required:!0})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formAdminUsername",children:[v.jsx(fe.Label,{children:"Nome de Usurio"}),v.jsx(fe.Control,{type:"text",name:"username",placeholder:"Nome de Usurio do Administrador",value:e.username,onChange:N,required:!0})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formAdminRole",children:[v.jsx(fe.Label,{children:"Cargo"}),v.jsx(fe.Control,{type:"text",name:"role",placeholder:"Cargo do Administrador",value:e.role,onChange:N,required:!0})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formAdminPassword",children:[v.jsx(fe.Label,{children:"Senha"}),v.jsxs(_u,{children:[v.jsx(fe.Control,{type:u?"text":"password",name:"passwordHash",placeholder:"Senha",value:e.passwordHash,onChange:N,required:!0}),v.jsx(ze,{variant:"outline-secondary",onClick:()=>h(!u),children:u?"Ocultar":"Mostrar"})]})]}),v.jsxs(fe.Group,{className:"mb-3",controlId:"formAdminConfirmPassword",children:[v.jsx(fe.Label,{children:"Confirmar Senha"}),v.jsx(fe.Control,{type:u?"text":"password",name:"confirmPassword",placeholder:"Confirmar Senha",value:a,onChange:z,required:!0})]}),v.jsx("div",{className:"d-grid gap-2",children:v.jsx(ze,{variant:"primary",type:"submit",disabled:A,children:A?"Criando...":"Criar Administrador"})})]})]})})})})})},MI=()=>{const[i,e]=S.useState(null),{isLoggedIn:n,isAdminLoggedIn:a,loading:o,setLoading:u,firstLogin:h}=zr(),d=(b,A="success")=>{e({message:b,variant:A}),setTimeout(()=>e(null),5e3)},p=()=>{e(null)},[g,_]=S.useState(!0);return S.useEffect(()=>{(async()=>{u(!0);try{const A=localStorage.getItem("egressoUser"),D=localStorage.getItem("adminUser")}finally{_(!1),u(!1)}})()},[u]),g?v.jsx("div",{children:"Loading..."}):v.jsxs(vR,{children:[(n||a)&&v.jsx(OI,{showAlert:d}),v.jsxs("div",{className:n||a?"mt-5 pt-3":"",children:[i&&v.jsx(bb,{message:i.message,variant:i.variant,onClose:p}),v.jsxs(Yw,{children:[v.jsx(Mn,{path:"/",element:n||a?v.jsx(cr,{to:"/home"}):v.jsx(NI,{})}),v.jsx(Mn,{path:"/search",element:n||a?v.jsx(bm,{}):v.jsx(bm,{})}),v.jsx(Mn,{path:"/profile/:id",element:n||a?v.jsx(s0,{}):v.jsx(s0,{})}),v.jsx(Mn,{path:"/login",element:n?h?v.jsx(cr,{to:"/edit-profile"}):v.jsx(cr,{to:"/home"}):a?v.jsx(cr,{to:"/admin"}):v.jsx(wI,{showAlert:d})}),v.jsx(Mn,{path:"/create-account",element:n?v.jsx(cr,{to:"/home"}):v.jsx(CI,{showAlert:d})}),v.jsx(Mn,{path:"/home",element:n?v.jsx(xI,{}):v.jsx(cr,{to:"/login"})}),v.jsx(Mn,{path:"/edit-profile",element:n?v.jsx(DI,{showAlert:d}):v.jsx(cr,{to:"/login"})}),v.jsx(Mn,{path:"/admin-login",element:a?v.jsx(cr,{to:"/admin"}):v.jsx(VI,{showAlert:d})}),v.jsx(Mn,{path:"/admin",element:a?v.jsx(II,{showAlert:d}):v.jsx(cr,{to:"/admin-login"})}),v.jsx(Mn,{path:"/admin-search",element:a?v.jsx(bm,{isAdmin:!0}):v.jsx(cr,{to:"/admin-login"})}),v.jsx(Mn,{path:"/create-admin",element:a?v.jsx(cr,{to:"/admin"}):v.jsx(jI,{showAlert:d})}),v.jsx(Mn,{path:"*",element:v.jsx("div",{children:"404 Not Found"})})]})]})]})};iw.createRoot(document.getElementById("root")).render(v.jsx(S.StrictMode,{children:v.jsxs(AI,{children:[" ",v.jsx(MI,{})]})}));
